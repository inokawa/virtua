import{m as we,k as ve,h as me,d as Re,D as Te,l as Se,p as Ce,c as ye}from"./web-DSIcfvkV.js";const T=null,{min:C,max:E,abs:fe,floor:Ae}=Math,K=setTimeout,ee=(e,t,s)=>C(s,E(t,e)),Me=e=>[...e].sort((t,s)=>t-s),Ne=e=>{const t=Me(e),s=e.length/2|0;return t.length%2===0?(t[s-1]+t[s])/2:t[s]},pe=typeof queueMicrotask=="function"?queueMicrotask:e=>{Promise.resolve().then(e)},De=(e,t)=>{let s;const r=()=>{s!=T&&clearTimeout(s)},i=()=>{r(),s=K(()=>{s=T,e()},t)};return i._cancel=r,i},te=e=>{let t,s;return()=>(t||(t=!0,s=e()),s)},A=-1,x=(e,t,s)=>{const r=s?"unshift":"push";for(let i=0;i<t;i++)e[r](A);return e},q=(e,t)=>{const s=e._sizes[t];return s===A?e._defaultItemSize:s},Ve=(e,t,s)=>{const r=e._sizes[t]===A;return e._sizes[t]=s,e._computedOffsetIndex=C(t,e._computedOffsetIndex),r},G=(e,t)=>{if(!e._length)return 0;if(e._computedOffsetIndex>=t)return e._offsets[t];e._computedOffsetIndex<0&&(e._offsets[0]=0,e._computedOffsetIndex=0);let s=e._computedOffsetIndex,r=e._offsets[s];for(;s<t;)r+=q(e,s),e._offsets[++s]=r;return e._computedOffsetIndex=t,r},ke=e=>e._length?G(e,e._length-1)+q(e,e._length-1):0,R=(e,t,s=0,r=e._length-1)=>{for(;s<=r;){const i=Ae((s+r)/2),_=G(e,i);if(_<=t){if(_+q(e,i)>t)return i;s=i+1}else r=i-1}return ee(s,0,e._length-1)},Je=(e,t,s,r)=>{if(r=C(r,e._length-1),G(e,r)<=t){const i=R(e,t+s,r);return[R(e,t,r,i),i]}else{const i=R(e,t,void 0,r);return[i,R(e,t+s,i)]}},Ue=(e,t)=>{let s=0;const r=e._sizes.filter((_,a)=>{const o=_!==A;return o&&a<t&&s++,o}),i=e._defaultItemSize;return e._computedOffsetIndex=-1,((e._defaultItemSize=Ne(r))-i)*E(t-s,0)},We=(e,t,s)=>({_defaultItemSize:t,_sizes:x([],e),_length:e,_computedOffsetIndex:-1,_offsets:x([],e)}),Pe=e=>[e._sizes.slice(),e._defaultItemSize],_e=(e,t,s)=>{const r=t-e._length;return e._computedOffsetIndex=s?-1:C(t-1,e._computedOffsetIndex),e._length=t,r>0?(x(e._offsets,r),x(e._sizes,r,s),e._defaultItemSize*r):(e._offsets.splice(r),(s?e._sizes.splice(0,-r):e._sizes.splice(r)).reduce((i,_)=>i-(_===A?e._defaultItemSize:_),0))},Fe=typeof window<"u",ge=()=>document.documentElement,V=e=>e.ownerDocument,k=e=>e.defaultView,se=te(()=>Fe?getComputedStyle(ge()).direction==="rtl":!1),Ie=te(()=>/iP(hone|od|ad)/.test(navigator.userAgent)),be=te(()=>"scrollBehavior"in ge().style),M=0,de=1,ae=2,B=0,Be=1,j=2,H=1,Oe=2,ne=3,re=4,Ke=5,he=6,oe=7,ie=8,N=1,Y=2,xe=4,Ye=8,Ge=e=>E(e._getTotalSize(),e._getViewportSize()),ze=e=>!!e._getViewportSize(),Xe=(e,t=40,s=4,r=0,i,_=!1)=>{let a=!!r,o=[],n=0,c=0,f=0,l=0,u=0,d=0,I=0,b=M,O=B,S=a?[0,E(r-1,0)]:T,w=[0,0],ce=0;const p=We(e,t),X=new Set,J=()=>f-c,U=()=>J()+d+u,le=m=>Je(p,m,n,w[0]),Z=()=>ke(p),ue=m=>G(p,m)-d,W=m=>q(p,m),$=m=>{m&&(Ie()&&b!==M?d+=m:(u+=m,l++))};return{_getStateVersion:()=>o,_getCacheSnapshot:()=>Pe(p),_getRange:()=>{if(I)return w;let[m,g]=le(E(0,U()));return S&&(m=C(m,S[0]),g=E(g,S[1])),b!==de&&(m-=E(0,s)),b!==ae&&(g+=E(0,s)),w=[E(m,0),C(g,p._length-1)]},_findStartIndex:()=>R(p,U()),_findEndIndex:()=>R(p,U()+n),_isUnmeasuredItem:m=>p._sizes[m]===A,_hasUnmeasuredItemsInFrozenRange:()=>S?p._sizes.slice(E(0,S[0]-1),C(p._length-1,S[1]+1)+1).includes(A):!1,_getItemOffset:ue,_getItemSize:W,_getItemsLength:()=>p._length,_getScrollOffset:()=>f,_isScrolling:()=>b!==M,_getViewportSize:()=>n,_getStartSpacerSize:()=>c,_getTotalSize:Z,_getJumpCount:()=>l,_flushJump:()=>(I=u,u=0,[I,O===j||J()+n>=Z()]),_subscribe:(m,g)=>{const D=[m,g];return X.add(D),()=>{X.delete(D)}},_update:(m,g)=>{let D,Q,L=0;switch(m){case H:{const v=I;I=0;const z=g-f,h=fe(z);!(v&&h<fe(v)+1)&&O===B&&(b=z<0?ae:de),a&&(S=T,a=!1),f=g,L=xe;const F=J();F>=-n&&F<=Z()&&(L+=N,Q=h>n);break}case Oe:{L=Ye,b!==M&&(D=!0,L+=N),b=M,O=B,S=T;break}case ne:{const v=g.filter(([z,h])=>p._sizes[z]!==h);if(!v.length)break;$(v.reduce((z,[h,P])=>((O===j||(S?h<S[0]:ue(h)+(b===M&&O===B?W(h):0)<J()))&&(z+=P-W(h)),z),0));for(const[z,h]of v){const P=W(z),F=Ve(p,z,h);_&&(ce+=F?h:h-P)}_&&n&&ce>n&&($(Ue(p,R(p,U()))),_=!1),L=N+Y,Q=!0;break}case re:{n!==g&&(n=g,L=N+Y);break}case Ke:{g[1]?($(_e(p,g[0],!0)),O=j,L=N):_e(p,g[0]);break}case he:{c=g;break}case oe:{O=Be;break}case ie:{S=le(g),L=N;break}}L&&(o=[],D&&d&&(u+=d,d=0,l++),X.forEach(([v,z])=>{L&v&&z(Q)}))}}},Le=e=>{let t;return{_observe(s){(t||(t=new(k(V(s))).ResizeObserver(e))).observe(s)},_unobserve(s){t.unobserve(s)},_dispose(){t&&t.disconnect()}}},Ze=(e,t)=>{let s;const r=t?"width":"height",i=new WeakMap,_=Le(a=>{const o=[];for(const{target:n,contentRect:c}of a)if(n.offsetParent)if(n===s)e._update(re,c[r]);else{const f=i.get(n);f!=T&&o.push([f,c[r]])}o.length&&e._update(ne,o)});return{_observeRoot(a){_._observe(s=a)},_observeItem:(a,o)=>(i.set(a,o),_._observe(a),()=>{i.delete(a),_._unobserve(a)}),_dispose:_._dispose}},$e=(e,t)=>{const s=t?"width":"height",r=t?"innerWidth":"innerHeight",i=new WeakMap,_=Le(o=>{const n=[];for(const{target:c,contentRect:f}of o){if(!c.offsetParent)continue;const l=i.get(c);l!=T&&n.push([l,f[s]])}n.length&&e._update(ne,n)});let a;return{_observeRoot(o){const n=k(V(o)),c=()=>{e._update(re,n[r])};n.addEventListener("resize",c),c(),a=()=>{n.removeEventListener("resize",c)}},_observeItem:(o,n)=>(i.set(o,n),_._observe(o),()=>{i.delete(o),_._unobserve(o)}),_dispose(){a&&a(),_._dispose()}}},y=(e,t)=>t&&se()?-e:e,Ee=(e,t,s,r,i,_)=>{const a=Date.now;let o=0,n=!1,c=!1,f=!1,l=!1;const u=De(()=>{if(n||c){n=!1,u();return}f=!1,e._update(Oe)},150),d=()=>{o=a(),f&&(l=!0),_&&e._update(he,_()),e._update(H,r()),u()},I=S=>{if(n||!e._isScrolling()||S.ctrlKey)return;const w=a()-o;150>w&&50<w&&(s?S.deltaX:S.deltaY)&&(n=!0)},b=()=>{c=!0,f=l=!1},O=()=>{c=!1,Ie()&&(f=!0)};return t.addEventListener("scroll",d),t.addEventListener("wheel",I,{passive:!0}),t.addEventListener("touchstart",b,{passive:!0}),t.addEventListener("touchend",O,{passive:!0}),{_dispose:()=>{t.removeEventListener("scroll",d),t.removeEventListener("wheel",I),t.removeEventListener("touchstart",b),t.removeEventListener("touchend",O),u._cancel()},_fixScrollJump:()=>{const[S,w]=e._flushJump();S&&(i(y(S,s),w,l),l=!1,w&&e._getViewportSize()>e._getTotalSize()&&e._update(H,r()))}}},Qe=(e,t)=>{let s,r,i;const _=t?"scrollLeft":"scrollTop",a=t?"overflowX":"overflowY",o=async(n,c)=>{if(!s){pe(()=>o(n,c));return}i&&i();const f=()=>{let l;return[new Promise((u,d)=>{l=u,i=d,ze(e)&&K(d,150)}),e._subscribe(Y,()=>{l&&l()})]};if(c&&be()){for(;e._update(ie,n()),!!e._hasUnmeasuredItemsInFrozenRange();){const[l,u]=f();try{await l}catch{return}finally{u()}}s.scrollTo({[t?"left":"top"]:y(n(),t),behavior:"smooth"})}else for(;;){const[l,u]=f();try{s[_]=y(n(),t),e._update(oe),await l}catch{return}finally{u()}}};return{_observe(n){s=n,r=Ee(e,n,t,()=>y(n[_],t),(c,f,l)=>{if(l){const u=n.style,d=u[a];u[a]="hidden",K(()=>{u[a]=d})}f?(n[_]=e._getScrollOffset()+c,i&&i()):n[_]+=c})},_dispose(){r&&r._dispose()},_scrollTo(n){o(()=>n)},_scrollBy(n){n+=e._getScrollOffset(),o(()=>n)},_scrollToIndex(n,{align:c,smooth:f,offset:l=0}={}){if(n=ee(n,0,e._getItemsLength()-1),c==="nearest"){const u=e._getItemOffset(n),d=e._getScrollOffset();if(u<d)c="start";else if(u+e._getItemSize(n)>d+e._getViewportSize())c="end";else return}o(()=>l+e._getStartSpacerSize()+e._getItemOffset(n)+(c==="end"?e._getItemSize(n)-e._getViewportSize():c==="center"?(e._getItemSize(n)-e._getViewportSize())/2:0),f)},_fixScrollJump:()=>{r&&r._fixScrollJump()}}},je=(e,t)=>{let s,r,i;const _=(o,n,c,f,l=0)=>{const u=f?"offsetLeft":"offsetTop",d=l+(f&&se()?c.innerWidth-o[u]-o.offsetWidth:o[u]),I=o.offsetParent;return o===n||!I?d:_(I,n,c,f,d)},a=async(o,n)=>{if(!s){pe(()=>a(o,n));return}i&&i();const c=()=>{let l;return[new Promise((u,d)=>{l=u,i=d,ze(e)&&K(d,150)}),e._subscribe(Y,()=>{l&&l()})]},f=k(V(s));if(n&&be()){for(;e._update(ie,o()),!!e._hasUnmeasuredItemsInFrozenRange();){const[l,u]=c();try{await l}catch{return}finally{u()}}f.scroll({[t?"left":"top"]:y(o(),t),behavior:"smooth"})}else for(;;){const[l,u]=c();try{f.scroll({[t?"left":"top"]:y(o(),t)}),e._update(oe),await l}catch{return}finally{u()}}};return{_observe(o){s=o;const n=t?"scrollX":"scrollY",c=V(o),f=k(c),l=c.body;r=Ee(e,f,t,()=>y(f[n],t),(u,d)=>{d?f.scroll({[t?"left":"top"]:e._getScrollOffset()+u}):f.scrollBy(t?u:0,t?0:u)},()=>_(o,l,f,t))},_dispose(){r&&r._dispose(),s=void 0},_fixScrollJump:()=>{r&&r._fixScrollJump()},_scrollToIndex(o,{align:n,smooth:c,offset:f=0}={}){if(!s)return;if(o=ee(o,0,e._getItemsLength()-1),n==="nearest"){const d=e._getItemOffset(o),I=e._getScrollOffset();if(d<I)n="start";else if(d+e._getItemSize(o)>I+e._getViewportSize())n="end";else return}const l=V(s),u=k(l);a(()=>{const d=_(s,l.body,u,t),I=u.innerHeight-l.documentElement.clientHeight,b=u.innerHeight-l.documentElement.clientWidth,O=n==="end"||n==="center"?t?b:I:0;return f+d+e._getItemOffset(o)+(n==="end"?e._getItemSize(o)-(e._getViewportSize()-O):n==="center"?(e._getItemSize(o)-(e._getViewportSize()-O))/2:0)},c)}}},He=e=>{let t;e=we({_as:"div"},e),ve(()=>{t&&Se(e._resizer(t,e._index))});const s=me(()=>{const r=e._isHorizontal,i={position:"absolute",[r?"height":"width"]:"100%",[r?"top":"left"]:"0px",[r?se()?"right":"left":"top"]:e._offset+"px",visibility:e._hide?"hidden":"visible"};return r&&(i.display="flex"),i});return Re(Te,{get component(){return e._as},ref(r){var i=t;typeof i=="function"?i(r):t=r},get style(){return s()},get children(){return e._children}})},et=e=>{let t=new Map;return Se(()=>{for(const s of t.values())s._dispose()}),me(()=>{const s=e._each,[r,i]=e._range,_=new Map,a=[];for(let o=r;o<=i;o++){const n=s[o],c=t.get(o);a.push(c?c._element:Ce(f=>{const l=ye(n),u=e._render(l[0],o);return _.set(o,{_data:l,_element:u,_dispose:f}),u})),c&&(n!==c._data&&c._data[1](n),_.set(o,c))}for(const[o,n]of t.entries())_.has(o)||n._dispose();return t=_,a})},tt=(e,t)=>e[0]===t[0]&&e[1]===t[1];export{Ke as A,He as L,et as R,N as U,xe as a,Ye as b,Xe as c,Ze as d,Qe as e,he as f,Ge as g,$e as h,tt as i,je as j};
