import{m as Le,k as Ee,h as _e,d as he,D as Re,l as ae,p as Te,c as ve}from"./web-DSIcfvkV.js";const w=null,{min:C,max:h,abs:le,floor:we}=Math,Z=setTimeout,de=(e,t,s)=>C(s,h(t,e)),Ce=e=>[...e].sort((t,s)=>t-s),Ae=e=>{const t=Ce(e),s=e.length/2|0;return t.length%2===0?(t[s-1]+t[s])/2:t[s]},ye=typeof queueMicrotask=="function"?queueMicrotask:e=>{Promise.resolve().then(e)},Ne=(e,t)=>{let s;const r=()=>{s!=w&&clearTimeout(s)},o=()=>{r(),s=Z(()=>{s=w,e()},t)};return o._cancel=r,o},j=e=>{let t,s;return()=>(t||(t=!0,s=e()),s)},A=-1,x=(e,t,s)=>{const r=s?"unshift":"push";for(let o=0;o<t;o++)e[r](A);return e},B=(e,t)=>{const s=e._sizes[t];return s===A?e._defaultItemSize:s},De=(e,t,s)=>{const r=e._sizes[t]===A;return e._sizes[t]=s,e._computedOffsetIndex=C(t,e._computedOffsetIndex),r},F=(e,t)=>{if(!e._length)return 0;if(e._computedOffsetIndex>=t)return e._offsets[t];e._computedOffsetIndex<0&&(e._offsets[0]=0,e._computedOffsetIndex=0);let s=e._computedOffsetIndex,r=e._offsets[s];for(;s<t;)r+=B(e,s),e._offsets[++s]=r;return e._computedOffsetIndex=t,r},Me=e=>e._length?F(e,e._length-1)+B(e,e._length-1):0,v=(e,t,s=0,r=e._length-1)=>{for(;s<=r;){const o=we((s+r)/2),c=F(e,o);if(c<=t){if(c+B(e,o)>t)return o;s=o+1}else r=o-1}return de(s,0,e._length-1)},ke=(e,t,s,r)=>{if(r=C(r,e._length-1),F(e,r)<=t){const o=v(e,t+s,r);return[v(e,t,r,o),o]}else{const o=v(e,t,void 0,r);return[o,v(e,t+s,o)]}},Ve=(e,t)=>{let s=0;const r=e._sizes.filter((c,u)=>{const l=c!==A;return l&&u<t&&s++,l}),o=e._defaultItemSize;return e._computedOffsetIndex=-1,((e._defaultItemSize=Ae(r))-o)*h(t-s,0)},Je=(e,t,s)=>({_defaultItemSize:t,_sizes:x([],e),_length:e,_computedOffsetIndex:-1,_offsets:x([],e)}),Ue=e=>[e._sizes.slice(),e._defaultItemSize],ce=(e,t,s)=>{const r=t-e._length;return e._computedOffsetIndex=s?-1:C(t-1,e._computedOffsetIndex),e._length=t,r>0?(x(e._offsets,r),x(e._sizes,r,s),e._defaultItemSize*r):(e._offsets.splice(r),(s?e._sizes.splice(0,-r):e._sizes.splice(r)).reduce((o,c)=>o-(c===A?e._defaultItemSize:c),0))},Pe=typeof window<"u",me=()=>document.documentElement,H=e=>e.ownerDocument,ee=e=>e.defaultView,te=j(()=>Pe?getComputedStyle(me()).direction==="rtl":!1),Se=j(()=>/iP(hone|od|ad)/.test(navigator.userAgent)),We=j(()=>"scrollBehavior"in me().style),y=0,ue=1,fe=2,W=0,xe=1,X=2,$=1,ge=2,se=3,ne=4,Be=5,pe=6,Ie=7,Oe=8,N=1,Q=2,Fe=4,Ke=8,Ge=e=>h(e._getTotalSize(),e._getViewportSize()),Ye=e=>!!e._getViewportSize(),Xe=(e,t=40,s=4,r=0,o,c=!1)=>{let u=!!r,l=[],n=0,i=0,_=0,f=0,a=0,d=0,z=0,I=y,L=W,S=u?[0,h(r-1,0)]:w,R=[0,0],re=0;const g=Je(e,t),K=new Set,k=()=>_-i,V=()=>k()+d+a,oe=m=>ke(g,m,n,R[0]),Y=()=>Me(g),ie=m=>F(g,m)-d,J=m=>B(g,m),q=m=>{m&&(Se()&&I!==y?d+=m:(a+=m,f++))};return{_getStateVersion:()=>l,_getCacheSnapshot:()=>Ue(g),_getRange:()=>{if(z)return R;let[m,p]=oe(h(0,V()));return S&&(m=C(m,S[0]),p=h(p,S[1])),I!==ue&&(m-=h(0,s)),I!==fe&&(p+=h(0,s)),R=[h(m,0),C(p,g._length-1)]},_getStartIndex:()=>v(g,V()),_getEndIndex:()=>v(g,V()+n),_isUnmeasuredItem:m=>g._sizes[m]===A,_hasUnmeasuredItemsInFrozenRange:()=>S?g._sizes.slice(h(0,S[0]-1),C(g._length-1,S[1]+1)+1).includes(A):!1,_getItemOffset:ie,_getItemSize:J,_getItemsLength:()=>g._length,_getScrollOffset:()=>_,_isScrolling:()=>I!==y,_getViewportSize:()=>n,_getStartSpacerSize:()=>i,_getTotalSize:Y,_getJumpCount:()=>f,_flushJump:()=>(z=a,a=0,[z,L===X||k()+n>=Y()]),_subscribe:(m,p)=>{const D=[m,p];return K.add(D),()=>{K.delete(D)}},_update:(m,p)=>{let D,G,E=0;switch(m){case $:{const T=z;z=0;const b=p-_,O=le(b);!(T&&O<le(T)+1)&&L===W&&(I=b<0?fe:ue),u&&(S=w,u=!1),_=p,E=Fe;const P=k();P>=-n&&P<=Y()&&(E+=N,G=O>n);break}case ge:{E=Ke,I!==y&&(D=!0,E+=N),I=y,L=W,S=w;break}case se:{const T=p.filter(([b,O])=>g._sizes[b]!==O);if(!T.length)break;q(T.reduce((b,[O,U])=>((L===X||(S?O<S[0]:ie(O)+(I===y&&L===W?J(O):0)<k()))&&(b+=U-J(O)),b),0));for(const[b,O]of T){const U=J(b),P=De(g,b,O);c&&(re+=P?O:O-U)}c&&n&&re>n&&(q(Ve(g,v(g,V()))),c=!1),E=N+Q,G=!0;break}case ne:{n!==p&&(n=p,E=N+Q);break}case Be:{p[1]?(q(ce(g,p[0],!0)),L=X,E=N):ce(g,p[0]);break}case pe:{i=p;break}case Ie:{L=xe;break}case Oe:{S=oe(p),E=N;break}}E&&(l=[],D&&d&&(a+=d,d=0,f++),K.forEach(([T,b])=>{E&T&&b(G)}))}}},be=e=>{let t;return{_observe(s){(t||(t=new(ee(H(s))).ResizeObserver(e))).observe(s)},_unobserve(s){t.unobserve(s)},_dispose(){t&&t.disconnect()}}},Ze=(e,t)=>{let s;const r=t?"width":"height",o=new WeakMap,c=be(u=>{const l=[];for(const{target:n,contentRect:i}of u)if(n.offsetParent)if(n===s)e._update(ne,i[r]);else{const _=o.get(n);_!=w&&l.push([_,i[r]])}l.length&&e._update(se,l)});return{_observeRoot(u){c._observe(s=u)},_observeItem:(u,l)=>(o.set(u,l),c._observe(u),()=>{o.delete(u),c._unobserve(u)}),_dispose:c._dispose}},$e=(e,t)=>{const s=t?"width":"height",r=t?"innerWidth":"innerHeight",o=new WeakMap,c=be(l=>{const n=[];for(const{target:i,contentRect:_}of l){if(!i.offsetParent)continue;const f=o.get(i);f!=w&&n.push([f,_[s]])}n.length&&e._update(se,n)});let u;return{_observeRoot(l){const n=ee(H(l)),i=()=>{e._update(ne,n[r])};n.addEventListener("resize",i),i(),u=()=>{n.removeEventListener("resize",i)}},_observeItem:(l,n)=>(o.set(l,n),c._observe(l),()=>{o.delete(l),c._unobserve(l)}),_dispose(){u&&u(),c._dispose()}}},M=(e,t)=>t&&te()?-e:e,ze=(e,t,s,r,o,c)=>{const u=Date.now;let l=0,n=!1,i=!1,_=!1,f=!1;const a=Ne(()=>{if(n||i){n=!1,a();return}_=!1,e._update(ge)},150),d=()=>{l=u(),_&&(f=!0),c&&e._update(pe,c()),e._update($,r()),a()},z=S=>{if(n||!e._isScrolling()||S.ctrlKey)return;const R=u()-l;150>R&&50<R&&(s?S.deltaX:S.deltaY)&&(n=!0)},I=()=>{i=!0,_=f=!1},L=()=>{i=!1,Se()&&(_=!0)};return t.addEventListener("scroll",d),t.addEventListener("wheel",z,{passive:!0}),t.addEventListener("touchstart",I,{passive:!0}),t.addEventListener("touchend",L,{passive:!0}),{_dispose:()=>{t.removeEventListener("scroll",d),t.removeEventListener("wheel",z),t.removeEventListener("touchstart",I),t.removeEventListener("touchend",L),a._cancel()},_fixScrollJump:()=>{const[S,R]=e._flushJump();S&&(o(M(S,s),R,f),f=!1,R&&e._getViewportSize()>e._getTotalSize()&&e._update($,r()))}}},Qe=(e,t)=>{let s,r,o;const c=t?"scrollLeft":"scrollTop",u=t?"overflowX":"overflowY",l=async(n,i)=>{if(!s){ye(()=>l(n,i));return}o&&o();const _=()=>{let f;return[new Promise((a,d)=>{f=a,o=d,Ye(e)&&Z(d,150)}),e._subscribe(Q,()=>{f&&f()})]};if(i&&We()){for(;e._update(Oe,n()),!!e._hasUnmeasuredItemsInFrozenRange();){const[f,a]=_();try{await f}catch{return}finally{a()}}s.scrollTo({[t?"left":"top"]:M(n(),t),behavior:"smooth"})}else for(;;){const[f,a]=_();try{s[c]=M(n(),t),e._update(Ie),await f}catch{return}finally{a()}}};return{_observe(n){s=n,r=ze(e,n,t,()=>M(n[c],t),(i,_,f)=>{if(f){const a=n.style,d=a[u];a[u]="hidden",Z(()=>{a[u]=d})}_?(n[c]=e._getScrollOffset()+i,o&&o()):n[c]+=i})},_dispose(){r&&r._dispose()},_scrollTo(n){l(()=>n)},_scrollBy(n){n+=e._getScrollOffset(),l(()=>n)},_scrollToIndex(n,{align:i,smooth:_,offset:f=0}={}){if(n=de(n,0,e._getItemsLength()-1),i==="nearest"){const a=e._getItemOffset(n),d=e._getScrollOffset();if(a<d)i="start";else if(a+e._getItemSize(n)>d+e._getViewportSize())i="end";else return}l(()=>f+e._getStartSpacerSize()+e._getItemOffset(n)+(i==="end"?e._getItemSize(n)-e._getViewportSize():i==="center"?(e._getItemSize(n)-e._getViewportSize())/2:0),_)},_fixScrollJump:()=>{r&&r._fixScrollJump()}}},je=(e,t)=>{let s;return{_observe(r){const o=t?"scrollX":"scrollY",c=H(r),u=ee(c),l=c.body,n=(i,_,f,a=0)=>{const d=f?"offsetLeft":"offsetTop",z=a+(f&&te()?u.innerWidth-i[d]-i.offsetWidth:i[d]),I=i.offsetParent;return i===_||!I?z:n(I,_,f,z)};s=ze(e,u,t,()=>M(u[o],t),(i,_)=>{_?u.scroll({[t?"left":"top"]:e._getScrollOffset()+i}):u.scrollBy(t?i:0,t?0:i)},()=>n(r,l,t))},_dispose(){s&&s._dispose()},_fixScrollJump:()=>{s&&s._fixScrollJump()}}},He=e=>{let t;e=Le({_as:"div"},e),Ee(()=>{t&&ae(e._resizer(t,e._index))});const s=_e(()=>{const r=e._isHorizontal,o={position:"absolute",[r?"height":"width"]:"100%",[r?"top":"left"]:"0px",[r?te()?"right":"left":"top"]:e._offset+"px",visibility:e._hide?"hidden":"visible"};return r&&(o.display="flex"),o});return he(Re,{get component(){return e._as},ref(r){var o=t;typeof o=="function"?o(r):t=r},get style(){return s()},get children(){return e._children}})},et=e=>{let t=new Map;return ae(()=>{for(const s of t.values())s._dispose()}),_e(()=>{const s=e._each,[r,o]=e._range,c=new Map,u=[];for(let l=r;l<=o;l++){const n=s[l],i=t.get(l);u.push(i?i._element:Te(_=>{const f=ve(n),a=e._render(f[0],l);return c.set(l,{_data:f,_element:a,_dispose:_}),a})),i&&(n!==i._data&&i._data[1](n),c.set(l,i))}for(const[l,n]of t.entries())c.has(l)||n._dispose();return t=c,u})},tt=(e,t)=>e[0]===t[0]&&e[1]===t[1];export{Be as A,He as L,et as R,N as U,Fe as a,Ke as b,Xe as c,Ze as d,Qe as e,pe as f,Ge as g,$e as h,tt as i,je as j};
