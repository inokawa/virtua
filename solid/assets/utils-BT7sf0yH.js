import{m as Ee,k as we,h as _e,d as ve,D as Re,l as Se,p as Te,c as Ce}from"./web-DSIcfvkV.js";const T=null,{min:C,max:L,abs:fe,floor:ye}=Math,ee=(e,t,n)=>C(n,L(t,e)),Ae=e=>[...e].sort((t,n)=>t-n),pe=typeof queueMicrotask=="function"?queueMicrotask:e=>{Promise.resolve().then(e)},te=e=>{let t,n;return()=>(t||(t=!0,n=e()),n)},A=-1,B=(e,t,n)=>{const r=n?"unshift":"push";for(let i=0;i<t;i++)e[r](A);return e},Y=(e,t)=>{const n=e._sizes[t];return n===A?e._defaultItemSize:n},Ne=(e,t,n)=>{const r=e._sizes[t]===A;return e._sizes[t]=n,e._computedOffsetIndex=C(t,e._computedOffsetIndex),r},q=(e,t)=>{if(!e._length)return 0;if(e._computedOffsetIndex>=t)return e._offsets[t];e._computedOffsetIndex<0&&(e._offsets[0]=0,e._computedOffsetIndex=0);let n=e._computedOffsetIndex,r=e._offsets[n];for(;n<t;)r+=Y(e,n),e._offsets[++n]=r;return e._computedOffsetIndex=t,r},Ve=e=>e._length?q(e,e._length-1)+Y(e,e._length-1):0,R=(e,t,n=0,r=e._length-1)=>{for(;n<=r;){const i=ye((n+r)/2),a=q(e,i);if(a<=t){if(a+Y(e,i)>t)return i;n=i+1}else r=i-1}return ee(n,0,e._length-1)},De=(e,t,n,r)=>{if(r=C(r,e._length-1),q(e,r)<=t){const i=R(e,t+n,r);return[R(e,t,r,i),i]}else{const i=R(e,t,void 0,r);return[i,R(e,t+n,i)]}},Me=(e,t)=>{let n=0;const r=[];e._sizes.forEach((l,u)=>{l!==A&&(r.push(l),u<t&&n++)}),e._computedOffsetIndex=-1;const i=Ae(r),a=i.length,d=a/2|0,o=a%2===0?(i[d-1]+i[d])/2:i[d],s=e._defaultItemSize;return((e._defaultItemSize=o)-s)*L(t-n,0)},ke=(e,t,n)=>({_defaultItemSize:t,_sizes:B([],e),_length:e,_computedOffsetIndex:-1,_offsets:B([],e)}),Je=e=>[e._sizes.slice(),e._defaultItemSize],ae=(e,t,n)=>{const r=t-e._length;return e._computedOffsetIndex=n?-1:C(t-1,e._computedOffsetIndex),e._length=t,r>0?(B(e._offsets,r),B(e._sizes,r,n),e._defaultItemSize*r):(e._offsets.splice(r),(n?e._sizes.splice(0,-r):e._sizes.splice(r)).reduce((i,a)=>i-(a===A?e._defaultItemSize:a),0))},Ue=typeof window<"u",ge=()=>document.documentElement,D=e=>e.ownerDocument,M=e=>e.defaultView,se=te(()=>Ue?getComputedStyle(ge()).direction==="rtl":!1),$e=te(()=>/iP(hone|od|ad)/.test(navigator.userAgent)),Ie=te(()=>"scrollBehavior"in ge().style),N=0,de=1,me=2,F=0,Pe=1,j=2,H=1,be=2,ne=3,re=4,We=5,Oe=6,oe=7,ie=8,v=1,K=2,Fe=4,Be=8,Ye=e=>L(e.$getTotalSize(),e.$getViewportSize()),he=e=>!!e.$getViewportSize(),qe=(e,t=40,n=4,r=0,i,a=!1)=>{let d=!!r,o=[],s=0,l=0,u=0,c=0,f=0,m=0,$=0,I=N,b=F,p=d?[0,L(r-1,0)]:T,E=[0,0],le=0;const g=ke(e,t),G=new Set,k=()=>u-l,J=()=>k()+m+f,ce=_=>De(g,_,s,E[0]),X=()=>Ve(g),ue=_=>q(g,_)-m,U=_=>Y(g,_),Z=_=>{_&&($e()&&I!==N?m+=_:(f+=_,c++))};return{$getStateVersion:()=>o,$getCacheSnapshot:()=>Je(g),$getRange:()=>{let _,S;return $?[_,S]=E:([_,S]=E=ce(L(0,J())),p&&(_=C(_,p[0]),S=L(S,p[1]))),I!==de&&(_-=L(0,n)),I!==me&&(S+=L(0,n)),[L(_,0),C(S,g._length-1)]},$findStartIndex:()=>R(g,J()),$findEndIndex:()=>R(g,J()+s),$isUnmeasuredItem:_=>g._sizes[_]===A,_hasUnmeasuredItemsInFrozenRange:()=>p?g._sizes.slice(L(0,p[0]-1),C(g._length-1,p[1]+1)+1).includes(A):!1,$getItemOffset:ue,$getItemSize:U,$getItemsLength:()=>g._length,$getScrollOffset:()=>u,$isScrolling:()=>I!==N,$getViewportSize:()=>s,$getStartSpacerSize:()=>l,$getTotalSize:X,$getJumpCount:()=>c,_flushJump:()=>($=f,f=0,[$,b===j||k()+s>=X()]),$subscribe:(_,S)=>{const V=[_,S];return G.add(V),()=>{G.delete(V)}},$update:(_,S)=>{let V,Q,z=0;switch(_){case H:{const w=$;$=0;const h=S-u,O=fe(h);!(w&&O<fe(w)+1)&&b===F&&(I=h<0?me:de),d&&(p=T,d=!1),u=S,z=Fe;const W=k();W>=-s&&W<=X()&&(z+=v,Q=O>s);break}case be:{z=Be,I!==N&&(V=!0,z+=v),I=N,b=F,p=T;break}case ne:{const w=S.filter(([h,O])=>g._sizes[h]!==O);if(!w.length)break;Z(w.reduce((h,[O,P])=>((b===j||(p?!d&&O<p[0]:ue(O)+(I===N&&b===F?U(O):0)<k()))&&(h+=P-U(O)),h),0));for(const[h,O]of w){const P=U(h),W=Ne(g,h,O);a&&(le+=W?O:O-P)}a&&s&&le>s&&(Z(Me(g,R(g,J()))),a=!1),z=v+K,Q=!0;break}case re:{s!==S&&(s=S,z=v+K);break}case We:{S[1]?(Z(ae(g,S[0],!0)),b=j,z=v):(ae(g,S[0]),z=v);break}case Oe:{l=S;break}case oe:{b=Pe;break}case ie:{p=ce(S),z=v;break}}z&&(o=[],V&&m&&(f+=m,m=0,c++),G.forEach(([w,h])=>{z&w&&h(Q)}))}}},x=setTimeout,Ke=(e,t)=>{let n;const r=()=>{n!=T&&clearTimeout(n)},i=()=>{r(),n=x(()=>{n=T,e()},t)};return i._cancel=r,i},y=(e,t)=>t&&se()?-e:e,ze=(e,t,n,r,i,a)=>{const d=Date.now;let o=0,s=!1,l=!1,u=!1,c=!1;const f=Ke(()=>{if(s||l){s=!1,f();return}u=!1,e.$update(be)},150),m=()=>{o=d(),u&&(c=!0),a&&e.$update(Oe,a()),e.$update(H,r()),f()},$=p=>{if(s||!e.$isScrolling()||p.ctrlKey)return;const E=d()-o;150>E&&50<E&&(n?p.deltaX:p.deltaY)&&(s=!0)},I=()=>{l=!0,u=c=!1},b=()=>{l=!1,$e()&&(u=!0)};return t.addEventListener("scroll",m),t.addEventListener("wheel",$,{passive:!0}),t.addEventListener("touchstart",I,{passive:!0}),t.addEventListener("touchend",b,{passive:!0}),{_dispose:()=>{t.removeEventListener("scroll",m),t.removeEventListener("wheel",$),t.removeEventListener("touchstart",I),t.removeEventListener("touchend",b),f._cancel()},_fixScrollJump:()=>{const[p,E]=e._flushJump();p&&(i(y(p,n),E,c),c=!1,E&&e.$getViewportSize()>e.$getTotalSize()&&e.$update(H,r()))}}},Ge=(e,t)=>{let n,r,i;const a=t?"scrollLeft":"scrollTop",d=t?"overflowX":"overflowY",o=async(s,l)=>{if(!n){pe(()=>o(s,l));return}i&&i();const u=()=>{let c;return[new Promise((f,m)=>{c=f,i=m,he(e)&&x(m,150)}),e.$subscribe(K,()=>{c&&c()})]};if(l&&Ie()){for(;e.$update(ie,s()),!!e._hasUnmeasuredItemsInFrozenRange();){const[c,f]=u();try{await c}catch{return}finally{f()}}n.scrollTo({[t?"left":"top"]:y(s(),t),behavior:"smooth"})}else for(;;){const[c,f]=u();try{n[a]=y(s(),t),e.$update(oe),await c}catch{return}finally{f()}}};return{$observe(s){n=s,r=ze(e,s,t,()=>y(s[a],t),(l,u,c)=>{if(c){const f=s.style,m=f[d];f[d]="hidden",x(()=>{f[d]=m})}u?(s[a]=e.$getScrollOffset()+l,i&&i()):s[a]+=l})},$dispose(){r&&r._dispose()},$scrollTo(s){o(()=>s)},$scrollBy(s){s+=e.$getScrollOffset(),o(()=>s)},$scrollToIndex(s,{align:l,smooth:u,offset:c=0}={}){if(s=ee(s,0,e.$getItemsLength()-1),l==="nearest"){const f=e.$getItemOffset(s),m=e.$getScrollOffset();if(f<m)l="start";else if(f+e.$getItemSize(s)>m+e.$getViewportSize())l="end";else return}o(()=>c+e.$getStartSpacerSize()+e.$getItemOffset(s)+(l==="end"?e.$getItemSize(s)-e.$getViewportSize():l==="center"?(e.$getItemSize(s)-e.$getViewportSize())/2:0),u)},$fixScrollJump:()=>{r&&r._fixScrollJump()}}},Xe=(e,t)=>{let n,r,i;const a=(o,s,l,u,c=0)=>{const f=u?"offsetLeft":"offsetTop",m=c+(u&&se()?l.innerWidth-o[f]-o.offsetWidth:o[f]),$=o.offsetParent;return o===s||!$?m:a($,s,l,u,m)},d=async(o,s)=>{if(!n){pe(()=>d(o,s));return}i&&i();const l=()=>{let c;return[new Promise((f,m)=>{c=f,i=m,he(e)&&x(m,150)}),e.$subscribe(K,()=>{c&&c()})]},u=M(D(n));if(s&&Ie()){for(;e.$update(ie,o()),!!e._hasUnmeasuredItemsInFrozenRange();){const[c,f]=l();try{await c}catch{return}finally{f()}}u.scroll({[t?"left":"top"]:y(o(),t),behavior:"smooth"})}else for(;;){const[c,f]=l();try{u.scroll({[t?"left":"top"]:y(o(),t)}),e.$update(oe),await c}catch{return}finally{f()}}};return{$observe(o){n=o;const s=t?"scrollX":"scrollY",l=D(o),u=M(l),c=l.body;r=ze(e,u,t,()=>y(u[s],t),(f,m)=>{m?u.scroll({[t?"left":"top"]:e.$getScrollOffset()+f}):u.scrollBy(t?f:0,t?0:f)},()=>a(o,c,u,t))},$dispose(){r&&r._dispose(),n=void 0},$fixScrollJump:()=>{r&&r._fixScrollJump()},$scrollToIndex(o,{align:s,smooth:l,offset:u=0}={}){if(!n)return;if(o=ee(o,0,e.$getItemsLength()-1),s==="nearest"){const I=e.$getItemOffset(o),b=e.$getScrollOffset();if(I<b)s="start";else if(I+e.$getItemSize(o)>b+e.$getViewportSize())s="end";else return}const c=D(n),f=M(c),m=c.documentElement,$=()=>e.$getViewportSize()-(t?m.clientWidth:m.clientHeight);d(()=>u+a(n,c.body,f,t)+e.$getItemOffset(o)+(s==="end"?e.$getItemSize(o)-(e.$getViewportSize()-$()):s==="center"?(e.$getItemSize(o)-(e.$getViewportSize()-$()))/2:0),l)}}},Le=e=>{let t;return{_observe(n){(t||(t=new(M(D(n))).ResizeObserver(e))).observe(n)},_unobserve(n){t.unobserve(n)},_dispose(){t&&t.disconnect()}}},Ze=(e,t)=>{let n;const r=t?"width":"height",i=new WeakMap,a=Le(d=>{const o=[];for(const{target:s,contentRect:l}of d)if(s.offsetParent)if(s===n)e.$update(re,l[r]);else{const u=i.get(s);u!=T&&o.push([u,l[r]])}o.length&&e.$update(ne,o)});return{$observeRoot(d){a._observe(n=d)},$observeItem:(d,o)=>(i.set(d,o),a._observe(d),()=>{i.delete(d),a._unobserve(d)}),$dispose:a._dispose}},Qe=(e,t)=>{const n=t?"width":"height",r=t?"innerWidth":"innerHeight",i=new WeakMap,a=Le(o=>{const s=[];for(const{target:l,contentRect:u}of o){if(!l.offsetParent)continue;const c=i.get(l);c!=T&&s.push([c,u[n]])}s.length&&e.$update(ne,s)});let d;return{$observeRoot(o){const s=M(D(o)),l=()=>{e.$update(re,s[r])};s.addEventListener("resize",l),l(),d=()=>{s.removeEventListener("resize",l)}},$observeItem:(o,s)=>(i.set(o,s),a._observe(o),()=>{i.delete(o),a._unobserve(o)}),$dispose(){d&&d(),a._dispose()}}},je=e=>{let t;e=Ee({_as:"div"},e),we(()=>{t&&Se(e._resizer(t,e._index))});const n=_e(()=>{const r=e._isHorizontal,i={position:"absolute",[r?"height":"width"]:"100%",[r?"top":"left"]:"0px",[r?se()?"right":"left":"top"]:e._offset+"px",visibility:e._hide?"hidden":"visible"};return r&&(i.display="flex"),i});return ve(Re,{get component(){return e._as},ref(r){var i=t;typeof i=="function"?i(r):t=r},get style(){return n()},get children(){return e._children}})},He=e=>{let t=new Map;return Se(()=>{for(const n of t.values())n._dispose()}),_e(()=>{const n=e._each,[r,i]=e._range,a=new Map,d=[];for(let o=r;o<=i;o++){const s=n[o],l=t.get(o);d.push(l?l._element:Te(u=>{const c=Ce(s),f=e._render(c[0],o);return a.set(o,{_data:c,_element:f,_dispose:u}),f})),l&&(s!==l._data&&l._data[1](s),a.set(o,l))}for(const[o,s]of t.entries())a.has(o)||s._dispose();return t=a,d})},et=(e,t)=>e[0]===t[0]&&e[1]===t[1];export{We as A,je as L,He as R,v as U,Fe as a,Be as b,qe as c,Ze as d,Ge as e,Oe as f,Ye as g,Qe as h,et as i,Xe as j};
