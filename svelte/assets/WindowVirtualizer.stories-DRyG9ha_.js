import{x as g,i as T,y as J,z as Y,f as w,j as L,a as _,b as D,s as I,m as B,d as O,g as e,A as r,n as E,e as k,k as Q}from"./iframe-DynPGLse.js";import{g as X,u as Z,v as $,U as ee,k as te,l as ie,o as ne,m as se,e as ae,b as re,q as oe,A as le,t as de,c as R,s as ce,L as ue,i as fe}from"./legacy-BVJH1ggz.js";import"./preload-helper-BQ24v_F8.js";var me=w("<div></div>");function x(b,t){O(t,!0);let p=g(t,"getKey",3,oe),v=g(t,"shift",3,!1),s=g(t,"horizontal",3,!1);const i=X(t.data.length,t.itemSize,t.overscan,void 0,void 0,!t.itemSize),c=Z(i,s()),o=$(i,s()),l=i.$subscribe(ee,()=>{T(n,i.$getStateVersion(),!0)}),u=i.$subscribe(te,()=>{t.onscroll&&t.onscroll()}),h=i.$subscribe(ie,()=>{t.onscrollend&&t.onscrollend()});let a=I(void 0),n=I(B(i.$getStateVersion())),N=r(()=>e(n)&&i.$getRange()),U=r(()=>e(n)&&i.$isScrolling()),S=r(()=>e(n)&&i.$getTotalSize());ne(()=>{c.$observeRoot(e(a)),o.$observe(e(a))}),se(()=>{l(),u(),h(),c.$dispose(),o.$dispose()}),J(()=>{t.data.length!==i.$getItemsLength()&&i.$update(le,[t.data.length,v()])});let z;Y(()=>{z!==e(n)&&(z=e(n),o.$fixScrollJump())});const K=i.$findStartIndex,q=i.$findEndIndex,G=o.$scrollToIndex;let P=r(()=>ce({contain:"strict","overflow-anchor":"none",overflow:"clip",flex:"none",position:"relative",width:s()?e(S)+"px":"100%",height:s()?"100%":e(S)+"px","pointer-events":e(U)?"none":void 0}));var j={findStartIndex:K,findEndIndex:q,scrollToIndex:G},f=me();return ae(f,21,()=>de(e(N)),d=>p()(t.data[d],d),(d,m)=>{const H=r(()=>t.data[e(m)]);{let M=r(()=>e(n)&&i.$getItemOffset(e(m))),F=r(()=>e(n)&&i.$isUnmeasuredItem(e(m)));ue(d,{get children(){return t.children},get item(){return e(H)},get index(){return e(m)},as:"div",get offset(){return e(M)},get hide(){return e(F)},get horizontal(){return s()},get resizer(){return c.$observeItem}})}}),re(f,d=>T(a,d),()=>e(a)),L(()=>R(f,e(P))),_(b,f),D(j)}x.__docgen={data:[{name:"data",visibility:"public",description:"The data items rendered by this component.",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"array",text:"T[]"},static:!1,readonly:!1},{name:"children",visibility:"public",description:"The elements renderer snippet.",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"function",text:"Snippet<[item: T, index: number]>"},static:!1,readonly:!1},{name:"getKey",visibility:"public",description:"Function that returns the key of an item in the list. It's recommended to specify whenever possible for performance.",keywords:[],kind:"let",type:{kind:"function",text:"(data: T, index: number) => string | number"},static:!1,readonly:!1,defaultValue:"function"},{name:"overscan",visibility:"public",description:"Number of items to render above/below the visible bounds of the list. You can increase to avoid showing blank items in fast scrolling.",keywords:[],kind:"let",type:{kind:"type",type:"number",text:"number"},static:!1,readonly:!1},{name:"itemSize",visibility:"public",description:`Item size hint for unmeasured items. It will help to reduce scroll jump when items are measured if used properly.

- If not set, initial item sizes will be automatically estimated from measured sizes. This is recommended for most cases.
- If set, you can opt out estimation and use the value as initial item size.`,keywords:[],kind:"let",type:{kind:"type",type:"number",text:"number"},static:!1,readonly:!1},{name:"shift",visibility:"public",description:"While true is set, scroll position will be maintained from the end not usual start when items are added to/removed from start. It's recommended to set false if you add to/remove from mid/end of the list because it can cause unexpected behavior. This prop is useful for reverse infinite scrolling.",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"horizontal",visibility:"public",description:"If true, rendered as a horizontally scrollable list. Otherwise rendered as a vertically scrollable list.",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"onscroll",visibility:"public",description:"Callback invoked whenever scroll offset changes.",keywords:[],kind:"let",type:{kind:"function",text:"() => void"},static:!1,readonly:!1},{name:"onscrollend",visibility:"public",description:"Callback invoked when scrolling stops.",keywords:[],kind:"let",type:{kind:"function",text:"() => void"},static:!1,readonly:!1}],name:"WindowVirtualizer.svelte"};var ye=w("<div> </div>"),be=w('<div style="padding: 200px 100px;"><div style="border: solid 1px gray;"><!></div></div>');function W(b,t){O(t,!1);const p=[20,40,180,77],v=Array.from({length:1e3}).map((o,l)=>p[l%4]);fe();var s=be(),i=k(s),c=k(i);x(c,{get data(){return v},getKey:(l,u)=>u,children:(l,u=E,h=E)=>{var a=ye(),n=k(a);L(()=>{R(a,`
            height: ${u()??""}px;
            background: white;
            border-bottom: solid 1px #ccc;
          `),Q(n,h())}),_(l,a)},$$slots:{default:!0}}),_(b,s),D()}W.__docgen={data:[],name:"WindowVirtualizer.svelte"};const ge={component:x},y={render:()=>({Component:W})};var V,A,C;y.parameters={...y.parameters,docs:{...(V=y.parameters)==null?void 0:V.docs,source:{originalSource:`{
  render: () => ({
    Component: DefaultComponent
  })
}`,...(C=(A=y.parameters)==null?void 0:A.docs)==null?void 0:C.source}}};const ke=["Default"];export{y as Default,ke as __namedExportsOrder,ge as default};
