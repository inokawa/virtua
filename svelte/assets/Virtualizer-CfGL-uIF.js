import{x as c,i as T,y as I,z as W,v,w as E,a as b,b as X,d as Y,s as y,m as Z,g as s,t as $,A as r}from"./iframe-BkOG3F6x.js";import{g as p,h as ee,j as te,U as se,k as ne,l as re,o as ae,m as ie,n as oe,p as le,q as ce,A as fe,r as ge,b as de,a as Se,e as ue,t as me,s as he,L as ze}from"./legacy-CqkWjV-M.js";function Ie(A,t){Y(t,!0);let R=c(t,"getKey",3,ce),V=c(t,"as",3,"div"),x=c(t,"shift",3,!1),o=c(t,"horizontal",3,!1),u=c(t,"startMargin",3,0);const e=p(t.data.length,t.itemSize,void 0,void 0,!t.itemSize),d=ee(e,o()),a=te(e,o());e.$subscribe(se,()=>{T(n,e.$getStateVersion(),!0)}),e.$subscribe(ne,()=>{t.onscroll&&t.onscroll(e.$getScrollOffset())}),e.$subscribe(re,()=>{t.onscrollend&&t.onscrollend()});let S=y(void 0),n=y(Z(e.$getStateVersion())),O=r(()=>s(n)&&e.$getRange(t.bufferSize)),L=r(()=>s(n)&&e.$isScrolling()),m=r(()=>s(n)&&e.$getTotalSize());ae(()=>{const l=f=>{d.$observeRoot(f),a.$observe(f)};$().then(()=>{t.scrollRef?l(t.scrollRef):l(s(S).parentElement)})}),ie(()=>{e.$dispose(),d.$dispose(),a.$dispose()}),I(()=>{t.data.length!==e.$getItemsLength()&&e.$update(fe,[t.data.length,x()])}),I(()=>{u()!==e.$getStartSpacerSize()&&e.$update(ge,u())});let h;W(()=>{h!==s(n)&&(h=s(n),a.$fixScrollJump())});const N=e.$getScrollOffset,w=()=>le(e),C=e.$getViewportSize,U=e.$findStartIndex,D=e.$findEndIndex,M=e.$getItemOffset,G=e.$getItemSize,k=a.$scrollToIndex,H=a.$scrollTo,K=a.$scrollBy;let P=r(()=>he({contain:"size paint style","overflow-anchor":"none",overflow:"clip",flex:"none",position:"relative",width:o()?s(m)+"px":"100%",height:o()?"100%":s(m)+"px","pointer-events":s(L)?"none":void 0}));var B={getScrollOffset:N,getScrollSize:w,getViewportSize:C,findStartIndex:U,findEndIndex:D,getItemOffset:M,getItemSize:G,scrollToIndex:k,scrollTo:H,scrollBy:K},z=v(),F=E(z);return oe(F,V,!1,(l,f)=>{de(l,i=>T(S,i,!0),()=>s(S)),Se(l,()=>({style:s(P)}));var _=v(),j=E(_);ue(j,17,()=>me(s(O),t.keepMounted),i=>R()(t.data[i],i),(i,g)=>{const q=r(()=>t.data[s(g)]);{let J=r(()=>s(n)&&e.$getItemOffset(s(g))),Q=r(()=>s(n)&&e.$isUnmeasuredItem(s(g)));ze(i,{get children(){return t.children},get item(){return s(q)},get index(){return s(g)},get as(){return t.item},get offset(){return s(J)},get hide(){return s(Q)},get horizontal(){return o()},get resizer(){return d.$observeItem}})}}),b(f,_)}),b(A,z),X(B)}export{Ie as V};
