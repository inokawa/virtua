import{p as c,s as I,u as T,a as X,c as E,f as v,b,d as Y,e as Z,g as O,h as $,i as s,t as p,j as n}from"./iframe-BKW-YGYa.js";import{c as ee,a as te,b as se,U as ae,d as ne,e as re,o as ie,f as oe,g as le,h as ce,i as fe,A as ge,j as de,k as Se,l as ue,m as me,n as he,s as ze,L as _e}from"./legacy-CeEKdzju.js";function Ee(V,t){Z(t,!0);let R=c(t,"getKey",3,fe),y=c(t,"as",3,"div"),A=c(t,"shift",3,!1),o=c(t,"horizontal",3,!1),u=c(t,"startMargin",3,0);const e=ee(t.data.length,t.itemSize,void 0,t.cache,!t.itemSize),d=te(e,o()),r=se(e,o());e.$subscribe(ae,()=>{I(a,e.$getStateVersion(),!0)}),e.$subscribe(ne,()=>{t.onscroll&&t.onscroll(e.$getScrollOffset())}),e.$subscribe(re,()=>{t.onscrollend&&t.onscrollend()});let S=O(void 0),a=O($(e.$getStateVersion())),x=n(()=>s(a)&&e.$getRange(t.bufferSize)),L=n(()=>s(a)&&e.$isScrolling()),m=n(()=>s(a)&&e.$getTotalSize());ie(()=>{const l=f=>{d.$observeRoot(f),r.$observe(f)};p().then(()=>{t.scrollRef?l(t.scrollRef):l(s(S).parentElement)})}),oe(()=>{e.$dispose(),d.$dispose(),r.$dispose()}),T(()=>{t.data.length!==e.$getItemsLength()&&e.$update(ge,[t.data.length,A()])}),T(()=>{u()!==e.$getStartSpacerSize()&&e.$update(de,u())});let h;X(()=>{h!==s(a)&&(h=s(a),r.$fixScrollJump())});const C=e.$getCacheSnapshot,N=e.$getScrollOffset,U=()=>ce(e),w=e.$getViewportSize,D=()=>e.$findItemIndex(e.$getScrollOffset()),M=()=>e.$findItemIndex(e.$getScrollOffset()+e.$getViewportSize()),G=e.$getItemOffset,k=e.$getItemSize,H=r.$scrollToIndex,K=r.$scrollTo,P=r.$scrollBy;let j=n(()=>ze({contain:"size style","overflow-anchor":"none",flex:"none",position:"relative",width:o()?s(m)+"px":"100%",height:o()?"100%":s(m)+"px","pointer-events":s(L)?"none":void 0}));var B={getCache:C,getScrollOffset:N,getScrollSize:U,getViewportSize:w,findStartIndex:D,findEndIndex:M,getItemOffset:G,getItemSize:k,scrollToIndex:H,scrollTo:K,scrollBy:P},z=E(),F=v(z);return le(F,y,!1,(l,f)=>{Se(l,i=>I(S,i,!0),()=>s(S)),ue(l,()=>({style:s(j)}));var _=E(),J=v(_);me(J,17,()=>he(s(x),t.keepMounted),i=>R()(t.data[i],i),(i,g)=>{const q=n(()=>t.data[s(g)]);{let Q=n(()=>s(a)&&e.$getItemOffset(s(g))),W=n(()=>s(a)&&e.$isUnmeasuredItem(s(g)));_e(i,{get children(){return t.children},get item(){return s(q)},get index(){return s(g)},get as(){return t.item},get offset(){return s(Q)},get hide(){return s(W)},get horizontal(){return o()},get resizer(){return d.$observeItem}})}}),b(f,_)}),b(V,z),Y(B)}export{Ee as V};
