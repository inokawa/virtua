import{p as d,s as I,u as v,a as Y,c as E,f as b,b as V,d as Z,e as $,g as y,h as p,i as s,t as ee,j as i}from"./iframe-Dn5NlTzw.js";import{c as te,a as se,b as ne,U as ae,d as re,e as ie,o as oe,f as le,g as ce,h as fe,i as ge,A as de,j as ue,k as Se,l as he,m as me,s as _e,n as ze,L as Te}from"./ListItem-BwFLpkQu.js";function Ee(A,e){$(e,!0);let O=d(e,"getKey",3,ge),R=d(e,"as",3,"div"),x=d(e,"shift",3,!1),g=d(e,"horizontal",3,!1),m=d(e,"startMargin",3,0);const t=te(e.data.length,e.itemSize,void 0,e.cache,!e.itemSize),S=se(t,g()),c=ne(t,g());t.$subscribe(ae,()=>{I(a,t.$getStateVersion(),!0)}),t.$subscribe(re,()=>{e.onscroll&&e.onscroll(t.$getScrollOffset())}),t.$subscribe(ie,()=>{e.onscrollend&&e.onscrollend()});let h=y(void 0),a=y(p(t.$getStateVersion())),L=i(()=>s(a)&&t.$getRange(e.bufferSize)),N=i(()=>s(a)&&t.$isScrolling()),_=i(()=>s(a)&&t.$getTotalSize()),C=i(()=>s(a)&&c.$isNegative()),M=i(()=>{const[o,f]=s(L),r=[];if(e.keepMounted){const l=new Set(e.keepMounted);for(let n=o;n<=f;n++)l.add(n);for(const n of ze([...l]))r.push(n)}else for(let l=o;l<=f;l++)r.push(l);return r});oe(()=>{const o=s(h),f=r=>{S.$observeRoot(r),c.$observe(o,r)};ee().then(()=>{e.scrollRef?f(e.scrollRef):f(o.parentElement)})}),le(()=>{t.$dispose(),S.$dispose(),c.$dispose()}),v(()=>{e.data.length!==t.$getItemsLength()&&t.$update(de,[e.data.length,x()])}),v(()=>{m()!==t.$getStartSpacerSize()&&t.$update(ue,m())});let z;Y(()=>{z!==s(a)&&(z=s(a),c.$fixScrollJump())});const U=t.$getCacheSnapshot,w=t.$getScrollOffset,D=()=>fe(t),k=t.$getViewportSize,G=t.$findItemIndex,H=t.$getItemOffset,K=t.$getItemSize,P=c.$scrollToIndex,j=c.$scrollTo,B=c.$scrollBy;let F=i(()=>_e({contain:"size style","overflow-anchor":"none",flex:"none",position:"relative",width:g()?s(_)+"px":"100%",height:g()?"100%":s(_)+"px","pointer-events":s(N)?"none":void 0}));var J={getCache:U,getScrollOffset:w,getScrollSize:D,getViewportSize:k,findItemIndex:G,getItemOffset:H,getItemSize:K,scrollToIndex:P,scrollTo:j,scrollBy:B},T=E(),q=b(T);return ce(q,R,!1,(o,f)=>{Se(o,n=>I(h,n,!0),()=>s(h)),he(o,()=>({style:s(F)}));var r=E(),l=b(r);me(l,17,()=>s(M),n=>O()(e.data[n],n),(n,u)=>{const Q=i(()=>e.data[s(u)]);{let W=i(()=>s(a)&&t.$getItemOffset(s(u),s(C))),X=i(()=>s(a)&&t.$isUnmeasuredItem(s(u)));Te(n,{get children(){return e.children},get item(){return s(Q)},get index(){return s(u)},get as(){return e.item},get offset(){return s(W)},get hide(){return s(X)},get horizontal(){return g()},get resizer(){return S.$observeItem}})}}),V(f,r)}),V(A,T),Z(J)}export{Ee as V};
