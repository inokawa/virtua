import{p as c,s as T,u as I,a as W,c as E,f as v,b,d as X,e as Y,g as R,h as Z,i as s,t as $,j as r}from"./iframe-CBwuZQeC.js";import{c as p,a as ee,b as te,U as se,d as ne,e as re,o as ae,f as ie,g as oe,h as le,i as ce,A as fe,j as ge,k as de,l as Se,m as ue,n as me,s as he,L as _e}from"./legacy-BbzA0eHn.js";function Ie(V,t){Y(t,!0);let y=c(t,"getKey",3,ce),A=c(t,"as",3,"div"),O=c(t,"shift",3,!1),o=c(t,"horizontal",3,!1),u=c(t,"startMargin",3,0);const e=p(t.data.length,t.itemSize,void 0,void 0,!t.itemSize),d=ee(e,o()),a=te(e,o());e.$subscribe(se,()=>{T(n,e.$getStateVersion(),!0)}),e.$subscribe(ne,()=>{t.onscroll&&t.onscroll(e.$getScrollOffset())}),e.$subscribe(re,()=>{t.onscrollend&&t.onscrollend()});let S=R(void 0),n=R(Z(e.$getStateVersion())),x=r(()=>s(n)&&e.$getRange(t.bufferSize)),L=r(()=>s(n)&&e.$isScrolling()),m=r(()=>s(n)&&e.$getTotalSize());ae(()=>{const l=f=>{d.$observeRoot(f),a.$observe(f)};$().then(()=>{t.scrollRef?l(t.scrollRef):l(s(S).parentElement)})}),ie(()=>{e.$dispose(),d.$dispose(),a.$dispose()}),I(()=>{t.data.length!==e.$getItemsLength()&&e.$update(fe,[t.data.length,O()])}),I(()=>{u()!==e.$getStartSpacerSize()&&e.$update(ge,u())});let h;W(()=>{h!==s(n)&&(h=s(n),a.$fixScrollJump())});const N=e.$getScrollOffset,C=()=>le(e),U=e.$getViewportSize,D=e.$findStartIndex,M=e.$findEndIndex,w=e.$getItemOffset,G=e.$getItemSize,k=a.$scrollToIndex,H=a.$scrollTo,K=a.$scrollBy;let P=r(()=>he({contain:"size style","overflow-anchor":"none",flex:"none",position:"relative",width:o()?s(m)+"px":"100%",height:o()?"100%":s(m)+"px","pointer-events":s(L)?"none":void 0}));var j={getScrollOffset:N,getScrollSize:C,getViewportSize:U,findStartIndex:D,findEndIndex:M,getItemOffset:w,getItemSize:G,scrollToIndex:k,scrollTo:H,scrollBy:K},_=E(),B=v(_);return oe(B,A,!1,(l,f)=>{de(l,i=>T(S,i,!0),()=>s(S)),Se(l,()=>({style:s(P)}));var z=E(),F=v(z);ue(F,17,()=>me(s(x),t.keepMounted),i=>y()(t.data[i],i),(i,g)=>{const J=r(()=>t.data[s(g)]);{let q=r(()=>s(n)&&e.$getItemOffset(s(g))),Q=r(()=>s(n)&&e.$isUnmeasuredItem(s(g)));_e(i,{get children(){return t.children},get item(){return s(J)},get index(){return s(g)},get as(){return t.item},get offset(){return s(q)},get hide(){return s(Q)},get horizontal(){return o()},get resizer(){return d.$observeItem}})}}),b(f,z)}),b(V,_),X(j)}export{Ie as V};
