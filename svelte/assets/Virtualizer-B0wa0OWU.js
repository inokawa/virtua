import{p as c,s as T,u as I,a as X,c as E,f as v,b,d as Y,e as Z,g as R,h as $,i as s,t as p,j as n}from"./iframe-DbItv6Tm.js";import{c as ee,a as te,b as se,U as ae,d as ne,e as re,o as ie,f as oe,g as le,h as ce,i as fe,A as ge,j as de,k as Se,l as ue,m as he,n as me,s as _e,L as ze}from"./legacy-g4kkYQPj.js";function Ee(V,t){Z(t,!0);let y=c(t,"getKey",3,fe),A=c(t,"as",3,"div"),O=c(t,"shift",3,!1),o=c(t,"horizontal",3,!1),u=c(t,"startMargin",3,0);const e=ee(t.data.length,t.itemSize,void 0,t.cache,!t.itemSize),d=te(e,o()),r=se(e,o());e.$subscribe(ae,()=>{T(a,e.$getStateVersion(),!0)}),e.$subscribe(ne,()=>{t.onscroll&&t.onscroll(e.$getScrollOffset())}),e.$subscribe(re,()=>{t.onscrollend&&t.onscrollend()});let S=R(void 0),a=R($(e.$getStateVersion())),x=n(()=>s(a)&&e.$getRange(t.bufferSize)),L=n(()=>s(a)&&e.$isScrolling()),h=n(()=>s(a)&&e.$getTotalSize());ie(()=>{const l=f=>{d.$observeRoot(f),r.$observe(f)};p().then(()=>{t.scrollRef?l(t.scrollRef):l(s(S).parentElement)})}),oe(()=>{e.$dispose(),d.$dispose(),r.$dispose()}),I(()=>{t.data.length!==e.$getItemsLength()&&e.$update(ge,[t.data.length,O()])}),I(()=>{u()!==e.$getStartSpacerSize()&&e.$update(de,u())});let m;X(()=>{m!==s(a)&&(m=s(a),r.$fixScrollJump())});const C=e.$getCacheSnapshot,N=e.$getScrollOffset,U=()=>ce(e),D=e.$getViewportSize,M=e.$findStartIndex,w=e.$findEndIndex,G=e.$getItemOffset,k=e.$getItemSize,H=r.$scrollToIndex,K=r.$scrollTo,P=r.$scrollBy;let j=n(()=>_e({contain:"size style","overflow-anchor":"none",flex:"none",position:"relative",width:o()?s(h)+"px":"100%",height:o()?"100%":s(h)+"px","pointer-events":s(L)?"none":void 0}));var B={getCache:C,getScrollOffset:N,getScrollSize:U,getViewportSize:D,findStartIndex:M,findEndIndex:w,getItemOffset:G,getItemSize:k,scrollToIndex:H,scrollTo:K,scrollBy:P},_=E(),F=v(_);return le(F,A,!1,(l,f)=>{Se(l,i=>T(S,i,!0),()=>s(S)),ue(l,()=>({style:s(j)}));var z=E(),J=v(z);he(J,17,()=>me(s(x),t.keepMounted),i=>y()(t.data[i],i),(i,g)=>{const q=n(()=>t.data[s(g)]);{let Q=n(()=>s(a)&&e.$getItemOffset(s(g))),W=n(()=>s(a)&&e.$isUnmeasuredItem(s(g)));ze(i,{get children(){return t.children},get item(){return s(q)},get index(){return s(g)},get as(){return t.item},get offset(){return s(Q)},get hide(){return s(W)},get horizontal(){return o()},get resizer(){return d.$observeItem}})}}),b(f,z)}),b(V,_),Y(B)}export{Ee as V};
