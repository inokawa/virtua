import{p as c,s as T,u as I,a as W,c as v,f as E,b,d as X,e as Y,g as R,h as Z,i as s,t as $,j as r}from"./iframe-CgkgkKyG.js";import{c as p,a as ee,b as te,U as se,d as ae,e as re,o as ne,f as ie,g as oe,h as le,i as ce,A as fe,j as ge,k as Se,l as de,m as ue,n as me,s as he,L as _e}from"./legacy-CKGuVm5K.js";function Ie(V,t){Y(t,!0);let y=c(t,"getKey",3,ce),A=c(t,"as",3,"div"),O=c(t,"shift",3,!1),o=c(t,"horizontal",3,!1),u=c(t,"startMargin",3,0);const e=p(t.data.length,t.itemSize,void 0,t.cache,!t.itemSize),S=ee(e,o()),n=te(e,o());e.$subscribe(se,()=>{T(a,e.$getStateVersion(),!0)}),e.$subscribe(ae,()=>{t.onscroll&&t.onscroll(e.$getScrollOffset())}),e.$subscribe(re,()=>{t.onscrollend&&t.onscrollend()});let d=R(void 0),a=R(Z(e.$getStateVersion())),L=r(()=>s(a)&&e.$getRange(t.bufferSize)),x=r(()=>s(a)&&e.$isScrolling()),m=r(()=>s(a)&&e.$getTotalSize());ne(()=>{const l=f=>{S.$observeRoot(f),n.$observe(f)};$().then(()=>{t.scrollRef?l(t.scrollRef):l(s(d).parentElement)})}),ie(()=>{e.$dispose(),S.$dispose(),n.$dispose()}),I(()=>{t.data.length!==e.$getItemsLength()&&e.$update(fe,[t.data.length,O()])}),I(()=>{u()!==e.$getStartSpacerSize()&&e.$update(ge,u())});let h;W(()=>{h!==s(a)&&(h=s(a),n.$fixScrollJump())});const C=e.$getCacheSnapshot,N=e.$getScrollOffset,U=()=>le(e),D=e.$getViewportSize,M=e.$findItemIndex,w=e.$getItemOffset,G=e.$getItemSize,k=n.$scrollToIndex,H=n.$scrollTo,K=n.$scrollBy;let P=r(()=>he({contain:"size style","overflow-anchor":"none",flex:"none",position:"relative",width:o()?s(m)+"px":"100%",height:o()?"100%":s(m)+"px","pointer-events":s(x)?"none":void 0}));var j={getCache:C,getScrollOffset:N,getScrollSize:U,getViewportSize:D,findItemIndex:M,getItemOffset:w,getItemSize:G,scrollToIndex:k,scrollTo:H,scrollBy:K},_=v(),B=E(_);return oe(B,A,!1,(l,f)=>{Se(l,i=>T(d,i,!0),()=>s(d)),de(l,()=>({style:s(P)}));var z=v(),F=E(z);ue(F,17,()=>me(s(L),t.keepMounted),i=>y()(t.data[i],i),(i,g)=>{const J=r(()=>t.data[s(g)]);{let q=r(()=>s(a)&&e.$getItemOffset(s(g))),Q=r(()=>s(a)&&e.$isUnmeasuredItem(s(g)));_e(i,{get children(){return t.children},get item(){return s(J)},get index(){return s(g)},get as(){return t.item},get offset(){return s(q)},get hide(){return s(Q)},get horizontal(){return o()},get resizer(){return S.$observeItem}})}}),b(f,z)}),b(V,_),X(j)}export{Ie as V};
