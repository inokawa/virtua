import{B as d,h as I,C as v,u as Y,k as E,l as b,a as V,b as Z,d as p,s as y,p as $,g as s,v as ee,i as o}from"./iframe-DmbpJxkR.js";import{f as te,g as se,h as ne,U as re,j as ae,k as oe,o as ie,l as le,m as ce,n as fe,p as ge,A as de,q as ue,b as Se,d as he,e as me,c as _e,r as ze,L as Te}from"./ListItem-D_G_P-Af.js";function Ee(A,e){p(e,!0);let O=d(e,"getKey",3,ge),R=d(e,"as",3,"div"),x=d(e,"shift",3,!1),g=d(e,"horizontal",3,!1),m=d(e,"startMargin",3,0);const t=te(e.data.length,e.itemSize,void 0,e.cache,!e.itemSize),S=se(t,g()),c=ne(t,g());t.$subscribe(re,()=>{I(r,t.$getStateVersion(),!0)}),t.$subscribe(ae,()=>{e.onscroll&&e.onscroll(t.$getScrollOffset())}),t.$subscribe(oe,()=>{e.onscrollend&&e.onscrollend()});let h=y(void 0),r=y($(t.$getStateVersion())),C=o(()=>s(r)&&t.$getRange(e.bufferSize)),L=o(()=>s(r)&&t.$isScrolling()),_=o(()=>s(r)&&t.$getTotalSize()),N=o(()=>s(r)&&c.$isNegative()),M=o(()=>{const[i,f]=s(C),a=[];if(e.keepMounted){const l=new Set(e.keepMounted);for(let n=i;n<=f;n++)l.add(n);for(const n of ze([...l]))a.push(n)}else for(let l=i;l<=f;l++)a.push(l);return a});ie(()=>{const i=s(h),f=a=>{S.$observeRoot(a),c.$observe(i,a)};ee().then(()=>{e.scrollRef?f(e.scrollRef):f(i.parentElement)})}),le(()=>{t.$dispose(),S.$dispose(),c.$dispose()}),v(()=>{e.data.length!==t.$getItemsLength()&&t.$update(de,[e.data.length,x()])}),v(()=>{m()!==t.$getStartSpacerSize()&&t.$update(ue,m())});let z;Y(()=>{z!==s(r)&&(z=s(r),c.$fixScrollJump())});const U=t.$getCacheSnapshot,k=t.$getScrollOffset,w=()=>fe(t),D=t.$getViewportSize,G=t.$findItemIndex,B=t.$getItemOffset,H=t.$getItemSize,K=c.$scrollToIndex,P=c.$scrollTo,F=c.$scrollBy;let j=o(()=>_e({contain:"size style","overflow-anchor":"none",flex:"none",position:"relative",width:g()?s(_)+"px":"100%",height:g()?"100%":s(_)+"px","pointer-events":s(L)?"none":void 0}));var q={getCache:U,getScrollOffset:k,getScrollSize:w,getViewportSize:D,findItemIndex:G,getItemOffset:B,getItemSize:H,scrollToIndex:K,scrollTo:P,scrollBy:F},T=E(),J=b(T);return ce(J,R,!1,(i,f)=>{Se(i,n=>I(h,n,!0),()=>s(h)),he(i,()=>({style:s(j)}));var a=E(),l=b(a);me(l,17,()=>s(M),n=>O()(e.data[n],n),(n,u)=>{const Q=o(()=>e.data[s(u)]);{let W=o(()=>s(r)&&t.$getItemOffset(s(u),s(N))),X=o(()=>s(r)&&t.$isUnmeasuredItem(s(u)));Te(n,{get children(){return e.children},get item(){return s(Q)},get index(){return s(u)},get as(){return e.item},get offset(){return s(W)},get hide(){return s(X)},get horizontal(){return g()},get resizer(){return S.$observeItem}})}}),V(f,a)}),V(A,T),Z(q)}export{Ee as V};
