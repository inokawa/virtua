import{x as c,i as T,y as b,z as Z,v as I,w as E,a as v,b as $,d as p,s as O,m as ee,g as s,t as te,A as r}from"./iframe-XbTQOC_O.js";import{g as se,h as ne,j as re,U as ae,k as ie,l as oe,o as le,m as ce,n as fe,p as ge,q as de,A as Se,r as ue,b as me,a as he,e as ze,t as _e,s as Te,L as be}from"./legacy-BrvD_hBb.js";function ve(y,t){p(t,!0);let A=c(t,"getKey",3,de),R=c(t,"as",3,"div"),V=c(t,"shift",3,!1),o=c(t,"horizontal",3,!1),u=c(t,"startMargin",3,0);const e=se(t.data.length,t.itemSize,void 0,void 0,!t.itemSize),d=ne(e,o()),a=re(e,o()),x=e.$subscribe(ae,()=>{T(n,e.$getStateVersion(),!0)}),L=e.$subscribe(ie,()=>{t.onscroll&&t.onscroll(e.$getScrollOffset())}),N=e.$subscribe(oe,()=>{t.onscrollend&&t.onscrollend()});let S=O(void 0),n=O(ee(e.$getStateVersion())),w=r(()=>s(n)&&e.$getRange(t.bufferSize)),C=r(()=>s(n)&&e.$isScrolling()),m=r(()=>s(n)&&e.$getTotalSize());le(()=>{const l=f=>{d.$observeRoot(f),a.$observe(f)};te().then(()=>{t.scrollRef?l(t.scrollRef):l(s(S).parentElement)})}),ce(()=>{x(),L(),N(),d.$dispose(),a.$dispose()}),b(()=>{t.data.length!==e.$getItemsLength()&&e.$update(Se,[t.data.length,V()])}),b(()=>{u()!==e.$getStartSpacerSize()&&e.$update(ue,u())});let h;Z(()=>{h!==s(n)&&(h=s(n),a.$fixScrollJump())});const U=e.$getScrollOffset,D=()=>ge(e),M=e.$getViewportSize,G=e.$findStartIndex,k=e.$findEndIndex,H=e.$getItemOffset,K=e.$getItemSize,P=a.$scrollToIndex,B=a.$scrollTo,F=a.$scrollBy;let j=r(()=>Te({contain:"size paint style","overflow-anchor":"none",overflow:"clip",flex:"none",position:"relative",width:o()?s(m)+"px":"100%",height:o()?"100%":s(m)+"px","pointer-events":s(C)?"none":void 0}));var q={getScrollOffset:U,getScrollSize:D,getViewportSize:M,findStartIndex:G,findEndIndex:k,getItemOffset:H,getItemSize:K,scrollToIndex:P,scrollTo:B,scrollBy:F},z=I(),J=E(z);return fe(J,R,!1,(l,f)=>{me(l,i=>T(S,i,!0),()=>s(S)),he(l,()=>({style:s(j)}));var _=I(),Q=E(_);ze(Q,17,()=>_e(s(w),t.keepMounted),i=>A()(t.data[i],i),(i,g)=>{const W=r(()=>t.data[s(g)]);{let X=r(()=>s(n)&&e.$getItemOffset(s(g))),Y=r(()=>s(n)&&e.$isUnmeasuredItem(s(g)));be(i,{get children(){return t.children},get item(){return s(W)},get index(){return s(g)},get as(){return t.item},get offset(){return s(X)},get hide(){return s(Y)},get horizontal(){return o()},get resizer(){return d.$observeItem}})}}),v(f,_)}),v(y,z),$(q)}export{ve as V};
