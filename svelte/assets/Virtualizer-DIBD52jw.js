import{p as d,s as I,u as v,a as X,c as E,f as b,b as V,d as Y,e as Z,g as y,h as p,i as s,t as $,j as i}from"./iframe-DYwhvG0l.js";import{c as ee,a as te,b as se,U as ne,d as re,e as ae,o as oe,f as ie,g as le,h as ce,i as fe,A as ge,j as de,k as ue,l as Se,m as he,s as me,n as _e,L as ze}from"./ListItem-d5WQOoNd.js";function ve(A,e){Z(e,!0);let O=d(e,"getKey",3,fe),R=d(e,"as",3,"div"),x=d(e,"shift",3,!1),g=d(e,"horizontal",3,!1),m=d(e,"startMargin",3,0);const t=ee(e.data.length,e.itemSize,void 0,e.cache,!e.itemSize),S=te(t,g()),c=se(t,g());t.$subscribe(ne,()=>{I(r,t.$getStateVersion(),!0)}),t.$subscribe(re,()=>{e.onscroll&&e.onscroll(t.$getScrollOffset())}),t.$subscribe(ae,()=>{e.onscrollend&&e.onscrollend()});let h=y(void 0),r=y(p(t.$getStateVersion())),L=i(()=>s(r)&&t.$getRange(e.bufferSize)),C=i(()=>s(r)&&t.$isScrolling()),_=i(()=>s(r)&&t.$getTotalSize()),N=i(()=>{const[a,l]=s(L),f=[];if(e.keepMounted){const o=new Set(e.keepMounted);for(let n=a;n<=l;n++)o.add(n);for(const n of _e([...o]))f.push(n)}else for(let o=a;o<=l;o++)f.push(o);return f});oe(()=>{const a=l=>{S.$observeRoot(l),c.$observe(l)};$().then(()=>{e.scrollRef?a(e.scrollRef):a(s(h).parentElement)})}),ie(()=>{t.$dispose(),S.$dispose(),c.$dispose()}),v(()=>{e.data.length!==t.$getItemsLength()&&t.$update(ge,[e.data.length,x()])}),v(()=>{m()!==t.$getStartSpacerSize()&&t.$update(de,m())});let z;X(()=>{z!==s(r)&&(z=s(r),c.$fixScrollJump())});const M=t.$getCacheSnapshot,U=t.$getScrollOffset,w=()=>ce(t),D=t.$getViewportSize,k=t.$findItemIndex,G=t.$getItemOffset,H=t.$getItemSize,K=c.$scrollToIndex,P=c.$scrollTo,j=c.$scrollBy;let B=i(()=>me({contain:"size style","overflow-anchor":"none",flex:"none",position:"relative",width:g()?s(_)+"px":"100%",height:g()?"100%":s(_)+"px","pointer-events":s(C)?"none":void 0}));var F={getCache:M,getScrollOffset:U,getScrollSize:w,getViewportSize:D,findItemIndex:k,getItemOffset:G,getItemSize:H,scrollToIndex:K,scrollTo:P,scrollBy:j},T=E(),J=b(T);return le(J,R,!1,(a,l)=>{ue(a,n=>I(h,n,!0),()=>s(h)),Se(a,()=>({style:s(B)}));var f=E(),o=b(f);he(o,17,()=>s(N),n=>O()(e.data[n],n),(n,u)=>{const q=i(()=>e.data[s(u)]);{let Q=i(()=>s(r)&&t.$getItemOffset(s(u))),W=i(()=>s(r)&&t.$isUnmeasuredItem(s(u)));ze(n,{get children(){return e.children},get item(){return s(q)},get index(){return s(u)},get as(){return e.item},get offset(){return s(Q)},get hide(){return s(W)},get horizontal(){return g()},get resizer(){return S.$observeItem}})}}),V(l,f)}),V(A,T),Y(F)}export{ve as V};
