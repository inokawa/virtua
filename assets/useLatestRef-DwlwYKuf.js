import{r as X}from"./iframe-kXGK60IA.js";const V=null,{min:T,max:E,abs:ae,floor:Re}=Math,ie=(e,t,s)=>T(s,E(t,e)),ve=e=>[...e].sort((t,s)=>t-s),Ke=typeof queueMicrotask=="function"?queueMicrotask:e=>{Promise.resolve().then(e)},q=()=>{let e;return[new Promise(s=>{e=s}),e]},ce=e=>{let t;return()=>(e&&(t=e(),e=void 0),t)},D=-1,U=(e,t,s)=>{const n=s?"unshift":"push";for(let o=0;o<t;o++)e[n](D);return e},j=(e,t)=>{const s=e._sizes[t];return s===D?e._defaultItemSize:s},Te=(e,t,s)=>{const n=e._sizes[t]===D;return e._sizes[t]=s,e._computedOffsetIndex=T(t,e._computedOffsetIndex),n},H=(e,t)=>{if(!e._length)return 0;if(e._computedOffsetIndex>=t)return e._offsets[t];e._computedOffsetIndex<0&&(e._offsets[0]=0,e._computedOffsetIndex=0);let s=e._computedOffsetIndex,n=e._offsets[s];for(;s<t;)n+=j(e,s),e._offsets[++s]=n;return e._computedOffsetIndex=t,n},ye=e=>e._length?H(e,e._length-1)+j(e,e._length-1):0,N=(e,t,s=0,n=e._length-1)=>{for(;s<=n;){const o=Re((s+n)/2),a=H(e,o);if(a<=t){if(a+j(e,o)>t)return o;s=o+1}else n=o-1}return ie(s,0,e._length-1)},Ce=(e,t,s,n)=>{if(n=T(n,e._length-1),H(e,n)<=t){const o=N(e,t+s,n);return[N(e,t,n,o),o]}else{const o=N(e,t,void 0,n);return[o,N(e,t+s,o)]}},Ae=(e,t)=>{let s=0;const n=[];e._sizes.forEach((i,r)=>{i!==D&&(n.push(i),r<t&&s++)}),e._computedOffsetIndex=-1;const o=ve(n),a=o.length,$=a/2|0,m=a%2===0?(o[$-1]+o[$])/2:o[$],d=e._defaultItemSize;return((e._defaultItemSize=m)-d)*E(t-s,0)},Ne=(e,t,s)=>({_defaultItemSize:s?s[1]:t,_sizes:s&&s[0]?U(s[0].slice(0,T(e,s[0].length)),E(0,e-s[0].length)):U([],e),_length:e,_computedOffsetIndex:-1,_offsets:U([],e)}),ke=e=>[e._sizes.slice(),e._defaultItemSize],me=(e,t,s)=>{const n=t-e._length;return e._computedOffsetIndex=s?-1:T(t-1,e._computedOffsetIndex),e._length=t,n>0?(U(e._offsets,n),U(e._sizes,n,s),e._defaultItemSize*n):(e._offsets.splice(n),(s?e._sizes.splice(0,-n):e._sizes.splice(n)).reduce((o,a)=>o-(a===D?e._defaultItemSize:a),0))},pe=typeof window<"u",ge=()=>document.documentElement,P=e=>e.ownerDocument,x=e=>e.defaultView,Ie=ce(()=>pe?getComputedStyle(ge()).direction==="rtl":!1),ze=ce(()=>/iP(hone|od|ad)/.test(navigator.userAgent)),be=ce(()=>"scrollBehavior"in ge().style),Ve=2147483647,J=0,_e=1,$e=2,G=0,Me=1,ne=2,oe=1,Oe=2,k=3,K=4,De=5,Ee=6,le=7,fe=8,A=1,Z=2,Je=4,We=8,Be=e=>E(e.$getTotalSize(),e.$getViewportSize()),we=e=>!!e.$getViewportSize(),Fe=(e,t=40,s=4,n=0,o,a=!1)=>{let $=!!n,m=1,d=0,i=0,r=0,c=0,u=0,f=0,l=J,_=G,S=$?[0,E(n-1,0)]:V,I=[0,0],z=0;const g=Ne(e,t,o),y=new Set,R=()=>r-i,h=()=>R()+u+c,C=p=>Ce(g,p,d,I[0]),ee=()=>ye(g),de=p=>H(g,p)-u,B=p=>j(g,p),te=p=>{p&&(ze()&&l!==J?u+=p:c+=p)};return{$getStateVersion:()=>m,$getCacheSnapshot:()=>ke(g),$getRange:()=>{let p,b;return f?[p,b]=I:([p,b]=I=C(E(0,h())),S&&(p=T(p,S[0]),b=E(b,S[1]))),l!==_e&&(p-=E(0,s)),l!==$e&&(b+=E(0,s)),[E(p,0),T(b,g._length-1)]},$findStartIndex:()=>N(g,h()),$findEndIndex:()=>N(g,h()+d),$isUnmeasuredItem:p=>g._sizes[p]===D,_hasUnmeasuredItemsInFrozenRange:()=>S?g._sizes.slice(E(0,S[0]-1),T(g._length-1,S[1]+1)+1).includes(D):!1,$getItemOffset:de,$getItemSize:B,$getItemsLength:()=>g._length,$getScrollOffset:()=>r,$isScrolling:()=>l!==J,$getViewportSize:()=>d,$getStartSpacerSize:()=>i,$getTotalSize:ee,_flushJump:()=>(f=c,c=0,[f,_===ne||R()+d>=ee()]),$subscribe:(p,b)=>{const W=[p,b];return y.add(W),()=>{y.delete(W)}},$update:(p,b)=>{let W,se,L=0;switch(p){case oe:{const v=f;f=0;const w=b-r,O=ae(w);!(v&&O<ae(v)+1)&&_===G&&(l=w<0?$e:_e),$&&(S=V,$=!1),r=b,L=Je;const Y=R();Y>=-d&&Y<=ee()&&(L+=A,se=O>d);break}case Oe:{L=We,l!==J&&(W=!0,L+=A),l=J,_=G,S=V;break}case k:{const v=b.filter(([w,O])=>g._sizes[w]!==O);if(!v.length)break;te(v.reduce((w,[O,F])=>((_===ne||(S?!$&&O<S[0]:de(O)+(l===J&&_===G?B(O):0)<R()))&&(w+=F-B(O)),w),0));for(const[w,O]of v){const F=B(w),Y=Te(g,w,O);a&&(z+=Y?O:O-F)}a&&d&&z>d&&(te(Ae(g,N(g,h()))),a=!1),L=A+Z,se=!0;break}case K:{d!==b&&(d=b,L=A+Z);break}case De:{b[1]?(te(me(g,b[0],!0)),_=ne,L=A):(me(g,b[0]),L=A);break}case Ee:{i=b;break}case le:{_=Me;break}case fe:{S=C(b),L=A;break}}L&&(m=(m&Ve)+1,W&&u&&(c+=u,u=0),y.forEach(([v,w])=>{L&v&&w(se)}))}}},Q=setTimeout,Ue=(e,t)=>{let s;const n=()=>{s!=V&&clearTimeout(s)},o=()=>{n(),s=Q(()=>{s=V,e()},t)};return o._cancel=n,o},M=(e,t)=>t&&Ie()?-e:e,Le=(e,t,s,n,o,a)=>{const $=Date.now;let m=0,d=!1,i=!1,r=!1,c=!1;const u=Ue(()=>{if(d||i){d=!1,u();return}r=!1,e.$update(Oe)},150),f=()=>{m=$(),r&&(c=!0),a&&e.$update(Ee,a()),e.$update(oe,n()),u()},l=I=>{if(d||!e.$isScrolling()||I.ctrlKey)return;const z=$()-m;150>z&&50<z&&(s?I.deltaX:I.deltaY)&&(d=!0)},_=()=>{i=!0,r=c=!1},S=()=>{i=!1,ze()&&(r=!0)};return t.addEventListener("scroll",f),t.addEventListener("wheel",l,{passive:!0}),t.addEventListener("touchstart",_,{passive:!0}),t.addEventListener("touchend",S,{passive:!0}),{_dispose:()=>{t.removeEventListener("scroll",f),t.removeEventListener("wheel",l),t.removeEventListener("touchstart",_),t.removeEventListener("touchend",S),u._cancel()},_fixScrollJump:()=>{const[I,z]=e._flushJump();I&&(o(M(I,s),z,c),c=!1,z&&e.$getViewportSize()>e.$getTotalSize()&&e.$update(oe,n()))}}},Se=(e,t)=>{let s,n,o;const[a,$]=q(),m=t?"scrollLeft":"scrollTop",d=t?"overflowX":"overflowY",i=async(r,c)=>{if(!await a)return;o&&o();const u=()=>{const[f,l]=q();return o=()=>{l(!1)},we(e)&&Q(o,150),[f,e.$subscribe(Z,()=>{l(!0)})]};if(c&&be()){for(;e.$update(fe,r()),!!e._hasUnmeasuredItemsInFrozenRange();){const[f,l]=u();try{if(!await f)return}finally{l()}}s.scrollTo({[t?"left":"top"]:M(r(),t),behavior:"smooth"})}else for(;;){const[f,l]=u();try{if(s[m]=M(r(),t),e.$update(le),!await f)return}finally{l()}}};return{$observe(r){s=r,n=Le(e,r,t,()=>M(r[m],t),(c,u,f)=>{if(f){const l=r.style,_=l[d];l[d]="hidden",Q(()=>{l[d]=_})}u?(r[m]=e.$getScrollOffset()+c,o&&o()):r[m]+=c}),$(!0)},$dispose(){n&&n._dispose(),$(!1)},$scrollTo(r){i(()=>r)},$scrollBy(r){r+=e.$getScrollOffset(),i(()=>r)},$scrollToIndex(r,{align:c,smooth:u,offset:f=0}={}){if(r=ie(r,0,e.$getItemsLength()-1),c==="nearest"){const l=e.$getItemOffset(r),_=e.$getScrollOffset();if(l<_)c="start";else if(l+e.$getItemSize(r)>_+e.$getViewportSize())c="end";else return}i(()=>f+e.$getStartSpacerSize()+e.$getItemOffset(r)+(c==="end"?e.$getItemSize(r)-e.$getViewportSize():c==="center"?(e.$getItemSize(r)-e.$getViewportSize())/2:0),u)},$fixScrollJump:()=>{n&&n._fixScrollJump()}}},Ye=(e,t)=>{let s,n,o;const[a,$]=q(),m=(i,r,c,u,f=0)=>{const l=u?"offsetLeft":"offsetTop",_=f+(u&&Ie()?c.innerWidth-i[l]-i.offsetWidth:i[l]),S=i.offsetParent;return i===r||!S?_:m(S,r,c,u,_)},d=async(i,r)=>{if(!await a)return;o&&o();const c=()=>{const[f,l]=q();return o=()=>{l(!1)},we(e)&&Q(o,150),[f,e.$subscribe(Z,()=>{l(!0)})]},u=x(P(s));if(r&&be()){for(;e.$update(fe,i()),!!e._hasUnmeasuredItemsInFrozenRange();){const[f,l]=c();try{if(!await f)return}finally{l()}}u.scroll({[t?"left":"top"]:M(i(),t),behavior:"smooth"})}else for(;;){const[f,l]=c();try{if(u.scroll({[t?"left":"top"]:M(i(),t)}),e.$update(le),!await f)return}finally{l()}}};return{$observe(i){s=i;const r=t?"scrollX":"scrollY",c=P(i),u=x(c),f=c.body;n=Le(e,u,t,()=>M(u[r],t),(l,_)=>{_?u.scroll({[t?"left":"top"]:e.$getScrollOffset()+l}):u.scrollBy(t?l:0,t?0:l)},()=>m(i,f,u,t)),$(!0)},$dispose(){n&&n._dispose(),s=void 0,$(!1)},$fixScrollJump:()=>{n&&n._fixScrollJump()},$scrollToIndex(i,{align:r,smooth:c,offset:u=0}={}){if(!s)return;if(i=ie(i,0,e.$getItemsLength()-1),r==="nearest"){const I=e.$getItemOffset(i),z=e.$getScrollOffset();if(I<z)r="start";else if(I+e.$getItemSize(i)>z+e.$getViewportSize())r="end";else return}const f=P(s),l=x(f),_=f.documentElement,S=()=>e.$getViewportSize()-(t?_.clientWidth:_.clientHeight);d(()=>u+m(s,f.body,l,t)+e.$getItemOffset(i)+(r==="end"?e.$getItemSize(i)-(e.$getViewportSize()-S()):r==="center"?(e.$getItemSize(i)-(e.$getViewportSize()-S()))/2:0),c)}}},Ge=(e,t)=>{const s=Se(e,!1),n=Se(t,!0);return{$observe(o){s.$observe(o),n.$observe(o)},$dispose(){s.$dispose(),n.$dispose()},$scrollTo(o,a){s.$scrollTo(a),n.$scrollTo(o)},$scrollBy(o,a){s.$scrollBy(a),n.$scrollBy(o)},$scrollToIndex(o,a){s.$scrollToIndex(a),n.$scrollToIndex(o)},$fixScrollJump(){s.$fixScrollJump(),n.$fixScrollJump()}}},ue=e=>{let t;return{_observe(s){(t||(t=new(x(P(s))).ResizeObserver(e))).observe(s)},_unobserve(s){t.unobserve(s)},_dispose(){t&&t.disconnect()}}},Xe=(e,t)=>{let s;const n=t?"width":"height",o=new WeakMap,a=ue($=>{const m=[];for(const{target:d,contentRect:i}of $)if(d.offsetParent)if(d===s)e.$update(K,i[n]);else{const r=o.get(d);r!=V&&m.push([r,i[n]])}m.length&&e.$update(k,m)});return{$observeRoot($){a._observe(s=$)},$observeItem:($,m)=>(o.set($,m),a._observe($),()=>{o.delete($),a._unobserve($)}),$dispose:a._dispose}},qe=(e,t)=>{const s=t?"width":"height",n=t?"innerWidth":"innerHeight",o=new WeakMap,a=ue(m=>{const d=[];for(const{target:i,contentRect:r}of m){if(!i.offsetParent)continue;const c=o.get(i);c!=V&&d.push([c,r[s]])}d.length&&e.$update(k,d)});let $;return{$observeRoot(m){const d=x(P(m)),i=()=>{e.$update(K,d[n])};d.addEventListener("resize",i),i(),$=()=>{d.removeEventListener("resize",i)}},$observeItem:(m,d)=>(o.set(m,d),a._observe(m),()=>{o.delete(m),a._unobserve(m)}),$dispose(){$&&$(),a._dispose()}}},Ze=(e,t)=>{let s;const n="height",o="width",a=new WeakMap,$=new Set,m=new Set,d=new Map,i=(c,u)=>`${c}-${u}`,r=ue(c=>{const u=new Set,f=new Set;for(const{target:l,contentRect:_}of c)if(l.offsetParent)if(l===s)e.$update(K,_[n]),t.$update(K,_[o]);else{const S=a.get(l);if(S){const[I,z]=S,g=i(I,z),y=d.get(g),R=[_[n],_[o]];let h,C;y?(y[0]!==R[0]&&(h=!0),y[1]!==R[1]&&(C=!0)):h=C=!0,h&&u.add(I),C&&f.add(z),(h||C)&&d.set(g,R)}}if(u.size){const l=[];u.forEach(_=>{let S=0;m.forEach(I=>{const z=d.get(i(_,I));z&&(S=E(S,z[0]))}),S&&l.push([_,S])}),e.$update(k,l)}if(f.size){const l=[];f.forEach(_=>{let S=0;$.forEach(I=>{const z=d.get(i(I,_));z&&(S=E(S,z[1]))}),S&&l.push([_,S])}),t.$update(k,l)}});return{$observeRoot(c){r._observe(s=c)},$observeItem(c,u,f){return a.set(c,[u,f]),$.add(u),m.add(f),r._observe(c),()=>{a.delete(c),r._unobserve(c)}},$resizeCols(c){for(const[u]of c)for(let f=0;f<e.$getItemsLength();f++)d.delete(i(f,u));t.$update(k,c)},$resizeRows(c){for(const[u]of c)for(let f=0;f<t.$getItemsLength();f++)d.delete(i(u,f));e.$update(k,c)},$dispose:r._dispose}},Pe=pe?X.useLayoutEffect:X.useEffect,re="current",he=(e,t)=>{if(Array.isArray(e))for(const s of e)he(s,t);else e==null||typeof e=="boolean"||t.push(e)},Qe=e=>{const t=[];return he(e,t),t},je=(e,t)=>{const s=e.key;return s??"_"+t},He=e=>{const t=X.useRef(null);return t[re]||(t[re]=e())},et=e=>{const t=X.useRef(e);return Pe(()=>{t[re]=e},[e]),t};export{De as A,A as U,et as a,Pe as b,Je as c,We as d,Fe as e,Ze as f,Be as g,Ge as h,Ie as i,Ee as j,Xe as k,Se as l,Ke as m,je as n,qe as o,Ye as p,Qe as q,re as r,ve as s,He as u};
