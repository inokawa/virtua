import{r as X}from"./iframe-CBJ9MTRo.js";const J=null,{min:k,max:E,abs:de,floor:he}=Math,re=(e,t,s)=>k(s,E(t,e)),Re=e=>[...e].sort((t,s)=>t-s),pe=typeof queueMicrotask=="function"?queueMicrotask:e=>{Promise.resolve().then(e)},K=()=>{let e;return[new Promise(s=>{e=s}),e]},ge=e=>{let t;return()=>(e&&(t=e(),e=void 0),t)},D=-1,P=(e,t,s)=>{const n=s?"unshift":"push";for(let i=0;i<t;i++)e[n](D);return e},Ie=(e,t)=>{const s=e._sizes[t];return s===D?e._defaultItemSize:s},we=(e,t,s)=>{const n=e._sizes[t]===D;return e._sizes[t]=s,e._computedOffsetIndex=k(t,e._computedOffsetIndex),n},q=(e,t)=>{if(!e._length)return 0;if(e._computedOffsetIndex>=t)return e._offsets[t];e._computedOffsetIndex<0&&(e._offsets[0]=0,e._computedOffsetIndex=0);let s=e._computedOffsetIndex,n=e._offsets[s];for(;s<t;)n+=Ie(e,s),e._offsets[++s]=n;return e._computedOffsetIndex=t,n},M=(e,t,s=0,n=e._length-1)=>{let i=s;for(;s<=n;){const l=he((s+n)/2);q(e,l)<=t?(i=l,s=l+1):n=l-1}return re(i,0,e._length-1)},Ce=(e,t,s,n)=>{if(n=k(n,e._length-1),q(e,n)<=t){const i=M(e,s,n);return[M(e,t,n,i),i]}else{const i=M(e,t,void 0,n);return[i,M(e,s,i)]}},ye=(e,t)=>{let s=0;const n=[];e._sizes.forEach((o,r)=>{o!==D&&(n.push(o),r<t&&s++)}),e._computedOffsetIndex=-1;const i=Re(n),l=i.length,a=l/2|0,f=l%2===0?(i[a-1]+i[a])/2:i[a],u=e._defaultItemSize;return((e._defaultItemSize=f)-u)*E(t-s,0)},Ne=(e,t,s)=>({_defaultItemSize:t,_sizes:s?P(s.slice(0,k(e,s.length)),E(0,e-s.length)):P([],e),_length:e,_computedOffsetIndex:-1,_offsets:P([],e+1)}),Ae=e=>[e._sizes.slice(),e._defaultItemSize],me=(e,t,s)=>{const n=t-e._length;return e._computedOffsetIndex=s?-1:k(t-1,e._computedOffsetIndex),e._length=t,n>0?(P(e._offsets,n),P(e._sizes,n,s),e._defaultItemSize*n):(e._offsets.splice(n),(s?e._sizes.splice(0,-n):e._sizes.splice(n)).reduce((i,l)=>i-(l===D?e._defaultItemSize:l),0))},ke=typeof window<"u",ee=e=>e.documentElement,x=e=>e.ownerDocument,U=e=>e.defaultView,ze=ge(()=>/iP(hone|od|ad)/.test(navigator.userAgent)?!0:navigator.platform==="MacIntel"&&navigator.maxTouchPoints>0),Ve=ge(()=>"scrollBehavior"in ee(document).style),Me=2147483647,V=0,_e=1,$e=2,W=0,Q=1,H=2,te=1,Oe=2,N=3,B=4,Je=5,be=6,se=7,ve=8,y=1,ne=2,De=4,We=8,Ke=e=>E(e.$getTotalSize(),e.$getViewportSize()),Be=(e,t=40,s=0,n,i=!1)=>{let l=!!s,a=1,f=0,u=0,o=0,r=0,c=0,m=0,_=V,d=W,$=J,p=[0,l?E(s-1,0):-1],z=0,O=!1;const I=Ne(e,n?n[1]:t,n&&n[0]),h=new Set,R=()=>o-u,ce=()=>R()+c+r,fe=(g,S)=>Ce(I,g,S,p[0]),Z=()=>q(I,I._length),ue=(g,S)=>{const b=q(I,g)-c;return S?Z()-b-F(g):b},F=g=>Ie(I,g),ae=(g,S=D)=>I._sizes[g]===S,j=g=>{g&&(ze()&&_!==V||$&&d===Q?c+=g:r+=g)};return{$dispose:()=>{h.clear()},$getStateVersion:()=>a,$getCacheSnapshot:()=>Ae(I),$getRange:(g=200)=>{if(!O||l)return p;let S,b;if(m)[S,b]=p;else{let w=E(0,ce()),v=w+f;i||(g=E(0,g),_!==_e&&(w-=g),_!==$e&&(v+=g)),[S,b]=p=fe(E(0,w),E(0,v)),$&&(S=k(S,$[0]),b=E(b,$[1]))}return[E(S,0),k(b,I._length-1)]},$findItemIndex:g=>M(I,g-u),$isUnmeasuredItem:ae,$getItemOffset:ue,$getItemSize:F,$getItemsLength:()=>I._length,$getScrollOffset:()=>o,$isScrolling:()=>_!==V,$getViewportSize:()=>f,$getStartSpacerSize:()=>u,$getTotalSize:Z,_flushJump:()=>(m=r,r=0,[m,d===H]),$subscribe:(g,S)=>{const b=[g,S];return h.add(b),()=>{h.delete(b)}},$update:(g,S)=>{let b,w,v=0;switch(g){case te:{if(S===o&&d===W)break;const C=m;m=0;const L=S-o,T=de(L);!(C&&T<de(C)+1)&&d===W&&(_=L<0?$e:_e),l&&(l=!1),o=S,v=De;const G=R();G>=-f&&G<=Z()&&(v+=y,w=T>f);break}case Oe:{v=We,_!==V&&(b=!0,v+=y),_=V,d=W,$=J;break}case N:{const C=S.filter(([L,T])=>!ae(L,T));if(!C.length)break;j(C.reduce((L,[T,Y])=>((d===H||($&&d===Q?T<$[0]:ue(T+(_===V&&d===W?1:0))<R()))&&(L+=Y-F(T)),L),0));for(const[L,T]of C){const Y=F(L),G=we(I,L,T);i&&(z+=G?T:T-Y)}i&&f&&z>f&&(j(ye(I,M(I,ce()))),i=!1),v=y+ne,w=!0;break}case B:{f!==S&&(f||(O=w=!0),f=S,v=y+ne);break}case Je:{S[1]?(j(me(I,S[0],!0)),d=H,v=y):(me(I,S[0]),v=y);break}case be:{u=S;break}case se:{d=Q;break}case ve:{$=fe(S,S+f),v=y;break}}v&&(a=(a&Me)+1,b&&c&&(r+=c,c=0),h.forEach(([C,L])=>{v&C&&L(w)}))}}},ie=setTimeout,Pe=(e,t)=>{let s;const n=()=>{s!=J&&clearTimeout(s)},i=()=>{n(),s=ie(()=>{s=J,e()},t)};return i._cancel=n,i},A=(e,t)=>t?-e:e,Ee=(e,t,s,n,i,l)=>{const a=Date.now;let f=0,u=!1,o=!1,r=!1,c=!1;const m=Pe(()=>{if(u||o){u=!1,m();return}r=!1,e.$update(Oe)},150),_=()=>{f=a(),r&&(c=!0),l&&e.$update(be,l()),e.$update(te,n()),m()},d=(z=>{if(u||!e.$isScrolling()||z.ctrlKey)return;const O=a()-f;150>O&&50<O&&(s?z.deltaX:z.deltaY)&&(u=!0)}),$=()=>{o=!0,r=c=!1},p=()=>{o=!1,ze()&&(r=!0)};return t.addEventListener("scroll",_),t.addEventListener("wheel",d,{passive:!0}),t.addEventListener("touchstart",$,{passive:!0}),t.addEventListener("touchend",p,{passive:!0}),{_dispose:()=>{t.removeEventListener("scroll",_),t.removeEventListener("wheel",d),t.removeEventListener("touchstart",$),t.removeEventListener("touchend",p),m._cancel()},_fixScrollJump:()=>{const[z,O]=e._flushJump();z&&(i(z,O,c),c=!1,O&&e.$getViewportSize()>e.$getTotalSize()&&e.$update(te,n()))}}},Le=(e,t,s)=>{let n;return[async(i,l)=>{if(!await t())return;n&&n();const a=()=>{const[f,u]=K();return n=()=>{u(!1)},e.$getViewportSize()&&ie(n,150),[f,e.$subscribe(ne,()=>{u(!0)})]};if(l&&Ve())e.$update(ve,i()),pe(async()=>{for(;;){let f=!0;for(let[r,c]=e.$getRange();r<=c;r++)if(e.$isUnmeasuredItem(r)){f=!1;break}if(f)break;const[u,o]=a();try{if(!await u)return}finally{o()}}e.$update(se),s(i(),l)});else for(;;){const[f,u]=a();try{if(e.$update(se),s(i()),!await f)return}finally{u()}}},()=>{n&&n()}]},Se=(e,t)=>{let s,n,i=K(),l=!1;const a=t?"scrollLeft":"scrollTop",f=t?"overflowX":"overflowY",[u,o]=Le(e,()=>i[0],(r,c)=>{r=A(r,l),c?s.scrollTo({[t?"left":"top"]:r,behavior:"smooth"}):s[a]=r});return{$observe(r,c){s=c,t&&(l=getComputedStyle(c).direction==="rtl"),n=Ee(e,c,t,()=>A(c[a],l),(m,_,d)=>{if(d){const $=c.style,p=$[f];$[f]="hidden",ie(()=>{$[f]=p})}c[a]=A(e.$getScrollOffset()+m,l),_&&o()}),i[1](!0)},$dispose(){n&&n._dispose(),i[1](!1),i=K()},$isNegative:()=>l,$scrollTo(r){u(()=>r)},$scrollBy(r){r+=e.$getScrollOffset(),u(()=>r)},$scrollToIndex(r,{align:c,smooth:m,offset:_=0}={}){if(r=re(r,0,e.$getItemsLength()-1),c==="nearest"){const d=e.$getItemOffset(r),$=e.$getScrollOffset();if(d<$)c="start";else if(d+e.$getItemSize(r)>$+e.$getViewportSize())c="end";else return}u(()=>_+e.$getStartSpacerSize()+e.$getItemOffset(r)+(c==="end"?e.$getItemSize(r)-e.$getViewportSize():c==="center"?(e.$getItemSize(r)-e.$getViewportSize())/2:0),m)},$fixScrollJump:()=>{n&&n._fixScrollJump()}}},Fe=(e,t)=>{let s,n,i=K(),l=!1;const a=t?"left":"top",[f]=Le(e,()=>i[0],(o,r)=>{o=A(o,l);const c=U(x(s));r?c.scroll({[a]:o,behavior:"smooth"}):c.scroll({[a]:o})}),u=(o,r,c,m,_=0)=>{const d=m?"offsetLeft":"offsetTop",$=_+(m&&l?c.innerWidth-o[d]-o.offsetWidth:o[d]),p=o.offsetParent;return o===r||!p?$:u(p,r,c,m,$)};return{$observe(o){s=o;const r=t?"scrollX":"scrollY",c=x(o),m=U(c);t&&(l=getComputedStyle(ee(c)).direction==="rtl"),n=Ee(e,m,t,()=>A(m[r],l),(_,d)=>{d?m.scroll({[a]:A(e.$getScrollOffset()+_,l)}):m.scrollBy({[a]:A(_,l)})},()=>u(o,c.body,m,t)),i[1](!0)},$dispose(){n&&n._dispose(),s=void 0,i[1](!1),i=K()},$isNegative:()=>l,$fixScrollJump:()=>{n&&n._fixScrollJump()},$scrollToIndex(o,{align:r,smooth:c,offset:m=0}={}){if(!s)return;if(o=re(o,0,e.$getItemsLength()-1),r==="nearest"){const z=e.$getItemOffset(o),O=e.$getScrollOffset();if(z<O)r="start";else if(z+e.$getItemSize(o)>O+e.$getViewportSize())r="end";else return}const _=x(s),d=U(_),$=ee(_),p=()=>e.$getViewportSize()-(t?$.clientWidth:$.clientHeight);f(()=>m+u(s,_.body,d,t)+e.$getItemOffset(o)+(r==="end"?e.$getItemSize(o)-(e.$getViewportSize()-p()):r==="center"?(e.$getItemSize(o)-(e.$getViewportSize()-p()))/2:0),c)}}},Ye=(e,t)=>{const s=Se(e,!1),n=Se(t,!0);return{$observe(i,l){s.$observe(i,l),n.$observe(i,l)},$dispose(){s.$dispose(),n.$dispose()},$isNegative:n.$isNegative,$scrollTo(i,l){i!=null&&s.$scrollTo(i),l!=null&&n.$scrollTo(l)},$scrollBy(i,l){i!=null&&s.$scrollBy(i),l!=null&&n.$scrollBy(l)},$scrollToIndex(i,l){i!=null&&s.$scrollToIndex(i),l!=null&&n.$scrollToIndex(l)},$fixScrollJump(){s.$fixScrollJump(),n.$fixScrollJump()}}},le=e=>{let t;return{_observe(s){(t||(t=new(U(x(s))).ResizeObserver(e))).observe(s)},_unobserve(s){t.unobserve(s)},_dispose(){t&&t.disconnect()}}},Ge=(e,t)=>{let s;const n=t?"width":"height",i=new WeakMap,l=le(a=>{const f=[];for(const{target:u,contentRect:o}of a)if(u.offsetParent)if(u===s)e.$update(B,o[n]);else{const r=i.get(u);r!=J&&f.push([r,o[n]])}f.length&&e.$update(N,f)});return{$observeRoot(a){l._observe(s=a)},$observeItem:(a,f)=>(i.set(a,f),l._observe(a),()=>{i.delete(a),l._unobserve(a)}),$dispose:l._dispose}},Xe=(e,t)=>{const s=t?"width":"height",n=t?"innerWidth":"innerHeight",i=new WeakMap,l=le(f=>{const u=[];for(const{target:o,contentRect:r}of f){if(!o.offsetParent)continue;const c=i.get(o);c!=J&&u.push([c,r[s]])}u.length&&e.$update(N,u)});let a;return{$observeRoot(f){const u=U(x(f)),o=()=>{e.$update(B,u[n])};u.addEventListener("resize",o),pe(o),a=()=>{u.removeEventListener("resize",o)}},$observeItem:(f,u)=>(i.set(f,u),l._observe(f),()=>{i.delete(f),l._unobserve(f)}),$dispose(){a&&a(),l._dispose()}}},qe=(e,t)=>{let s;const n=new WeakMap,i=new Set,l=new Set,a=new Map,f=(o,r)=>`${o}-${r}`,u=le(o=>{const r=new Set,c=new Set;for(const{target:m,contentRect:{width:_,height:d}}of o)if(m.offsetParent)if(m===s)e.$update(B,d),t.$update(B,_);else{const $=n.get(m);if($){const[p,z]=$,O=f(p,z),I=a.get(O);let h,R;I?(I[0]!==d&&(h=!0),I[1]!==_&&(R=!0)):h=R=!0,h&&r.add(p),R&&c.add(z),(h||R)&&a.set(O,[d,_])}}if(r.size){const m=[];r.forEach(_=>{let d=0;l.forEach($=>{const p=a.get(f(_,$));p&&(d=E(d,p[0]))}),d&&m.push([_,d])}),e.$update(N,m)}if(c.size){const m=[];c.forEach(_=>{let d=0;i.forEach($=>{const p=a.get(f($,_));p&&(d=E(d,p[1]))}),d&&m.push([_,d])}),t.$update(N,m)}});return{$observeRoot(o){u._observe(s=o)},$observeItem(o,r,c){return n.set(o,[r,c]),i.add(r),l.add(c),u._observe(o),()=>{n.delete(o),u._unobserve(o)}},$resizeCols(o){for(const[r]of o)for(let c=0;c<e.$getItemsLength();c++)a.delete(f(c,r));t.$update(N,o)},$resizeRows(o){for(const[r]of o)for(let c=0;c<t.$getItemsLength();c++)a.delete(f(r,c));e.$update(N,o)},$dispose:u._dispose}},xe=ke?X.useLayoutEffect:X.useEffect,oe="current",Te=(e,t)=>{if(Array.isArray(e))for(const s of e)Te(s,t);else e==null||typeof e=="boolean"||t.push(e)},Ze=e=>{const t=[];return Te(e,t),t},je=(e,t)=>{const s=e.key;return s??"_"+t},Qe=e=>{const t=X.useRef(null);return t[oe]||(t[oe]=e())},He=e=>{const t=X.useRef(e);return xe(()=>{t[oe]=e},[e]),t};export{Je as A,y as U,Qe as a,be as b,xe as c,De as d,We as e,Be as f,Ke as g,Ge as h,Se as i,je as j,Xe as k,Fe as l,pe as m,Ze as n,qe as o,Ye as p,oe as r,Re as s,He as u};
