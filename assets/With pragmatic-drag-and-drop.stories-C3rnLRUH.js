import{j as k}from"./jsx-runtime-D_zvdyIk.js";import{r as C,R as at}from"./iframe-BoI5bJ6Z.js";import{_ as E}from"./defineProperty-CegpTSss.js";import{r as it}from"./index-M_VcXNYe.js";import{V as ze}from"./VList-TuqWwrss.js";import"./index-exaFy-fc.js";import"./Virtualizer-BZXmzB2E.js";import"./useLatestRef-CzhV_rsI.js";import"./useChildren-GZDHuoaX.js";function ot(e){if(Array.isArray(e))return e}function lt(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n,a,i,o,c=[],l=!0,u=!1;try{if(i=(t=t.call(e)).next,r===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(n=i.call(t)).done)&&(c.push(n.value),c.length!==r);l=!0);}catch(s){u=!0,a=s}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(u)throw a}}return c}}function ne(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function Ke(e,r){if(e){if(typeof e=="string")return ne(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ne(e,r):void 0}}function ut(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ce(e,r){return ot(e)||lt(e,r)||Ke(e,r)||ut()}var Q={},W={},pe;function Be(){if(pe)return W;pe=1,Object.defineProperty(W,"__esModule",{value:!0}),W.bind=void 0;function e(r,t){var n=t.type,a=t.listener,i=t.options;return r.addEventListener(n,a,i),function(){r.removeEventListener(n,a,i)}}return W.bind=e,W}var F={},me;function ct(){if(me)return F;me=1;var e=F&&F.__assign||function(){return e=Object.assign||function(i){for(var o,c=1,l=arguments.length;c<l;c++){o=arguments[c];for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(i[u]=o[u])}return i},e.apply(this,arguments)};Object.defineProperty(F,"__esModule",{value:!0}),F.bindAll=void 0;var r=Be();function t(i){if(!(typeof i>"u"))return typeof i=="boolean"?{capture:i}:i}function n(i,o){if(o==null)return i;var c=e(e({},i),{options:e(e({},t(o)),t(i.options))});return c}function a(i,o,c){var l=o.map(function(u){var s=n(u,c);return(0,r.bind)(i,s)});return function(){l.forEach(function(s){return s()})}}return F.bindAll=a,F}var ye;function st(){return ye||(ye=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.bindAll=e.bind=void 0;var r=Be();Object.defineProperty(e,"bind",{enumerable:!0,get:function(){return r.bind}});var t=ct();Object.defineProperty(e,"bindAll",{enumerable:!0,get:function(){return t.bindAll}})})(Q)),Q}var L=st(),Ue="data-pdnd-honey-pot";function qe(e){return e instanceof Element&&e.hasAttribute(Ue)}function se(e){var r=document.elementsFromPoint(e.x,e.y),t=ce(r,2),n=t[0],a=t[1];return n?qe(n)?a??null:n:null}var Ne=2147483647;function be(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function he(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?be(Object(t),!0).forEach(function(n){E(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):be(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var K=2,xe=K/2;function dt(e){return{x:Math.floor(e.x),y:Math.floor(e.y)}}function ft(e){return{x:e.x-xe,y:e.y-xe}}function vt(e){return{x:Math.max(e.x,0),y:Math.max(e.y,0)}}function gt(e){return{x:Math.min(e.x,window.innerWidth-K),y:Math.min(e.y,window.innerHeight-K)}}function Oe(e){var r=e.client,t=gt(vt(ft(dt(r))));return DOMRect.fromRect({x:t.x,y:t.y,width:K,height:K})}function Se(e){var r=e.clientRect;return{left:"".concat(r.left,"px"),top:"".concat(r.top,"px"),width:"".concat(r.width,"px"),height:"".concat(r.height,"px")}}function pt(e){var r=e.client,t=e.clientRect;return r.x>=t.x&&r.x<=t.x+t.width&&r.y>=t.y&&r.y<=t.y+t.height}function mt(e){var r=e.initial,t=document.createElement("div");t.setAttribute(Ue,"true");var n=Oe({client:r});Object.assign(t.style,he(he({backgroundColor:"transparent",position:"fixed",padding:0,margin:0,boxSizing:"border-box"},Se({clientRect:n})),{},{pointerEvents:"auto",zIndex:Ne})),document.body.appendChild(t);var a=L.bind(window,{type:"pointermove",listener:function(o){var c={x:o.clientX,y:o.clientY};n=Oe({client:c}),Object.assign(t.style,Se({clientRect:n}))},options:{capture:!0}});return function(o){var c=o.current;if(a(),pt({client:c,clientRect:n})){t.remove();return}function l(){u(),t.remove()}var u=L.bindAll(window,[{type:"pointerdown",listener:l},{type:"pointermove",listener:l},{type:"focusin",listener:l},{type:"focusout",listener:l},{type:"dragstart",listener:l},{type:"dragenter",listener:l},{type:"dragover",listener:l}],{capture:!0})}}function yt(){var e=null;function r(){return e=null,L.bind(window,{type:"pointermove",listener:function(a){e={x:a.clientX,y:a.clientY}},options:{capture:!0}})}function t(){var n=null;return function(i){var o=i.eventName,c=i.payload;if(o==="onDragStart"){var l=c.location.initial.input,u=e??{x:l.clientX,y:l.clientY};n=mt({initial:u})}if(o==="onDrop"){var s,d=c.location.current.input;(s=n)===null||s===void 0||s({current:{x:d.clientX,y:d.clientY}}),n=null,e=null}}}return{bindEvents:r,getOnPostDispatch:t}}function bt(e){if(Array.isArray(e))return ne(e)}function ht(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xe(e){return bt(e)||ht(e)||Ke(e)||xt()}function Z(e){var r=null;return function(){if(!r){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=e.apply(this,a);r={result:o}}return r.result}}var Ot=Z(function(){return navigator.userAgent.includes("Firefox")}),U=Z(function(){var r=navigator,t=r.userAgent;return t.includes("AppleWebKit")&&!t.includes("Chrome")}),ae={isLeavingWindow:Symbol("leaving"),isEnteringWindow:Symbol("entering")};function St(e){var r=e.dragLeave;return U()?r.hasOwnProperty(ae.isLeavingWindow):!1}(function(){if(typeof window>"u"||!U())return;function r(){return{enterCount:0,isOverWindow:!1}}var t=r();function n(){t=r()}L.bindAll(window,[{type:"dragstart",listener:function(){t.enterCount=0,t.isOverWindow=!0}},{type:"drop",listener:n},{type:"dragend",listener:n},{type:"dragenter",listener:function(i){!t.isOverWindow&&t.enterCount===0&&(i[ae.isEnteringWindow]=!0),t.isOverWindow=!0,t.enterCount++}},{type:"dragleave",listener:function(i){t.enterCount--,t.isOverWindow&&t.enterCount===0&&(i[ae.isLeavingWindow]=!0,t.isOverWindow=!1)}}],{capture:!0})})();function wt(e){return"nodeName"in e}function Dt(e){return wt(e)&&e.ownerDocument!==document}function Et(e){var r=e.dragLeave,t=r.type,n=r.relatedTarget;return t!=="dragleave"?!1:U()?St({dragLeave:r}):n==null?!0:Ot()?Dt(n):n instanceof HTMLIFrameElement}function At(e){var r=e.onDragEnd;return[{type:"pointermove",listener:(function(){var t=0;return function(){if(t<20){t++;return}r()}})()},{type:"pointerdown",listener:r}]}function z(e){return{altKey:e.altKey,button:e.button,buttons:e.buttons,ctrlKey:e.ctrlKey,metaKey:e.metaKey,shiftKey:e.shiftKey,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY}}var Pt=function(r){var t=[],n=null,a=function(){for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];t=c,!n&&(n=requestAnimationFrame(function(){n=null,r.apply(void 0,t)}))};return a.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},a},_=Pt(function(e){return e()}),q=(function(){var e=null;function r(n){var a=requestAnimationFrame(function(){e=null,n()});e={frameId:a,fn:n}}function t(){e&&(cancelAnimationFrame(e.frameId),e.fn(),e=null)}return{schedule:r,flush:t}})();function Tt(e){var r=e.source,t=e.initial,n=e.dispatchEvent,a={dropTargets:[]};function i(c){n(c),a={dropTargets:c.payload.location.current.dropTargets}}var o={start:function(l){var u=l.nativeSetDragImage,s={current:t,previous:a,initial:t};i({eventName:"onGenerateDragPreview",payload:{source:r,location:s,nativeSetDragImage:u}}),q.schedule(function(){i({eventName:"onDragStart",payload:{source:r,location:s}})})},dragUpdate:function(l){var u=l.current;q.flush(),_.cancel(),i({eventName:"onDropTargetChange",payload:{source:r,location:{initial:t,previous:a,current:u}}})},drag:function(l){var u=l.current;_(function(){q.flush();var s={initial:t,previous:a,current:u};i({eventName:"onDrag",payload:{source:r,location:s}})})},drop:function(l){var u=l.current,s=l.updatedSourcePayload;q.flush(),_.cancel(),i({eventName:"onDrop",payload:{source:s??r,location:{current:u,previous:a,initial:t}}})}};return o}var ie={isActive:!1};function Ye(){return!ie.isActive}function jt(e){return e.dataTransfer?e.dataTransfer.setDragImage.bind(e.dataTransfer):null}function It(e){var r=e.current,t=e.next;if(r.length!==t.length)return!0;for(var n=0;n<r.length;n++)if(r[n].element!==t[n].element)return!0;return!1}function Rt(e){var r=e.event,t=e.dragType,n=e.getDropTargetsOver,a=e.dispatchEvent;if(!Ye())return;var i=Ft({event:r,dragType:t,getDropTargetsOver:n});ie.isActive=!0;var o={current:i};ee({event:r,current:i.dropTargets});var c=Tt({source:t.payload,dispatchEvent:a,initial:i});function l(f){var v=It({current:o.current.dropTargets,next:f.dropTargets});o.current=f,v&&c.dragUpdate({current:o.current})}function u(f){var v=z(f),p=qe(f.target)?se({x:v.clientX,y:v.clientY}):f.target,m=n({target:p,input:v,source:t.payload,current:o.current.dropTargets});m.length&&(f.preventDefault(),ee({event:f,current:m})),l({dropTargets:m,input:v})}function s(){o.current.dropTargets.length&&l({dropTargets:[],input:o.current.input}),c.drop({current:o.current,updatedSourcePayload:null}),d()}function d(){ie.isActive=!1,g()}var g=L.bindAll(window,[{type:"dragover",listener:function(v){u(v),c.drag({current:o.current})}},{type:"dragenter",listener:u},{type:"dragleave",listener:function(v){Et({dragLeave:v})&&(l({input:o.current.input,dropTargets:[]}),t.startedFrom==="external"&&s())}},{type:"drop",listener:function(v){if(o.current={dropTargets:o.current.dropTargets,input:z(v)},!o.current.dropTargets.length){s();return}v.preventDefault(),ee({event:v,current:o.current.dropTargets}),c.drop({current:o.current,updatedSourcePayload:t.type==="external"?t.getDropPayload(v):null}),d()}},{type:"dragend",listener:function(v){o.current={dropTargets:o.current.dropTargets,input:z(v)},s()}}].concat(Xe(At({onDragEnd:s}))),{capture:!0});c.start({nativeSetDragImage:jt(r)})}function ee(e){var r,t=e.event,n=e.current,a=(r=n[0])===null||r===void 0?void 0:r.dropEffect;a!=null&&t.dataTransfer&&(t.dataTransfer.dropEffect=a)}function Ft(e){var r=e.event,t=e.dragType,n=e.getDropTargetsOver,a=z(r);if(t.startedFrom==="external")return{input:a,dropTargets:[]};var i=n({input:a,source:t.payload,target:r.target,current:[]});return{input:a,dropTargets:i}}var we={canStart:Ye,start:Rt},oe=new Map;function kt(e){var r=e.typeKey,t=e.mount,n=oe.get(r);if(n)return n.usageCount++,n;var a={typeKey:r,unmount:t(),usageCount:1};return oe.set(r,a),a}function Ct(e){var r=kt(e);return function(){r.usageCount--,!(r.usageCount>0)&&(r.unmount(),oe.delete(e.typeKey))}}function $(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(){r.forEach(function(a){return a()})}}function Ge(e,r){var t=r.attribute,n=r.value;return e.setAttribute(t,n),function(){return e.removeAttribute(t)}}function De(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function R(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?De(Object(t),!0).forEach(function(n){E(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):De(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function te(e,r){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=Mt(e))||r){t&&(e=t);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(u){throw u},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,c=!1;return{s:function(){t=t.call(e)},n:function(){var u=t.next();return o=u.done,u},e:function(u){c=!0,i=u},f:function(){try{o||t.return==null||t.return()}finally{if(c)throw i}}}}function Mt(e,r){if(e){if(typeof e=="string")return Ee(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Ee(e,r):void 0}}function Ee(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function re(e){return e.slice(0).reverse()}function Lt(e){var r=e.typeKey,t=e.defaultDropEffect,n=new WeakMap,a="data-drop-target-for-".concat(r),i="[".concat(a,"]");function o(f){return n.set(f.element,f),function(){return n.delete(f.element)}}function c(f){return $(Ge(f.element,{attribute:a,value:"true"}),o(f))}function l(f){var v,p,m,O,y=f.source,h=f.target,x=f.input,w=f.result,b=w===void 0?[]:w;if(h==null)return b;if(!(h instanceof Element))return h instanceof Node?l({source:y,target:h.parentElement,input:x,result:b}):b;var T=h.closest(i);if(T==null)return b;var S=n.get(T);if(S==null)return b;var A={input:x,source:y,element:S.element};if(S.canDrop&&!S.canDrop(A))return l({source:y,target:S.element.parentElement,input:x,result:b});var P=(v=(p=S.getData)===null||p===void 0?void 0:p.call(S,A))!==null&&v!==void 0?v:{},j=(m=(O=S.getDropEffect)===null||O===void 0?void 0:O.call(S,A))!==null&&m!==void 0?m:t,D={data:P,element:S.element,dropEffect:j,isActiveDueToStickiness:!1};return l({source:y,target:S.element.parentElement,input:x,result:[].concat(Xe(b),[D])})}function u(f){var v=f.eventName,p=f.payload,m=te(p.location.current.dropTargets),O;try{for(m.s();!(O=m.n()).done;){var y,h=O.value,x=n.get(h.element),w=R(R({},p),{},{self:h});x==null||(y=x[v])===null||y===void 0||y.call(x,w)}}catch(b){m.e(b)}finally{m.f()}}var s={onGenerateDragPreview:u,onDrag:u,onDragStart:u,onDrop:u,onDropTargetChange:function(v){var p=v.payload,m=new Set(p.location.current.dropTargets.map(function(H){return H.element})),O=new Set,y=te(p.location.previous.dropTargets),h;try{for(y.s();!(h=y.n()).done;){var x,w=h.value;O.add(w.element);var b=n.get(w.element),T=m.has(w.element),S=R(R({},p),{},{self:w});if(b==null||(x=b.onDropTargetChange)===null||x===void 0||x.call(b,S),!T){var A;b==null||(A=b.onDragLeave)===null||A===void 0||A.call(b,S)}}}catch(H){y.e(H)}finally{y.f()}var P=te(p.location.current.dropTargets),j;try{for(P.s();!(j=P.n()).done;){var D,M,J=j.value;if(!O.has(J.element)){var ge=R(R({},p),{},{self:J}),I=n.get(J.element);I==null||(D=I.onDropTargetChange)===null||D===void 0||D.call(I,ge),I==null||(M=I.onDragEnter)===null||M===void 0||M.call(I,ge)}}}catch(H){P.e(H)}finally{P.f()}}};function d(f){s[f.eventName](f)}function g(f){var v=f.source,p=f.target,m=f.input,O=f.current,y=l({source:v,target:p,input:m});if(y.length>=O.length)return y;for(var h=re(O),x=re(y),w=[],b=0;b<h.length;b++){var T,S=h[b],A=x[b];if(A!=null){w.push(A);continue}var P=w[b-1],j=h[b-1];if(P?.element!==j?.element)break;var D=n.get(S.element);if(!D)break;var M={input:m,source:v,element:D.element};if(D.canDrop&&!D.canDrop(M)||!((T=D.getIsSticky)!==null&&T!==void 0&&T.call(D,M)))break;w.push(R(R({},S),{},{isActiveDueToStickiness:!0}))}return re(w)}return{dropTargetForConsumers:c,getIsOver:g,dispatchEvent:d}}function $t(e,r){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=Ht(e))||r){t&&(e=t);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(u){throw u},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,c=!1;return{s:function(){t=t.call(e)},n:function(){var u=t.next();return o=u.done,u},e:function(u){c=!0,i=u},f:function(){try{o||t.return==null||t.return()}finally{if(c)throw i}}}}function Ht(e,r){if(e){if(typeof e=="string")return Ae(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Ae(e,r):void 0}}function Ae(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function Pe(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Wt(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Pe(Object(t),!0).forEach(function(n){E(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Pe(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function zt(){var e=new Set,r=null;function t(i){r&&(!i.canMonitor||i.canMonitor(r.canMonitorArgs))&&r.active.add(i)}function n(i){var o=Wt({},i);return e.add(o),t(o),function(){e.delete(o),r&&r.active.delete(o)}}function a(i){var o=i.eventName,c=i.payload;if(o==="onGenerateDragPreview"){r={canMonitorArgs:{initial:c.location.initial,source:c.source},active:new Set};var l=$t(e),u;try{for(l.s();!(u=l.n()).done;){var s=u.value;t(s)}}catch(m){l.e(m)}finally{l.f()}}if(r){for(var d=Array.from(r.active),g=0,f=d;g<f.length;g++){var v=f[g];if(r.active.has(v)){var p;(p=v[o])===null||p===void 0||p.call(v,c)}}o==="onDrop"&&(r.active.clear(),r=null)}}return{dispatchEvent:a,monitorForConsumers:n}}function Kt(e){var r=e.typeKey,t=e.mount,n=e.dispatchEventToSource,a=e.onPostDispatch,i=e.defaultDropEffect,o=zt(),c=Lt({typeKey:r,defaultDropEffect:i});function l(d){n?.(d),c.dispatchEvent(d),o.dispatchEvent(d),a?.(d)}function u(d){var g=d.event,f=d.dragType;we.start({event:g,dragType:f,getDropTargetsOver:c.getIsOver,dispatchEvent:l})}function s(){function d(){var g={canStart:we.canStart,start:u};return t(g)}return Ct({typeKey:r,mount:d})}return{registerUsage:s,dropTarget:c.dropTargetForConsumers,monitor:o.monitorForConsumers}}var Bt=Z(function(){return navigator.userAgent.toLocaleLowerCase().includes("android")}),Ut="pdnd:android-fallback",Te="text/plain",qt="text/uri-list",Nt="application/vnd.pdnd",V=new WeakMap;function Xt(e){return V.set(e.element,e),function(){V.delete(e.element)}}var je=yt(),de=Kt({typeKey:"element",defaultDropEffect:"move",mount:function(r){return $(je.bindEvents(),L.bind(document,{type:"dragstart",listener:function(n){var a,i,o,c,l,u;if(r.canStart(n)&&!n.defaultPrevented&&n.dataTransfer){var s=n.target;if(!(s instanceof HTMLElement))return null;var d=V.get(s);if(!d)return null;var g=z(n),f={element:d.element,dragHandle:(a=d.dragHandle)!==null&&a!==void 0?a:null,input:g};if(d.canDrag&&!d.canDrag(f))return n.preventDefault(),null;if(d.dragHandle){var v=se({x:g.clientX,y:g.clientY});if(!d.dragHandle.contains(v))return n.preventDefault(),null}var p=(i=(o=d.getInitialDataForExternal)===null||o===void 0?void 0:o.call(d,f))!==null&&i!==void 0?i:null;if(p)for(var m=0,O=Object.entries(p);m<O.length;m++){var y=ce(O[m],2),h=y[0],x=y[1];n.dataTransfer.setData(h,x??"")}Bt()&&!n.dataTransfer.types.includes(Te)&&!n.dataTransfer.types.includes(qt)&&n.dataTransfer.setData(Te,Ut),n.dataTransfer.setData(Nt,"");var w={element:d.element,dragHandle:(c=d.dragHandle)!==null&&c!==void 0?c:null,data:(l=(u=d.getInitialData)===null||u===void 0?void 0:u.call(d,f))!==null&&l!==void 0?l:{}},b={type:"element",payload:w,startedFrom:"internal"};r.start({event:n,dragType:b})}}}))},dispatchEventToSource:function(r){var t,n,a=r.eventName,i=r.payload;(t=V.get(i.source.element))===null||t===void 0||(n=t[a])===null||n===void 0||n.call(t,i)},onPostDispatch:je.getOnPostDispatch()}),Yt=de.dropTarget,fe=de.monitor;function Gt(e){return $(de.registerUsage(),Xt(e),Ge(e.element,{attribute:"draggable",value:"true"}))}function Vt(e){var r=e.list,t=e.startIndex,n=e.finishIndex;if(t===-1||n===-1)return Array.from(r);var a=Array.from(r),i=a.splice(t,1),o=ce(i,1),c=o[0];return a.splice(n,0,c),a}var Zt=Z(function(){return U()&&"ontouchend"in document});function Jt(e){return function(r){var t=r.container;Zt()||Object.assign(t.style,{borderInlineStart:"".concat(e.x," solid transparent"),borderTop:"".concat(e.y," solid transparent")});var n=window.getComputedStyle(t);if(n.direction==="rtl"){var a=t.getBoundingClientRect();return{x:a.width,y:0}}return{x:0,y:0}}}function Qt(){return{x:0,y:0}}function _t(e){var r=e.render,t=e.nativeSetDragImage,n=e.getOffset,a=n===void 0?Qt:n,i=document.createElement("div");Object.assign(i.style,{position:"fixed",top:0,left:0,zIndex:Ne,pointerEvents:"none"}),document.body.append(i);var o=r({container:i});queueMicrotask(function(){var u=a({container:i});if(U()){var s=i.getBoundingClientRect();if(s.width===0)return;i.style.left="-".concat(s.width-1e-4,"px")}t?.(i,u.x,u.y)});function c(){l(),o?.(),document.body.removeChild(i)}var l=fe({onDragStart:c,onDrop:c})}function Ie(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Re(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ie(Object(t),!0).forEach(function(n){E(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ie(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var er={top:function(r,t){return Math.abs(t.y-r.top)},right:function(r,t){return Math.abs(r.right-t.x)},bottom:function(r,t){return Math.abs(r.bottom-t.y)},left:function(r,t){return Math.abs(t.x-r.left)}},Ve=Symbol("closestEdge");function tr(e,r){var t,n,a=r.element,i=r.input,o=r.allowedEdges,c={x:i.clientX,y:i.clientY},l=a.getBoundingClientRect(),u=o.map(function(d){return{edge:d,value:er[d](l,c)}}),s=(t=(n=u.sort(function(d,g){return d.value-g.value})[0])===null||n===void 0?void 0:n.edge)!==null&&t!==void 0?t:null;return Re(Re({},e),{},E({},Ve,s))}function Ze(e){var r;return(r=e[Ve])!==null&&r!==void 0?r:null}function rr(e){var r=e.startIndex,t=e.closestEdgeOfTarget,n=e.indexOfTarget,a=e.axis;if(r===-1||n===-1||r===n)return r;if(t==null)return n;var i=t==="bottom"||a==="horizontal",o=r<n;return o?i?n:n-1:i?n+1:n}var B=new Map,G=new Set;function Je(e){nr(e);var r=B.get(e);if(r)return r;var t={timeOfEngagementStart:Date.now()};return B.set(e,t),t}function nr(e){G.add(e)}function ar(e){G.clear(),e(),B.forEach(function(r,t){G.has(t)||B.delete(t)}),G.clear()}function ir(){B.clear()}var Fe=new Map;function or(e){var r=Fe.get(e);if(r)return r;var t=lr(e);return Fe.set(e,t),t}function lr(e){var r={type:"idle"},t=[];function n(l){if(r.type==="running"){var u=l-r.timeLastFrameFinished,s=r,d=s.latestArgs,g=se({x:d.location.current.input.clientX,y:d.location.current.input.clientY});ar(function(){t.forEach(function(f){return f({underUsersPointer:g,latestArgs:d,timeSinceLastFrame:u})})}),r.timeLastFrameFinished=l,r.frameId=requestAnimationFrame(n)}}function a(){r.type!=="idle"&&(cancelAnimationFrame(r.frameId),ir(),r={type:"idle"})}function i(l){r.type==="idle"&&(r={type:"initializing",latestArgs:l,frameId:requestAnimationFrame(function(u){r.type==="initializing"&&(r={type:"running",timeLastFrameFinished:u,latestArgs:r.latestArgs,frameId:requestAnimationFrame(n)})})})}function o(l){if(r.type==="idle"){i(l);return}r.latestArgs=l}e({onDragStart:i,onDropTargetChange:o,onDrag:o,onDrop:a});var c={onFrame:function(u){t.push(u)}};return c}var le="data-auto-scrollable",ur="[".concat(le,'="true"]');function cr(e){return e.setAttribute(le,"true"),function(){return e.removeAttribute(le)}}function ke(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Ce(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ke(Object(t),!0).forEach(function(n){E(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ke(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var sr={startHitboxAtPercentageRemainingOfElement:{top:.25,right:.25,bottom:.25,left:.25},maxScrollAtPercentageRemainingOfHitbox:{top:.5,right:.5,bottom:.5,left:.5},timeDampeningDurationMs:400,maxMainAxisHitboxSize:180},dr={standard:900,fast:1500};function Qe(e){var r;return Ce(Ce({},sr),{},{maxPixelScrollPerSecond:dr[(r=e?.maxScrollSpeed)!==null&&r!==void 0?r:"standard"]})}var fr={top:function(r){return r.scrollTop>0},right:function(r){return Math.ceil(r.scrollLeft)+r.clientWidth<r.scrollWidth},bottom:function(r){return Math.ceil(r.scrollTop)+r.clientHeight<r.scrollHeight},left:function(r){return r.scrollLeft>0}},vr=["top","right","bottom","left"],gr={top:"vertical",right:"horizontal",bottom:"vertical",left:"horizontal"},Me={start:"top",end:"bottom",point:"y",size:"height"},Le={start:"left",end:"right",point:"x",size:"width"},_e={vertical:{mainAxis:Me,crossAxis:Le},horizontal:{mainAxis:Le,crossAxis:Me}},ve={top:"start",right:"end",bottom:"end",left:"start"};function N(e){var r=e.edge,t=e.axis;return function(a){var i,o=a.clientRect,c=a.config,l=_e[t],u=l.mainAxis,s=l.crossAxis,d=ve[r],g=Math.min(c.startHitboxAtPercentageRemainingOfElement[r]*o[u.size],c.maxMainAxisHitboxSize);return DOMRect.fromRect((i={},E(i,u.point,d==="start"?o[u.point]:o[u.point]+o[u.size]-g),E(i,s.point,o[s.point]),E(i,u.size,g),E(i,s.size,o[s.size]),i))}}var pr={top:N({axis:"vertical",edge:"top"}),right:N({axis:"horizontal",edge:"right"}),bottom:N({axis:"vertical",edge:"bottom"}),left:N({axis:"horizontal",edge:"left"})};function ue(e){var r=e.startOfRange,t=e.endOfRange,n=e.value,a=r<t;if(!a||n<r)return 0;if(n>t)return 1;var i=t-r;return(n-r)/i}function mr(e){var r=e.timeSinceLastFrame,t=e.config,n=t.maxPixelScrollPerSecond/1e3,a=Math.ceil(n*r),i=t.maxPixelScrollPerSecond/60;return Math.min(a,i)}function yr(e){var r=e.client,t=e.axis,n=e.edge,a=e.hitbox,i=e.config,o=_e[t].mainAxis,c=ve[n],l=a[o.size]*i.maxScrollAtPercentageRemainingOfHitbox[n];if(c==="end")return ue({startOfRange:a[o.start],endOfRange:a[o.end]-l,value:r[o.point]});var u=ue({startOfRange:a[o.start]+l,endOfRange:a[o.end],value:r[o.point]});return 1-u}function X(e){var r=e.client,t=e.timeSinceLastFrame,n=e.engagement,a=e.axis,i=e.hitbox,o=e.edge,c=e.isDistanceDampeningEnabled,l=e.config,u=mr({timeSinceLastFrame:t,config:l}),s=c?yr({client:r,edge:o,hitbox:i,axis:a,config:l}):1,d=ue({startOfRange:n.timeOfEngagementStart,endOfRange:n.timeOfEngagementStart+l.timeDampeningDurationMs,value:Date.now()}),g=s*d,f=Math.max(u*g,1),v=ve[o];return v==="end"?f:-1*f}function br(e,r){return r==="all"||e===r}function hr(e){var r=e.client,t=e.clientRect;return r.x>=t.x&&r.x<=t.x+t.width&&r.y>=t.y&&r.y<=t.y+t.height}function xr(e){return e.getBoundingClientRect()}function et(e){var r=e.element,t=e.input,n=e.timeSinceLastFrame,a=e.engagement,i=e.config,o=e.allowedAxis,c=e.getRect,l=c===void 0?xr:c,u={x:t.clientX,y:t.clientY},s=l(r),d=vr.reduce(function(v,p){var m=pr[p]({clientRect:s,config:i}),O=gr[p];return!br(O,o)||!hr({client:u,clientRect:m})||!fr[p](r)||v.set(p,{edge:p,hitbox:m}),v},new Map),g=(function(){var v="horizontal",p=d.get("left");if(p)return X({client:u,edge:p.edge,hitbox:p.hitbox,axis:v,timeSinceLastFrame:n,engagement:a,isDistanceDampeningEnabled:!0,config:i});var m=d.get("right");return m?X({client:u,edge:m.edge,hitbox:m.hitbox,axis:v,timeSinceLastFrame:n,engagement:a,isDistanceDampeningEnabled:!0,config:i}):0})(),f=(function(){var v="vertical",p=d.get("bottom");if(p)return X({client:u,edge:p.edge,hitbox:p.hitbox,axis:v,timeSinceLastFrame:n,engagement:a,isDistanceDampeningEnabled:!0,config:i});var m=d.get("top");return m?X({client:u,edge:m.edge,hitbox:m.hitbox,axis:v,timeSinceLastFrame:n,engagement:a,isDistanceDampeningEnabled:!0,config:i}):0})();return{left:g,top:f}}function Or(e,r){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=Sr(e))||r){t&&(e=t);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(u){throw u},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,c=!1;return{s:function(){t=t.call(e)},n:function(){var u=t.next();return o=u.done,u},e:function(u){c=!0,i=u},f:function(){try{o||t.return==null||t.return()}finally{if(c)throw i}}}}function Sr(e,r){if(e){if(typeof e=="string")return $e(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?$e(e,r):void 0}}function $e(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function tt(e){return!!(e.top||e.left)}function rt(e){var r,t,n,a=e.target,i=e.input,o=e.source,c=e.findEntry,l=e.timeSinceLastFrame,u=e.available,s=u===void 0?{top:!0,left:!0}:u;if(!tt(s)||!a)return s;var d=a.closest(ur);if(!d)return s;var g=c(d);if(!g)return s;function f(){var x;return rt({target:(x=d?.parentElement)!==null&&x!==void 0?x:null,findEntry:c,source:o,timeSinceLastFrame:l,input:i,available:s})}var v={input:i,source:o,element:d};if(g.canScroll&&!g.canScroll(v))return f();var p=Je(d),m=Qe((r=g.getConfiguration)===null||r===void 0?void 0:r.call(g,v)),O=(t=(n=g.getAllowedAxis)===null||n===void 0?void 0:n.call(g,v))!==null&&t!==void 0?t:"all",y=et({element:d,engagement:p,input:i,timeSinceLastFrame:l,allowedAxis:O,config:m}),h={top:0,left:0};return s.top&&y.top!==0&&(h.top=y.top,s.top=!1),s.left&&y.left!==0&&(h.left=y.left,s.left=!1),(h.top!==0||h.left!==0)&&d.scrollBy(h),f()}function wr(e){var r=e.input,t=e.timeSinceLastFrame,n=e.available,a=e.source,i=e.entries,o=document.documentElement,c={input:r,source:a,element:o},l=Or(i),u;try{for(l.s();!(u=l.n()).done;){var s,d,g,f=u.value;if(!(f.canScroll&&!f.canScroll(c))){var v=Je(o),p=Qe((s=f.getConfiguration)===null||s===void 0?void 0:s.call(f,c)),m=(d=(g=f.getAllowedAxis)===null||g===void 0?void 0:g.call(f,c))!==null&&d!==void 0?d:"all",O=et({element:o,engagement:v,input:r,config:p,allowedAxis:m,getRect:function(x){return DOMRect.fromRect({y:0,x:0,width:x.clientWidth,height:x.clientHeight})},timeSinceLastFrame:t}),y={top:n.top?O.top:0,left:n.left?O.left:0};(y.top!==0||y.left!==0)&&o.scrollBy(y);break}}}catch(h){l.e(h)}finally{l.f()}}function Dr(e){var r=e.input,t=e.findEntry,n=e.timeSinceLastFrame,a=e.source,i=e.getWindowScrollEntries,o=e.underUsersPointer,c=rt({target:o,timeSinceLastFrame:n,input:r,source:a,findEntry:t});tt(c)&&wr({input:r,source:a,entries:i(),timeSinceLastFrame:n,available:c})}function He(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Er(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?He(Object(t),!0).forEach(function(n){E(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):He(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Ar(e){var r=e.monitor,t=new Map,n=new Set;function a(u){return t.set(u.element,u),$(cr(u.element),function(){return t.delete(u.element)})}function i(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=Er({},u);return n.add(s),function(){return n.delete(s)}}function o(u){var s;return(s=t.get(u))!==null&&s!==void 0?s:null}function c(){return Array.from(n)}function l(u){var s=u.latestArgs,d=u.underUsersPointer,g=u.timeSinceLastFrame;Dr({input:s.location.current.input,source:s.source,findEntry:o,underUsersPointer:d,timeSinceLastFrame:g,getWindowScrollEntries:c})}return or(r).onFrame(l),{autoScroll:a,autoScrollWindow:i}}var Pr=Ar({monitor:fe}),Tr=Pr.autoScroll;const jr=5;function Ir(e){if(!e.length)return;if(e.length===1&&e[0]&&!e[0].includes(" "))return e[0];const r={};for(const n of e){if(!n)continue;const a=n.split(" ");for(const i of a){const o=i.startsWith("_")?i.slice(0,jr):i;r[o]=i}}let t="";for(const n in r)t+=r[n]+" ";if(t)return t.trimEnd()}var nt={default:"var(--ds-border-selected, #0C66E4)",warning:"var(--ds-border-warning, #E56910)"},Rr="var(--ds-border-width-outline, 2px)",Fr={top:"horizontal",bottom:"horizontal",left:"vertical",right:"vertical"},kr={root:"_1e0c1ule _kqswstnw _1pbykb7n _lcxvglyw _bfhkys7w _rfx31ssb _3l8810ly _kzdanqa1 _15m6ys7w _cfu11ld9 _1kt9b3bt _1cs8stnw _13y0usvi _1mp4vjfa _kfgtvjfa"},Cr={horizontal:"_4t3i10ly _1e02fghn _rjxpidpf _z5wtuj5p",vertical:"_1bsb10ly _154ifghn _94n5idpf _1aukuj5p"},Mr={top:"_154ihv0e _1auk70hn",right:"_1xi2hv0e _ooun70hn",bottom:"_94n5hv0e _19wo70hn",left:"_1ltvhv0e _qnec70hn"},Lr={terminal:function(r){var t=r.indent;return"calc(var(--terminal-radius) + ".concat(t,")")},"terminal-no-bleed":function(r){var t=r.indent;return"calc(var(--terminal-diameter) + ".concat(t,")")},"no-terminal":function(r){var t=r.indent;return t}};function $r(e){var r=e.edge,t=e.gap,n=t===void 0?"0px":t,a=e.indent,i=a===void 0?"0px":a,o=e.strokeColor,c=o===void 0?nt.default:o,l=e.strokeWidth,u=l===void 0?Rr:l,s=e.type,d=s===void 0?"terminal":s,g=Fr[r];return C.createElement("div",{style:{"--stroke-color":c,"--stroke-width":u,"--main-axis-offset":"calc(-0.5 * (".concat(n," + var(--stroke-width)))"),"--line-main-axis-start":Lr[d]({indent:i}),"--terminal-display":d==="no-terminal"?"none":"block","--terminal-diameter":"calc(var(--stroke-width) * 4)","--terminal-radius":"calc(var(--terminal-diameter) / 2)","--terminal-main-axis-start":"calc(-1 * var(--terminal-diameter))","--terminal-cross-axis-offset":"calc(calc(var(--stroke-width) - var(--terminal-diameter)) / 2)"},className:Ir([kr.root,Cr[g],Mr[r]])})}function Hr(e){var r=e.appearance,t=r===void 0?"default":r,n=e.edge,a=e.gap,i=e.indent,o=e.type;return at.createElement($r,{edge:n,gap:a,strokeColor:nt[t],type:o,indent:i})}const Vr={component:ze},Y={type:"idle"},We={type:"dragging"},Wr=({id:e})=>{const r=C.useRef(null),t=C.useRef(null),[n,a]=C.useState(Y);return C.useEffect(()=>{const i=r.current,o={id:e};return $(Gt({element:i,dragHandle:t.current,getInitialData:()=>o,onGenerateDragPreview({nativeSetDragImage:c}){_t({nativeSetDragImage:c,getOffset:Jt({x:"16px",y:"8px"}),render({container:l}){return a({type:"preview",container:l}),()=>a(We)}})},onDragStart(){a(We)},onDrop(){a(Y)}}),Yt({element:i,canDrop({source:c}){return c.data.id!==e},getIsSticky:()=>!0,getData({input:c}){return tr(o,{element:i,input:c,allowedEdges:["top","bottom"]})},onDrag({self:c}){const l=Ze(c.data);a(u=>u.type==="is-over"&&u.closestEdge===l?u:{type:"is-over",closestEdge:l})},onDragLeave(){a(Y)},onDrop(){a(Y)}}))},[e]),k.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start",columnGap:16,padding:"8px 16px",height:40,borderBottom:"solid 1px #ccc",background:"#fff",opacity:n.type==="dragging"?.4:void 0,zIndex:n.type==="is-over"&&n.closestEdge?1:void 0,pointerEvents:"auto"},ref:r,children:[k.jsx("div",{ref:t,style:{cursor:"grab"},children:"â ¿"}),k.jsx("div",{children:e}),n.type==="is-over"&&n.closestEdge&&k.jsx(Hr,{edge:n.closestEdge}),n.type==="preview"&&it.createPortal(k.jsx("div",{style:{padding:"8px 16px",background:"#fff"},children:e}),n.container)]})},Zr={name:"With pragmatic-drag-and-drop",render:()=>{const[e,r]=C.useState(()=>Array.from({length:1e3},(t,n)=>({id:n+1})));return C.useEffect(()=>{const t=document.getElementById("vlist");return $(fe({onDrop({location:n,source:a}){const i=n.current.dropTargets[0];if(!i)return;const o=e.findIndex(u=>u.id===a.data.id);if(o<0)return;const c=e.findIndex(u=>u.id===i.data.id);if(c<0)return;const l=rr({startIndex:o,closestEdgeOfTarget:Ze(i.data),indexOfTarget:c,axis:"vertical"});l!==o&&r(u=>Vt({list:u,startIndex:o,finishIndex:l}))}}),Tr({canScroll:()=>!0,element:t}))},[e]),k.jsx(ze,{id:"vlist",style:{width:400,height:600},children:e.map(t=>k.jsx(Wr,{id:t.id},t.id))})}},Jr=["Default"];export{Zr as Default,Jr as __namedExportsOrder,Vr as default};
