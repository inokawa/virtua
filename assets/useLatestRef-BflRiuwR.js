import{r as X}from"./iframe-CavRFArs.js";const D=null,{min:V,max:E,abs:ae,floor:Te}=Math,re=(e,t,s)=>V(s,E(t,e)),Re=e=>[...e].sort((t,s)=>t-s),pe=typeof queueMicrotask=="function"?queueMicrotask:e=>{Promise.resolve().then(e)},K=()=>{let e;return[new Promise(s=>{e=s}),e]},ge=e=>{let t;return()=>(e&&(t=e(),e=void 0),t)},W=-1,P=(e,t,s)=>{const o=s?"unshift":"push";for(let i=0;i<t;i++)e[o](W);return e},Ie=(e,t)=>{const s=e._sizes[t];return s===W?e._defaultItemSize:s},we=(e,t,s)=>{const o=e._sizes[t]===W;return e._sizes[t]=s,e._computedOffsetIndex=V(t,e._computedOffsetIndex),o},q=(e,t)=>{if(!e._length)return 0;if(e._computedOffsetIndex>=t)return e._offsets[t];e._computedOffsetIndex<0&&(e._offsets[0]=0,e._computedOffsetIndex=0);let s=e._computedOffsetIndex,o=e._offsets[s];for(;s<t;)o+=Ie(e,s),e._offsets[++s]=o;return e._computedOffsetIndex=t,o},M=(e,t,s=0,o=e._length-1)=>{let i=s;for(;s<=o;){const l=Te((s+o)/2);q(e,l)<=t?(i=l,s=l+1):o=l-1}return re(i,0,e._length-1)},Ce=(e,t,s,o)=>{if(o=V(o,e._length-1),q(e,o)<=t){const i=M(e,s,o);return[M(e,t,o,i),i]}else{const i=M(e,t,void 0,o);return[i,M(e,s,i)]}},ye=(e,t)=>{let s=0;const o=[];e._sizes.forEach((r,n)=>{r!==W&&(o.push(r),n<t&&s++)}),e._computedOffsetIndex=-1;const i=Re(o),l=i.length,u=l/2|0,f=l%2===0?(i[u-1]+i[u])/2:i[u],d=e._defaultItemSize;return((e._defaultItemSize=f)-d)*E(t-s,0)},Ne=(e,t,s)=>({_defaultItemSize:t,_sizes:s?P(s.slice(0,V(e,s.length)),E(0,e-s.length)):P([],e),_length:e,_computedOffsetIndex:-1,_offsets:P([],e+1)}),Ae=e=>[e._sizes.slice(),e._defaultItemSize],me=(e,t,s)=>{const o=t-e._length;return e._computedOffsetIndex=s?-1:V(t-1,e._computedOffsetIndex),e._length=t,o>0?(P(e._offsets,o),P(e._sizes,o,s),e._defaultItemSize*o):(e._offsets.splice(o),(s?e._sizes.splice(0,-o):e._sizes.splice(o)).reduce((i,l)=>i-(l===W?e._defaultItemSize:l),0))},Ve=typeof window<"u",te=e=>e.documentElement,J=e=>e.ownerDocument,U=e=>e.defaultView,ze=ge(()=>/iP(hone|od|ad)/.test(navigator.userAgent)?!0:navigator.platform==="MacIntel"&&navigator.maxTouchPoints>0),ke=ge(()=>"scrollBehavior"in te(document).style),Me=2147483647,k=0,$e=1,_e=2,x=0,H=1,ee=2,se=1,be=2,N=3,B=4,Je=5,Oe=6,ne=7,ve=8,y=1,Z=2,De=4,We=8,Ke=e=>E(e.$getTotalSize(),e.$getViewportSize()),Be=(e,t=40,s=0,o,i=!1)=>{let l=!!s,u=1,f=0,d=0,r=0,n=0,c=0,m=0,$=k,a=x,_=D,p=[0,l?E(s-1,0):-1],z=0,b=!1;const I=Ne(e,o?o[1]:t,o&&o[0]),T=new Set,R=()=>r-d,ce=()=>R()+c+n,fe=(g,S)=>Ce(I,g,S,p[0]),j=()=>q(I,I._length),ue=(g,S)=>{const O=q(I,g)-c;return S?j()-O-F(g):O},F=g=>Ie(I,g),de=(g,S=W)=>I._sizes[g]===S,Q=g=>{g&&(ze()&&$!==k||_&&a===H?c+=g:n+=g)};return{$dispose:()=>{T.clear()},$getStateVersion:()=>u,$getCacheSnapshot:()=>Ae(I),$getRange:(g=200)=>{if(!b||l)return p;let S,O;if(m)[S,O]=p;else{let w=E(0,ce()),v=w+f;i||(g=E(0,g),$!==$e&&(w-=g),$!==_e&&(v+=g)),[S,O]=p=fe(E(0,w),E(0,v)),_&&(S=V(S,_[0]),O=E(O,_[1]))}return[E(S,0),V(O,I._length-1)]},$findItemIndex:g=>M(I,g-d),$isUnmeasuredItem:de,$getItemOffset:ue,$getItemSize:F,$getItemsLength:()=>I._length,$getScrollOffset:()=>r,$isScrolling:()=>$!==k,$getViewportSize:()=>f,$getStartSpacerSize:()=>d,$getTotalSize:j,_flushJump:()=>(m=n,n=0,[m,a===ee]),$subscribe:(g,S)=>{const O=[g,S];return T.add(O),()=>{T.delete(O)}},$update:(g,S)=>{let O,w,v=0;switch(g){case se:{if(S===r&&a===x)break;const C=m;m=0;const h=S-r,L=ae(h);!(C&&L<ae(C)+1)&&a===x&&($=h<0?_e:$e),l&&(l=!1),r=S,v=De;const G=R();G>=-f&&G<=j()&&(v+=y,w=L>f);break}case be:{v=We,$!==k&&(O=!0,v+=y),$=k,a=x,_=D;break}case N:{const C=S.filter(([h,L])=>!de(h,L));if(!C.length)break;Q(C.reduce((h,[L,Y])=>((a===ee||(_&&a===H?L<_[0]:ue(L+($===k&&a===x?1:0))<R()))&&(h+=Y-F(L)),h),0));for(const[h,L]of C){const Y=F(h),G=we(I,h,L);i&&(z+=G?L:L-Y)}i&&f&&z>f&&(Q(ye(I,M(I,ce()))),i=!1),v=y+Z,w=!0;break}case B:{f!==S&&(f||(b=w=!0),f=S,v=y+Z);break}case Je:{S[1]?(Q(me(I,S[0],!0)),a=ee,v=y):(me(I,S[0]),v=y);break}case Oe:{d=S;break}case ne:{a=H;break}case ve:{_=fe(S,S+f),v=y;break}}v&&(u=(u&Me)+1,O&&c&&(n+=c,c=0),T.forEach(([C,h])=>{v&C&&h(w)}))}}},ie=setTimeout,xe=(e,t)=>{let s;const o=()=>{s!=D&&clearTimeout(s)},i=()=>{o(),s=ie(()=>{s=D,e()},t)};return i._cancel=o,i},A=(e,t)=>t?-e:e,Ee=(e,t,s,o,i,l)=>{const u=Date.now;let f=0,d=!1,r=!1,n=!1,c=!1;const m=xe(()=>{if(d||r){d=!1,m();return}n=!1,e.$update(be)},150),$=()=>{f=u(),n&&(c=!0),l&&e.$update(Oe,l()),e.$update(se,o()),m()},a=(z=>{if(d||!e.$isScrolling()||z.ctrlKey)return;const b=u()-f;150>b&&50<b&&(s?z.deltaX:z.deltaY)&&(d=!0)}),_=()=>{r=!0,n=c=!1},p=()=>{r=!1,ze()&&(n=!0)};return t.addEventListener("scroll",$),t.addEventListener("wheel",a,{passive:!0}),t.addEventListener("touchstart",_,{passive:!0}),t.addEventListener("touchend",p,{passive:!0}),{_dispose:()=>{t.removeEventListener("scroll",$),t.removeEventListener("wheel",a),t.removeEventListener("touchstart",_),t.removeEventListener("touchend",p),m._cancel()},_fixScrollJump:()=>{const[z,b]=e._flushJump();z&&(i(z,b,c),c=!1,b&&e.$getViewportSize()>e.$getTotalSize()&&e.$update(se,o()))}}},he=(e,t,s)=>{let o;return[async(i,l)=>{if(!await t())return;o&&o();const u=()=>{const[f,d]=K();return o=()=>{d(!1)},e.$getViewportSize()&&ie(o,150),[f,e.$subscribe(Z,()=>{d(!0)})]};if(l&&ke())e.$update(ve,i()),pe(async()=>{for(;;){let f=!0;for(let[n,c]=e.$getRange();n<=c;n++)if(e.$isUnmeasuredItem(n)){f=!1;break}if(f)break;const[d,r]=u();try{if(!await d)return}finally{r()}}e.$update(ne),s(i(),l)});else for(;;){const[f,d]=u();try{if(e.$update(ne),s(i()),!await f)return}finally{d()}}},()=>{o&&o()}]},Se=(e,t)=>{let s,o,i=K(),l=!1;const u=t?"scrollLeft":"scrollTop",f=t?"overflowX":"overflowY",[d,r]=he(e,()=>i[0],(n,c)=>{n=A(n,l),c?s.scrollTo({[t?"left":"top"]:n,behavior:"smooth"}):s[u]=n});return{$observe(n){s=n;const c=e.$subscribe(Z,()=>{const m=e.$getViewportSize();if(m){const $=n[u],a=J(n).createElement("div");a.style.cssText=`visibility:hidden;min-${t?"width":"height"}:${m+9}px`,n.appendChild(a),n[u]=1,l=n[u]<1,n.removeChild(a),n[u]=$,c()}});o=Ee(e,n,t,()=>A(n[u],l),(m,$,a)=>{if(a){const _=n.style,p=_[f];_[f]="hidden",ie(()=>{_[f]=p})}n[u]=A(e.$getScrollOffset()+m,l),$&&r()}),i[1](!0)},$dispose(){o&&o._dispose(),i[1](!1),i=K()},$isNegative:()=>l,$scrollTo(n){d(()=>n)},$scrollBy(n){n+=e.$getScrollOffset(),d(()=>n)},$scrollToIndex(n,{align:c,smooth:m,offset:$=0}={}){if(n=re(n,0,e.$getItemsLength()-1),c==="nearest"){const a=e.$getItemOffset(n),_=e.$getScrollOffset();if(a<_)c="start";else if(a+e.$getItemSize(n)>_+e.$getViewportSize())c="end";else return}d(()=>$+e.$getStartSpacerSize()+e.$getItemOffset(n)+(c==="end"?e.$getItemSize(n)-e.$getViewportSize():c==="center"?(e.$getItemSize(n)-e.$getViewportSize())/2:0),m)},$fixScrollJump:()=>{o&&o._fixScrollJump()}}},Fe=(e,t)=>{let s,o,i=K(),l=!1;const u=t?"left":"top",[f]=he(e,()=>i[0],(r,n)=>{r=A(r,l);const c=U(J(s));n?c.scroll({[u]:r,behavior:"smooth"}):c.scroll({[u]:r})}),d=(r,n,c,m,$=0)=>{const a=m?"offsetLeft":"offsetTop",_=$+(m&&l?c.innerWidth-r[a]-r.offsetWidth:r[a]),p=r.offsetParent;return r===n||!p?_:d(p,n,c,m,_)};return{$observe(r){s=r;const n=t?"scrollX":"scrollY",c=J(r),m=U(c);t&&(l=getComputedStyle(te(c)).direction==="rtl"),o=Ee(e,m,t,()=>A(m[n],l),($,a)=>{a?m.scroll({[u]:A(e.$getScrollOffset()+$,l)}):m.scrollBy({[u]:A($,l)})},()=>d(r,c.body,m,t)),i[1](!0)},$dispose(){o&&o._dispose(),s=void 0,i[1](!1),i=K()},$isNegative:()=>l,$fixScrollJump:()=>{o&&o._fixScrollJump()},$scrollToIndex(r,{align:n,smooth:c,offset:m=0}={}){if(!s)return;if(r=re(r,0,e.$getItemsLength()-1),n==="nearest"){const z=e.$getItemOffset(r),b=e.$getScrollOffset();if(z<b)n="start";else if(z+e.$getItemSize(r)>b+e.$getViewportSize())n="end";else return}const $=J(s),a=U($),_=te($),p=()=>e.$getViewportSize()-(t?_.clientWidth:_.clientHeight);f(()=>m+d(s,$.body,a,t)+e.$getItemOffset(r)+(n==="end"?e.$getItemSize(r)-(e.$getViewportSize()-p()):n==="center"?(e.$getItemSize(r)-(e.$getViewportSize()-p()))/2:0),c)}}},Ye=(e,t)=>{const s=Se(e,!1),o=Se(t,!0);return{$observe(i){s.$observe(i),o.$observe(i)},$dispose(){s.$dispose(),o.$dispose()},$isNegative:o.$isNegative,$scrollTo(i,l){i!=null&&s.$scrollTo(i),l!=null&&o.$scrollTo(l)},$scrollBy(i,l){i!=null&&s.$scrollBy(i),l!=null&&o.$scrollBy(l)},$scrollToIndex(i,l){i!=null&&s.$scrollToIndex(i),l!=null&&o.$scrollToIndex(l)},$fixScrollJump(){s.$fixScrollJump(),o.$fixScrollJump()}}},le=e=>{let t;return{_observe(s){(t||(t=new(U(J(s))).ResizeObserver(e))).observe(s)},_unobserve(s){t.unobserve(s)},_dispose(){t&&t.disconnect()}}},Ge=(e,t)=>{let s;const o=t?"width":"height",i=new WeakMap,l=le(u=>{const f=[];for(const{target:d,contentRect:r}of u)if(d.offsetParent)if(d===s)e.$update(B,r[o]);else{const n=i.get(d);n!=D&&f.push([n,r[o]])}f.length&&e.$update(N,f)});return{$observeRoot(u){l._observe(s=u)},$observeItem:(u,f)=>(i.set(u,f),l._observe(u),()=>{i.delete(u),l._unobserve(u)}),$dispose:l._dispose}},Xe=(e,t)=>{const s=t?"width":"height",o=t?"innerWidth":"innerHeight",i=new WeakMap,l=le(f=>{const d=[];for(const{target:r,contentRect:n}of f){if(!r.offsetParent)continue;const c=i.get(r);c!=D&&d.push([c,n[s]])}d.length&&e.$update(N,d)});let u;return{$observeRoot(f){const d=U(J(f)),r=()=>{e.$update(B,d[o])};d.addEventListener("resize",r),pe(r),u=()=>{d.removeEventListener("resize",r)}},$observeItem:(f,d)=>(i.set(f,d),l._observe(f),()=>{i.delete(f),l._unobserve(f)}),$dispose(){u&&u(),l._dispose()}}},qe=(e,t)=>{let s;const o=new WeakMap,i=new Set,l=new Set,u=new Map,f=(r,n)=>`${r}-${n}`,d=le(r=>{const n=new Set,c=new Set;for(const{target:m,contentRect:{width:$,height:a}}of r)if(m.offsetParent)if(m===s)e.$update(B,a),t.$update(B,$);else{const _=o.get(m);if(_){const[p,z]=_,b=f(p,z),I=u.get(b);let T,R;I?(I[0]!==a&&(T=!0),I[1]!==$&&(R=!0)):T=R=!0,T&&n.add(p),R&&c.add(z),(T||R)&&u.set(b,[a,$])}}if(n.size){const m=[];n.forEach($=>{let a=0;l.forEach(_=>{const p=u.get(f($,_));p&&(a=E(a,p[0]))}),a&&m.push([$,a])}),e.$update(N,m)}if(c.size){const m=[];c.forEach($=>{let a=0;i.forEach(_=>{const p=u.get(f(_,$));p&&(a=E(a,p[1]))}),a&&m.push([$,a])}),t.$update(N,m)}});return{$observeRoot(r){d._observe(s=r)},$observeItem(r,n,c){return o.set(r,[n,c]),i.add(n),l.add(c),d._observe(r),()=>{o.delete(r),d._unobserve(r)}},$resizeCols(r){for(const[n]of r)for(let c=0;c<e.$getItemsLength();c++)u.delete(f(c,n));t.$update(N,r)},$resizeRows(r){for(const[n]of r)for(let c=0;c<t.$getItemsLength();c++)u.delete(f(n,c));e.$update(N,r)},$dispose:d._dispose}},Pe=Ve?X.useLayoutEffect:X.useEffect,oe="current",Le=(e,t)=>{if(Array.isArray(e))for(const s of e)Le(s,t);else e==null||typeof e=="boolean"||t.push(e)},Ze=e=>{const t=[];return Le(e,t),t},je=(e,t)=>{const s=e.key;return s??"_"+t},Qe=e=>{const t=X.useRef(null);return t[oe]||(t[oe]=e())},He=e=>{const t=X.useRef(e);return Pe(()=>{t[oe]=e},[e]),t};export{Je as A,y as U,Qe as a,Oe as b,Pe as c,De as d,We as e,Be as f,Ke as g,Ge as h,Se as i,je as j,Xe as k,Fe as l,pe as m,Ze as n,qe as o,Ye as p,oe as r,Re as s,He as u};
