import{j as v}from"./jsx-runtime-BjG_zV1W.js";import{r as o}from"./iframe-CX_NIiag.js";import{u as z,a as lt,P as w,b as Fe,d as ut,c as Ie,e as ct,f as dt,g as O,h as ft,R as mt,i as pt,j as vt,F as gt,k as ht,l as J}from"./index-BcQ4iTmm.js";import{f as bt}from"./chunk-4X5ZEQ5K-BPNiwWK2.js";import{V as je}from"./Virtualizer-D1uqqE95.js";import"./preload-helper-BQ24v_F8.js";import"./index-D9kLcy4N.js";import"./useLatestRef-Cns6be7j.js";import"./useChildren-BBqay-6P.js";var Se=1,Et=.9,yt=.8,Ct=.17,ce=.1,de=.999,xt=.9999,Dt=.99,Rt=/[\\\/_+.#"@\[\(\{&]/,wt=/[\\\/_+.#"@\[\(\{&]/g,It=/[\s-]/,We=/[\s-]/g;function pe(e,t,n,i,r,a,u){if(a===t.length)return r===e.length?Se:Dt;var c=`${r},${a}`;if(u[c]!==void 0)return u[c];for(var m=i.charAt(a),l=n.indexOf(m,r),f=0,g,y,C,S;l>=0;)g=pe(e,t,n,i,l+1,a+1,u),g>f&&(l===r?g*=Se:Rt.test(e.charAt(l-1))?(g*=yt,C=e.slice(r,l-1).match(wt),C&&r>0&&(g*=Math.pow(de,C.length))):It.test(e.charAt(l-1))?(g*=Et,S=e.slice(r,l-1).match(We),S&&r>0&&(g*=Math.pow(de,S.length))):(g*=Ct,r>0&&(g*=Math.pow(de,l-r))),e.charAt(l)!==t.charAt(a)&&(g*=xt)),(g<ce&&n.charAt(l-1)===i.charAt(a+1)||i.charAt(a+1)===i.charAt(a)&&n.charAt(l-1)!==i.charAt(a))&&(y=pe(e,t,n,i,l+1,a+2,u),y*ce>g&&(g=y*ce)),g>f&&(f=g),l=n.indexOf(m,l+1);return u[c]=f,f}function Ae(e){return e.toLowerCase().replace(We," ")}function St(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,pe(e,t,Ae(e),Ae(t),0,0,{})}function T(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e==null||e(r),n===!1||!r.defaultPrevented)return t==null?void 0:t(r)}}var At="DismissableLayer",ve="dismissableLayer.update",Nt="dismissableLayer.pointerDownOutside",Pt="dismissableLayer.focusOutside",Ne,Ve=o.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$e=o.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:a,onInteractOutside:u,onDismiss:c,...m}=e,l=o.useContext(Ve),[f,g]=o.useState(null),y=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,C]=o.useState({}),S=z(t,h=>g(h)),k=Array.from(l.layers),[A]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),W=k.indexOf(A),V=f?k.indexOf(f):-1,H=l.layersWithOutsidePointerEventsDisabled.size>0,$=V>=W,P=Mt(h=>{const M=h.target,q=[...l.branches].some(_=>_.contains(M));!$||q||(r==null||r(h),u==null||u(h),h.defaultPrevented||c==null||c())},y),x=Tt(h=>{const M=h.target;[...l.branches].some(_=>_.contains(M))||(a==null||a(h),u==null||u(h),h.defaultPrevented||c==null||c())},y);return lt(h=>{V===l.layers.size-1&&(i==null||i(h),!h.defaultPrevented&&c&&(h.preventDefault(),c()))},y),o.useEffect(()=>{if(f)return n&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(Ne=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(f)),l.layers.add(f),Pe(),()=>{n&&l.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=Ne)}},[f,y,n,l]),o.useEffect(()=>()=>{f&&(l.layers.delete(f),l.layersWithOutsidePointerEventsDisabled.delete(f),Pe())},[f,l]),o.useEffect(()=>{const h=()=>C({});return document.addEventListener(ve,h),()=>document.removeEventListener(ve,h)},[]),v.jsx(w.div,{...m,ref:S,style:{pointerEvents:H?$?"auto":"none":void 0,...e.style},onFocusCapture:T(e.onFocusCapture,x.onFocusCapture),onBlurCapture:T(e.onBlurCapture,x.onBlurCapture),onPointerDownCapture:T(e.onPointerDownCapture,P.onPointerDownCapture)})});$e.displayName=At;var Ot="DismissableLayerBranch",kt=o.forwardRef((e,t)=>{const n=o.useContext(Ve),i=o.useRef(null),r=z(t,i);return o.useEffect(()=>{const a=i.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),v.jsx(w.div,{...e,ref:r})});kt.displayName=Ot;function Mt(e,t=globalThis==null?void 0:globalThis.document){const n=Fe(e),i=o.useRef(!1),r=o.useRef(()=>{});return o.useEffect(()=>{const a=c=>{if(c.target&&!i.current){let m=function(){Ue(Nt,n,l,{discrete:!0})};const l={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",r.current),r.current=m,t.addEventListener("click",r.current,{once:!0})):m()}else t.removeEventListener("click",r.current);i.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",a),t.removeEventListener("click",r.current)}},[t,n]),{onPointerDownCapture:()=>i.current=!0}}function Tt(e,t=globalThis==null?void 0:globalThis.document){const n=Fe(e),i=o.useRef(!1);return o.useEffect(()=>{const r=a=>{a.target&&!i.current&&Ue(Pt,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",r),()=>t.removeEventListener("focusin",r)},[t,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function Pe(){const e=new CustomEvent(ve);document.dispatchEvent(e)}function Ue(e,t,n,{discrete:i}){const r=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),i?ut(r,a):r.dispatchEvent(a)}function Lt(e,t){return o.useReducer((n,i)=>t[n][i]??n,e)}var re=e=>{const{present:t,children:n}=e,i=_t(t),r=typeof n=="function"?n({present:i.isPresent}):o.Children.only(n),a=z(i.ref,Ft(r));return typeof n=="function"||i.isPresent?o.cloneElement(r,{ref:a}):null};re.displayName="Presence";function _t(e){const[t,n]=o.useState(),i=o.useRef(null),r=o.useRef(e),a=o.useRef("none"),u=e?"mounted":"unmounted",[c,m]=Lt(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return o.useEffect(()=>{const l=ee(i.current);a.current=c==="mounted"?l:"none"},[c]),Ie(()=>{const l=i.current,f=r.current;if(f!==e){const y=a.current,C=ee(l);e?m("MOUNT"):C==="none"||(l==null?void 0:l.display)==="none"?m("UNMOUNT"):m(f&&y!==C?"ANIMATION_OUT":"UNMOUNT"),r.current=e}},[e,m]),Ie(()=>{if(t){let l;const f=t.ownerDocument.defaultView??window,g=C=>{const k=ee(i.current).includes(C.animationName);if(C.target===t&&k&&(m("ANIMATION_END"),!r.current)){const A=t.style.animationFillMode;t.style.animationFillMode="forwards",l=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=A)})}},y=C=>{C.target===t&&(a.current=ee(i.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",g),t.addEventListener("animationend",g),()=>{f.clearTimeout(l),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",g),t.removeEventListener("animationend",g)}}else m("ANIMATION_END")},[t,m]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:o.useCallback(l=>{i.current=l?getComputedStyle(l):null,n(l)},[])}}function ee(e){return(e==null?void 0:e.animationName)||"none"}function Ft(e){var i,r;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var fe=0;function jt(){o.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Oe()),document.body.insertAdjacentElement("beforeend",e[1]??Oe()),fe++,()=>{fe===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),fe--}},[])}function Oe(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var oe="Dialog",[Be,An]=dt(oe),[Wt,N]=Be(oe),Ge=e=>{const{__scopeDialog:t,children:n,open:i,defaultOpen:r,onOpenChange:a,modal:u=!0}=e,c=o.useRef(null),m=o.useRef(null),[l,f]=ct({prop:i,defaultProp:r??!1,onChange:a,caller:oe});return v.jsx(Wt,{scope:t,triggerRef:c,contentRef:m,contentId:O(),titleId:O(),descriptionId:O(),open:l,onOpenChange:f,onOpenToggle:o.useCallback(()=>f(g=>!g),[f]),modal:u,children:n})};Ge.displayName=oe;var ze="DialogTrigger",Vt=o.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,r=N(ze,n),a=z(t,r.triggerRef);return v.jsx(w.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":Ee(r.open),...i,ref:a,onClick:T(e.onClick,r.onOpenToggle)})});Vt.displayName=ze;var he="DialogPortal",[$t,qe]=Be(he,{forceMount:void 0}),Ke=e=>{const{__scopeDialog:t,forceMount:n,children:i,container:r}=e,a=N(he,t);return v.jsx($t,{scope:t,forceMount:n,children:o.Children.map(i,u=>v.jsx(re,{present:n||a.open,children:v.jsx(ft,{asChild:!0,container:r,children:u})}))})};Ke.displayName=he;var ne="DialogOverlay",Ye=o.forwardRef((e,t)=>{const n=qe(ne,e.__scopeDialog),{forceMount:i=n.forceMount,...r}=e,a=N(ne,e.__scopeDialog);return a.modal?v.jsx(re,{present:i||a.open,children:v.jsx(Bt,{...r,ref:t})}):null});Ye.displayName=ne;var Ut=pt("DialogOverlay.RemoveScroll"),Bt=o.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,r=N(ne,n);return v.jsx(mt,{as:Ut,allowPinchZoom:!0,shards:[r.contentRef],children:v.jsx(w.div,{"data-state":Ee(r.open),...i,ref:t,style:{pointerEvents:"auto",...i.style}})})}),F="DialogContent",Xe=o.forwardRef((e,t)=>{const n=qe(F,e.__scopeDialog),{forceMount:i=n.forceMount,...r}=e,a=N(F,e.__scopeDialog);return v.jsx(re,{present:i||a.open,children:a.modal?v.jsx(Gt,{...r,ref:t}):v.jsx(zt,{...r,ref:t})})});Xe.displayName=F;var Gt=o.forwardRef((e,t)=>{const n=N(F,e.__scopeDialog),i=o.useRef(null),r=z(t,n.contentRef,i);return o.useEffect(()=>{const a=i.current;if(a)return vt(a)},[]),v.jsx(Je,{...e,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:T(e.onCloseAutoFocus,a=>{var u;a.preventDefault(),(u=n.triggerRef.current)==null||u.focus()}),onPointerDownOutside:T(e.onPointerDownOutside,a=>{const u=a.detail.originalEvent,c=u.button===0&&u.ctrlKey===!0;(u.button===2||c)&&a.preventDefault()}),onFocusOutside:T(e.onFocusOutside,a=>a.preventDefault())})}),zt=o.forwardRef((e,t)=>{const n=N(F,e.__scopeDialog),i=o.useRef(!1),r=o.useRef(!1);return v.jsx(Je,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var u,c;(u=e.onCloseAutoFocus)==null||u.call(e,a),a.defaultPrevented||(i.current||(c=n.triggerRef.current)==null||c.focus(),a.preventDefault()),i.current=!1,r.current=!1},onInteractOutside:a=>{var m,l;(m=e.onInteractOutside)==null||m.call(e,a),a.defaultPrevented||(i.current=!0,a.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const u=a.target;((l=n.triggerRef.current)==null?void 0:l.contains(u))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&r.current&&a.preventDefault()}})}),Je=o.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:i,onOpenAutoFocus:r,onCloseAutoFocus:a,...u}=e,c=N(F,n),m=o.useRef(null),l=z(t,m);return jt(),v.jsxs(v.Fragment,{children:[v.jsx(gt,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:r,onUnmountAutoFocus:a,children:v.jsx($e,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Ee(c.open),...u,ref:l,onDismiss:()=>c.onOpenChange(!1)})}),v.jsxs(v.Fragment,{children:[v.jsx(Xt,{titleId:c.titleId}),v.jsx(Zt,{contentRef:m,descriptionId:c.descriptionId})]})]})}),be="DialogTitle",qt=o.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,r=N(be,n);return v.jsx(w.h2,{id:r.titleId,...i,ref:t})});qt.displayName=be;var Ze="DialogDescription",Kt=o.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,r=N(Ze,n);return v.jsx(w.p,{id:r.descriptionId,...i,ref:t})});Kt.displayName=Ze;var He="DialogClose",Yt=o.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,r=N(He,n);return v.jsx(w.button,{type:"button",...i,ref:t,onClick:T(e.onClick,()=>r.onOpenChange(!1))})});Yt.displayName=He;function Ee(e){return e?"open":"closed"}var Qe="DialogTitleWarning",[Nn,et]=ht(Qe,{contentName:F,titleName:be,docsSlug:"dialog"}),Xt=({titleId:e})=>{const t=et(Qe),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return o.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Jt="DialogDescriptionWarning",Zt=({contentRef:e,descriptionId:t})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${et(Jt).contentName}}.`;return o.useEffect(()=>{var a;const r=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(i))},[i,e,t]),null},Ht=Ge,Qt=Ke,en=Ye,tn=Xe,Y='[cmdk-group=""]',me='[cmdk-group-items=""]',nn='[cmdk-group-heading=""]',tt='[cmdk-item=""]',ke=`${tt}:not([aria-disabled="true"])`,ge="cmdk-item-select",B="data-value",rn=(e,t,n)=>St(e,t,n),nt=o.createContext(void 0),Z=()=>o.useContext(nt),rt=o.createContext(void 0),ye=()=>o.useContext(rt),ot=o.createContext(void 0),at=o.forwardRef((e,t)=>{let n=G(()=>{var s,p;return{search:"",value:(p=(s=e.value)!=null?s:e.defaultValue)!=null?p:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),i=G(()=>new Set),r=G(()=>new Map),a=G(()=>new Map),u=G(()=>new Set),c=it(e),{label:m,children:l,value:f,onValueChange:g,filter:y,shouldFilter:C,loop:S,disablePointerSelection:k=!1,vimBindings:A=!0,...W}=e,V=O(),H=O(),$=O(),P=o.useRef(null),x=vn();j(()=>{if(f!==void 0){let s=f.trim();n.current.value=s,h.emit()}},[f]),j(()=>{x(6,Ce)},[]);let h=o.useMemo(()=>({subscribe:s=>(u.current.add(s),()=>u.current.delete(s)),snapshot:()=>n.current,setState:(s,p,b)=>{var d,E,D,I;if(!Object.is(n.current[s],p)){if(n.current[s]=p,s==="search")se(),_(),x(1,ie);else if(s==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let R=document.getElementById($);R?R.focus():(d=document.getElementById(V))==null||d.focus()}if(x(7,()=>{var R;n.current.selectedItemId=(R=U())==null?void 0:R.id,h.emit()}),b||x(5,Ce),((E=c.current)==null?void 0:E.value)!==void 0){let R=p??"";(I=(D=c.current).onValueChange)==null||I.call(D,R);return}}h.emit()}},emit:()=>{u.current.forEach(s=>s())}}),[]),M=o.useMemo(()=>({value:(s,p,b)=>{var d;p!==((d=a.current.get(s))==null?void 0:d.value)&&(a.current.set(s,{value:p,keywords:b}),n.current.filtered.items.set(s,q(p,b)),x(2,()=>{_(),h.emit()}))},item:(s,p)=>(i.current.add(s),p&&(r.current.has(p)?r.current.get(p).add(s):r.current.set(p,new Set([s]))),x(3,()=>{se(),_(),n.current.value||ie(),h.emit()}),()=>{a.current.delete(s),i.current.delete(s),n.current.filtered.items.delete(s);let b=U();x(4,()=>{se(),(b==null?void 0:b.getAttribute("id"))===s&&ie(),h.emit()})}),group:s=>(r.current.has(s)||r.current.set(s,new Set),()=>{a.current.delete(s),r.current.delete(s)}),filter:()=>c.current.shouldFilter,label:m||e["aria-label"],getDisablePointerSelection:()=>c.current.disablePointerSelection,listId:V,inputId:$,labelId:H,listInnerRef:P}),[]);function q(s,p){var b,d;let E=(d=(b=c.current)==null?void 0:b.filter)!=null?d:rn;return s?E(s,n.current.search,p):0}function _(){if(!n.current.search||c.current.shouldFilter===!1)return;let s=n.current.filtered.items,p=[];n.current.filtered.groups.forEach(d=>{let E=r.current.get(d),D=0;E.forEach(I=>{let R=s.get(I);D=Math.max(R,D)}),p.push([d,D])});let b=P.current;K().sort((d,E)=>{var D,I;let R=d.getAttribute("id"),Q=E.getAttribute("id");return((D=s.get(Q))!=null?D:0)-((I=s.get(R))!=null?I:0)}).forEach(d=>{let E=d.closest(me);E?E.appendChild(d.parentElement===E?d:d.closest(`${me} > *`)):b.appendChild(d.parentElement===b?d:d.closest(`${me} > *`))}),p.sort((d,E)=>E[1]-d[1]).forEach(d=>{var E;let D=(E=P.current)==null?void 0:E.querySelector(`${Y}[${B}="${encodeURIComponent(d[0])}"]`);D==null||D.parentElement.appendChild(D)})}function ie(){let s=K().find(b=>b.getAttribute("aria-disabled")!=="true"),p=s==null?void 0:s.getAttribute(B);h.setState("value",p||void 0)}function se(){var s,p,b,d;if(!n.current.search||c.current.shouldFilter===!1){n.current.filtered.count=i.current.size;return}n.current.filtered.groups=new Set;let E=0;for(let D of i.current){let I=(p=(s=a.current.get(D))==null?void 0:s.value)!=null?p:"",R=(d=(b=a.current.get(D))==null?void 0:b.keywords)!=null?d:[],Q=q(I,R);n.current.filtered.items.set(D,Q),Q>0&&E++}for(let[D,I]of r.current)for(let R of I)if(n.current.filtered.items.get(R)>0){n.current.filtered.groups.add(D);break}n.current.filtered.count=E}function Ce(){var s,p,b;let d=U();d&&(((s=d.parentElement)==null?void 0:s.firstChild)===d&&((b=(p=d.closest(Y))==null?void 0:p.querySelector(nn))==null||b.scrollIntoView({block:"nearest"})),d.scrollIntoView({block:"nearest"}))}function U(){var s;return(s=P.current)==null?void 0:s.querySelector(`${tt}[aria-selected="true"]`)}function K(){var s;return Array.from(((s=P.current)==null?void 0:s.querySelectorAll(ke))||[])}function le(s){let p=K()[s];p&&h.setState("value",p.getAttribute(B))}function ue(s){var p;let b=U(),d=K(),E=d.findIndex(I=>I===b),D=d[E+s];(p=c.current)!=null&&p.loop&&(D=E+s<0?d[d.length-1]:E+s===d.length?d[0]:d[E+s]),D&&h.setState("value",D.getAttribute(B))}function xe(s){let p=U(),b=p==null?void 0:p.closest(Y),d;for(;b&&!d;)b=s>0?mn(b,Y):pn(b,Y),d=b==null?void 0:b.querySelector(ke);d?h.setState("value",d.getAttribute(B)):ue(s)}let De=()=>le(K().length-1),Re=s=>{s.preventDefault(),s.metaKey?De():s.altKey?xe(1):ue(1)},we=s=>{s.preventDefault(),s.metaKey?le(0):s.altKey?xe(-1):ue(-1)};return o.createElement(w.div,{ref:t,tabIndex:-1,...W,"cmdk-root":"",onKeyDown:s=>{var p;(p=W.onKeyDown)==null||p.call(W,s);let b=s.nativeEvent.isComposing||s.keyCode===229;if(!(s.defaultPrevented||b))switch(s.key){case"n":case"j":{A&&s.ctrlKey&&Re(s);break}case"ArrowDown":{Re(s);break}case"p":case"k":{A&&s.ctrlKey&&we(s);break}case"ArrowUp":{we(s);break}case"Home":{s.preventDefault(),le(0);break}case"End":{s.preventDefault(),De();break}case"Enter":{s.preventDefault();let d=U();if(d){let E=new Event(ge);d.dispatchEvent(E)}}}}},o.createElement("label",{"cmdk-label":"",htmlFor:M.inputId,id:M.labelId,style:hn},m),ae(e,s=>o.createElement(rt.Provider,{value:h},o.createElement(nt.Provider,{value:M},s))))}),on=o.forwardRef((e,t)=>{var n,i;let r=O(),a=o.useRef(null),u=o.useContext(ot),c=Z(),m=it(e),l=(i=(n=m.current)==null?void 0:n.forceMount)!=null?i:u==null?void 0:u.forceMount;j(()=>{if(!l)return c.item(r,u==null?void 0:u.id)},[l]);let f=st(r,a,[e.value,e.children,a],e.keywords),g=ye(),y=L(x=>x.value&&x.value===f.current),C=L(x=>l||c.filter()===!1?!0:x.search?x.filtered.items.get(r)>0:!0);o.useEffect(()=>{let x=a.current;if(!(!x||e.disabled))return x.addEventListener(ge,S),()=>x.removeEventListener(ge,S)},[C,e.onSelect,e.disabled]);function S(){var x,h;k(),(h=(x=m.current).onSelect)==null||h.call(x,f.current)}function k(){g.setState("value",f.current,!0)}if(!C)return null;let{disabled:A,value:W,onSelect:V,forceMount:H,keywords:$,...P}=e;return o.createElement(w.div,{ref:J(a,t),...P,id:r,"cmdk-item":"",role:"option","aria-disabled":!!A,"aria-selected":!!y,"data-disabled":!!A,"data-selected":!!y,onPointerMove:A||c.getDisablePointerSelection()?void 0:k,onClick:A?void 0:S},e.children)}),an=o.forwardRef((e,t)=>{let{heading:n,children:i,forceMount:r,...a}=e,u=O(),c=o.useRef(null),m=o.useRef(null),l=O(),f=Z(),g=L(C=>r||f.filter()===!1?!0:C.search?C.filtered.groups.has(u):!0);j(()=>f.group(u),[]),st(u,c,[e.value,e.heading,m]);let y=o.useMemo(()=>({id:u,forceMount:r}),[r]);return o.createElement(w.div,{ref:J(c,t),...a,"cmdk-group":"",role:"presentation",hidden:g?void 0:!0},n&&o.createElement("div",{ref:m,"cmdk-group-heading":"","aria-hidden":!0,id:l},n),ae(e,C=>o.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?l:void 0},o.createElement(ot.Provider,{value:y},C))))}),sn=o.forwardRef((e,t)=>{let{alwaysRender:n,...i}=e,r=o.useRef(null),a=L(u=>!u.search);return!n&&!a?null:o.createElement(w.div,{ref:J(r,t),...i,"cmdk-separator":"",role:"separator"})}),ln=o.forwardRef((e,t)=>{let{onValueChange:n,...i}=e,r=e.value!=null,a=ye(),u=L(l=>l.search),c=L(l=>l.selectedItemId),m=Z();return o.useEffect(()=>{e.value!=null&&a.setState("search",e.value)},[e.value]),o.createElement(w.input,{ref:t,...i,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":m.listId,"aria-labelledby":m.labelId,"aria-activedescendant":c,id:m.inputId,type:"text",value:r?e.value:u,onChange:l=>{r||a.setState("search",l.target.value),n==null||n(l.target.value)}})}),un=o.forwardRef((e,t)=>{let{children:n,label:i="Suggestions",...r}=e,a=o.useRef(null),u=o.useRef(null),c=L(l=>l.selectedItemId),m=Z();return o.useEffect(()=>{if(u.current&&a.current){let l=u.current,f=a.current,g,y=new ResizeObserver(()=>{g=requestAnimationFrame(()=>{let C=l.offsetHeight;f.style.setProperty("--cmdk-list-height",C.toFixed(1)+"px")})});return y.observe(l),()=>{cancelAnimationFrame(g),y.unobserve(l)}}},[]),o.createElement(w.div,{ref:J(a,t),...r,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":c,"aria-label":i,id:m.listId},ae(e,l=>o.createElement("div",{ref:J(u,m.listInnerRef),"cmdk-list-sizer":""},l)))}),cn=o.forwardRef((e,t)=>{let{open:n,onOpenChange:i,overlayClassName:r,contentClassName:a,container:u,...c}=e;return o.createElement(Ht,{open:n,onOpenChange:i},o.createElement(Qt,{container:u},o.createElement(en,{"cmdk-overlay":"",className:r}),o.createElement(tn,{"aria-label":e.label,"cmdk-dialog":"",className:a},o.createElement(at,{ref:t,...c}))))}),dn=o.forwardRef((e,t)=>L(n=>n.filtered.count===0)?o.createElement(w.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),fn=o.forwardRef((e,t)=>{let{progress:n,children:i,label:r="Loading...",...a}=e;return o.createElement(w.div,{ref:t,...a,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":r},ae(e,u=>o.createElement("div",{"aria-hidden":!0},u)))}),X=Object.assign(at,{List:un,Item:on,Input:ln,Group:an,Separator:sn,Dialog:cn,Empty:dn,Loading:fn});function mn(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function pn(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function it(e){let t=o.useRef(e);return j(()=>{t.current=e}),t}var j=typeof window>"u"?o.useEffect:o.useLayoutEffect;function G(e){let t=o.useRef();return t.current===void 0&&(t.current=e()),t}function L(e){let t=ye(),n=()=>e(t.snapshot());return o.useSyncExternalStore(t.subscribe,n,n)}function st(e,t,n,i=[]){let r=o.useRef(),a=Z();return j(()=>{var u;let c=(()=>{var l;for(let f of n){if(typeof f=="string")return f.trim();if(typeof f=="object"&&"current"in f)return f.current?(l=f.current.textContent)==null?void 0:l.trim():r.current}})(),m=i.map(l=>l.trim());a.value(e,c,m),(u=t.current)==null||u.setAttribute(B,c),r.current=c}),r}var vn=()=>{let[e,t]=o.useState(),n=G(()=>new Map);return j(()=>{n.current.forEach(i=>i()),n.current=new Map},[e]),(i,r)=>{n.current.set(i,r),t({})}};function gn(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function ae({asChild:e,children:t},n){return e&&o.isValidElement(t)?o.cloneElement(gn(t),{ref:t.ref},n(t.props.children)):n(t)}var hn={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Me=Array.from({length:1e3}).map((e,t)=>({id:String(t),label:bt.person.fullName()})),bn=o.forwardRef(({children:e,style:t},n)=>(e=e,o.cloneElement(e,{ref:n,style:{...e.props.style,...t}}))),Pn={component:je},te={name:"With cmdk",render:()=>{const e=o.useRef(null),[t,n]=o.useState(""),[i,r]=o.useState(""),a=o.useMemo(()=>{if(!i)return Me;const u=i.toLowerCase();return Me.filter(c=>c.label.toLowerCase().includes(u))},[i]);return v.jsxs(v.Fragment,{children:[v.jsxs(X,{label:"Command Menu",value:t,shouldFilter:!1,children:[v.jsx(X.Input,{value:i,onValueChange:r}),v.jsx(X.Empty,{children:"No results found."}),v.jsx(X.List,{ref:e,children:v.jsx(je,{scrollRef:e,item:bn,children:a.map(u=>v.jsx(X.Item,{onSelect:n,children:u.label},u.id))})})]}),v.jsx("style",{children:`
[cmdk-root] {
  width: 400px;
  background: white;
  border-radius: 12px;
  padding: 8px 0;
}
[cmdk-list] {
  overflow-y: auto;
  height: 400px;
}
[cmdk-item] {
  height: 40px;
  cursor: pointer;
}
[cmdk-item][data-selected] {
  background: skyblue;
}
`})]})}};var Te,Le,_e;te.parameters={...te.parameters,docs:{...(Te=te.parameters)==null?void 0:Te.docs,source:{originalSource:`{
  name: "With cmdk",
  render: () => {
    const ref = useRef<HTMLDivElement>(null);
    const [selected, setSelected] = useState("");
    const [value, setValue] = useState("");
    const filtered = useMemo(() => {
      if (!value) return TAGS;
      const normalizedValue = value.toLowerCase();
      return TAGS.filter(t => t.label.toLowerCase().includes(normalizedValue));
    }, [value]);
    return <>
        <Command label="Command Menu" value={selected} shouldFilter={false}>
          <Command.Input value={value} onValueChange={setValue} />
          <Command.Empty>No results found.</Command.Empty>
          <Command.List ref={ref}>
            <Virtualizer scrollRef={ref} item={Item}>
              {filtered.map(t => <Command.Item key={t.id} onSelect={setSelected}>
                  {t.label}
                </Command.Item>)}
            </Virtualizer>
          </Command.List>
        </Command>
        <style>{\`
[cmdk-root] {
  width: 400px;
  background: white;
  border-radius: 12px;
  padding: 8px 0;
}
[cmdk-list] {
  overflow-y: auto;
  height: 400px;
}
[cmdk-item] {
  height: 40px;
  cursor: pointer;
}
[cmdk-item][data-selected] {
  background: skyblue;
}
\`}</style>
      </>;
  }
}`,...(_e=(Le=te.parameters)==null?void 0:Le.docs)==null?void 0:_e.source}}};const On=["Default"];export{te as Default,On as __namedExportsOrder,Pn as default};
