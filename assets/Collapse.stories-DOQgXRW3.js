import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{r as t}from"./iframe-BoI5bJ6Z.js";import{r as p}from"./common-BqtzafjA.js";import{V as m}from"./VList-TuqWwrss.js";import"./Virtualizer-BZXmzB2E.js";import"./useLatestRef-CzhV_rsI.js";import"./useChildren-GZDHuoaX.js";import"./index-M_VcXNYe.js";import"./index-exaFy-fc.js";const T={component:m},h=({content:r})=>e.jsx("div",{style:{borderTop:"solid 1px #ccc",background:"#fff",padding:32,paddingTop:48,paddingBottom:48,whiteSpace:"pre-wrap"},children:r}),w={render:()=>{const[r,s]=t.useState({}),o=t.useRef(0),i=()=>({id:o.current++}),l=n=>p(n,i),c=t.useRef(null),[d]=t.useState(()=>l(30)),a=t.useMemo(()=>d.map(n=>e.jsx(h,{content:e.jsx(f,{id:n.id,isCollapsed:r[n.id],resize:()=>{s(u=>({...u,[n.id]:!u[n.id]}))},scroll:()=>{c.current?.scrollToIndex(n.id,{smooth:!0})}})},n.id)),[d,r]);return e.jsx(m,{ref:c,style:{flex:1},children:a})}},f=({id:r,isCollapsed:s,resize:o,scroll:i})=>e.jsxs("div",{style:{transition:"height 250ms linear",height:s?200:600,background:"#ccc",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"16px"},children:[e.jsx("div",{children:r}),e.jsx("button",{onClick:o,children:"Resize"}),e.jsx("button",{onClick:i,children:"Smooth Scroll"}),e.jsx("button",{onClick:()=>{o(),i()},children:"Resize + Smooth Scroll"})]}),x=({content:r})=>e.jsx("div",{style:{borderTop:"solid 1px red",background:"#fff",whiteSpace:"pre-wrap",overflow:"hidden"},children:r}),E={render:()=>{const[r,s]=t.useState({}),o=t.useRef(0),i=()=>({id:o.current++}),l=n=>p(n,i),c=t.useRef(null),[d]=t.useState(()=>l(60)),a=t.useMemo(()=>d.filter(({id:n})=>!r[n]).map(n=>e.jsx(x,{content:e.jsx(g,{id:n.id,onHidden:()=>{s(u=>({...u,[n.id]:!0}))}})},n.id)),[d,r]);return e.jsx(m,{ref:c,style:{flex:1},children:a})}},g=({id:r,onHidden:s})=>{const[o,i]=t.useState(!1),l=t.useRef(!1),c=t.useRef(!1);return t.useEffect(()=>{l.current=o},[o]),t.useEffect(()=>()=>{c.current||l.current&&s()},[]),e.jsx("div",{style:{transition:"height 250ms linear",height:o?0:300,background:"#ccc",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"16px"},onTransitionEnd:()=>{o&&(c.current=!0,s())},onClick:()=>{i(!0)},children:e.jsx("div",{children:r})})},j=({index:r})=>{const s=()=>Math.floor(Math.random()*100)+50,o=()=>Math.floor(Math.random()*300)+100,[i]=t.useState(()=>s()),[l,c]=t.useState(null);return t.useEffect(()=>{const d=o(),a=setTimeout(()=>{c(s())},d);return()=>clearTimeout(a)},[]),e.jsxs("div",{style:{border:"5px solid black",margin:"5px 0"},children:[e.jsxs("div",{style:{height:i,background:"#e0e0e0"},children:["Immediate Content ",r," (Height: ",i,"px)"]}),l!==null?e.jsxs("div",{style:{height:l,background:"#f0f0f0"},children:["Delayed Content ",r," (Height: ",l,"px)"]}):e.jsx("div",{style:{padding:"10px",background:"#ffe0e0"},children:"Loading..."})]})},M={render:()=>e.jsx("div",{style:{height:"400px",border:"1px solid black"},children:e.jsx(m,{style:{height:"100%",width:"100%"},children:Array.from({length:100}).map((r,s)=>e.jsx(j,{index:s},s))})})},A=["CollapseAndScroll","CollapseAndRemove","TwoStageRender"];export{E as CollapseAndRemove,w as CollapseAndScroll,M as TwoStageRender,A as __namedExportsOrder,T as default};
