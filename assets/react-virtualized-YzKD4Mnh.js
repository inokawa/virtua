import{a as E}from"./jsx-runtime-sgeEVxPu.js";import{r as b}from"./index-yp3VsGQP.js";import{_ as ue}from"./extends-dGVwEr9R.js";import{d as H,c as F,b as B,a as q,_ as Z}from"./possibleConstructorReturn-Ar3ikwlv.js";import{_ as S}from"./assertThisInitialized-4q6YPdh3.js";import{a as u}from"./defineProperty-G_ESCvJ5.js";import{_ as ve}from"./objectWithoutProperties-R3t5ZVok.js";import{A as Ce}from"./AutoSizer-8SCshaq9.js";import{r as _e}from"./index-8dy-jdxy.js";function de(r){var l,t,e="";if(typeof r=="string"||typeof r=="number")e+=r;else if(typeof r=="object")if(Array.isArray(r))for(l=0;l<r.length;l++)r[l]&&(t=de(r[l]))&&(e&&(e+=" "),e+=t);else for(l in r)r[l]&&(e&&(e+=" "),e+=l);return e}function he(){for(var r,l,t=0,e="";t<arguments.length;)(r=arguments[t++])&&(l=de(r))&&(e&&(e+=" "),e+=l);return e}function K(r){var l=r.cellCount,t=r.cellSize,e=r.computeMetadataCallback,o=r.computeMetadataCallbackProps,i=r.nextCellsCount,n=r.nextCellSize,a=r.nextScrollToIndex,s=r.scrollToIndex,c=r.updateScrollOffsetForScrollToIndex;(l!==i||(typeof t=="number"||typeof n=="number")&&t!==n)&&(e(o),s>=0&&s===a&&c())}var ze=function(){function r(l){var t=l.cellCount,e=l.cellSizeGetter,o=l.estimatedCellSize;F(this,r),u(this,"_cellSizeAndPositionData",{}),u(this,"_lastMeasuredIndex",-1),u(this,"_lastBatchedIndex",-1),u(this,"_cellCount",void 0),u(this,"_cellSizeGetter",void 0),u(this,"_estimatedCellSize",void 0),this._cellSizeGetter=e,this._cellCount=t,this._estimatedCellSize=o}return H(r,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(t){var e=t.cellCount,o=t.estimatedCellSize,i=t.cellSizeGetter;this._cellCount=e,this._estimatedCellSize=o,this._cellSizeGetter=i}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(t){if(t<0||t>=this._cellCount)throw Error("Requested index ".concat(t," is outside of range 0..").concat(this._cellCount));if(t>this._lastMeasuredIndex)for(var e=this.getSizeAndPositionOfLastMeasuredCell(),o=e.offset+e.size,i=this._lastMeasuredIndex+1;i<=t;i++){var n=this._cellSizeGetter({index:i});if(n===void 0||isNaN(n))throw Error("Invalid size returned for cell ".concat(i," of value ").concat(n));n===null?(this._cellSizeAndPositionData[i]={offset:o,size:0},this._lastBatchedIndex=t):(this._cellSizeAndPositionData[i]={offset:o,size:n},o+=n,this._lastMeasuredIndex=t)}return this._cellSizeAndPositionData[t]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var t=this.getSizeAndPositionOfLastMeasuredCell(),e=t.offset+t.size,o=this._cellCount-this._lastMeasuredIndex-1,i=o*this._estimatedCellSize;return e+i}},{key:"getUpdatedOffsetForIndex",value:function(t){var e=t.align,o=e===void 0?"auto":e,i=t.containerSize,n=t.currentOffset,a=t.targetIndex;if(i<=0)return 0;var s=this.getSizeAndPositionOfCell(a),c=s.offset,h=c-i+s.size,d;switch(o){case"start":d=c;break;case"end":d=h;break;case"center":d=c-(i-s.size)/2;break;default:d=Math.max(h,Math.min(c,n));break}var f=this.getTotalSize();return Math.max(0,Math.min(f-i,d))}},{key:"getVisibleCellRange",value:function(t){var e=t.containerSize,o=t.offset,i=this.getTotalSize();if(i===0)return{};var n=o+e,a=this._findNearestCell(o),s=this.getSizeAndPositionOfCell(a);o=s.offset+s.size;for(var c=a;o<n&&c<this._cellCount-1;)c++,o+=this.getSizeAndPositionOfCell(c).size;return{start:a,stop:c}}},{key:"resetCell",value:function(t){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,t-1)}},{key:"_binarySearch",value:function(t,e,o){for(;e<=t;){var i=e+Math.floor((t-e)/2),n=this.getSizeAndPositionOfCell(i).offset;if(n===o)return i;n<o?e=i+1:n>o&&(t=i-1)}return e>0?e-1:0}},{key:"_exponentialSearch",value:function(t,e){for(var o=1;t<this._cellCount&&this.getSizeAndPositionOfCell(t).offset<e;)t+=o,o*=2;return this._binarySearch(Math.min(t,this._cellCount-1),Math.floor(t/2),e)}},{key:"_findNearestCell",value:function(t){if(isNaN(t))throw Error("Invalid offset ".concat(t," specified"));t=Math.max(0,t);var e=this.getSizeAndPositionOfLastMeasuredCell(),o=Math.max(0,this._lastMeasuredIndex);return e.offset>=t?this._binarySearch(o,0,t):this._exponentialSearch(o,t)}}]),r}(),Te=15e5,we=16777100,ye=function(){return typeof window<"u"},Ie=function(){return!!window.chrome},Re=function(){return ye()&&Ie()?we:Te},Q=function(){function r(l){var t=l.maxScrollSize,e=t===void 0?Re():t,o=ve(l,["maxScrollSize"]);F(this,r),u(this,"_cellSizeAndPositionManager",void 0),u(this,"_maxScrollSize",void 0),this._cellSizeAndPositionManager=new ze(o),this._maxScrollSize=e}return H(r,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(t){this._cellSizeAndPositionManager.configure(t)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(t){var e=t.containerSize,o=t.offset,i=this._cellSizeAndPositionManager.getTotalSize(),n=this.getTotalSize(),a=this._getOffsetPercentage({containerSize:e,offset:o,totalSize:n});return Math.round(a*(n-i))}},{key:"getSizeAndPositionOfCell",value:function(t){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(t)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(t){var e=t.align,o=e===void 0?"auto":e,i=t.containerSize,n=t.currentOffset,a=t.targetIndex;n=this._safeOffsetToOffset({containerSize:i,offset:n});var s=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:o,containerSize:i,currentOffset:n,targetIndex:a});return this._offsetToSafeOffset({containerSize:i,offset:s})}},{key:"getVisibleCellRange",value:function(t){var e=t.containerSize,o=t.offset;return o=this._safeOffsetToOffset({containerSize:e,offset:o}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:e,offset:o})}},{key:"resetCell",value:function(t){this._cellSizeAndPositionManager.resetCell(t)}},{key:"_getOffsetPercentage",value:function(t){var e=t.containerSize,o=t.offset,i=t.totalSize;return i<=e?0:o/(i-e)}},{key:"_offsetToSafeOffset",value:function(t){var e=t.containerSize,o=t.offset,i=this._cellSizeAndPositionManager.getTotalSize(),n=this.getTotalSize();if(i===n)return o;var a=this._getOffsetPercentage({containerSize:e,offset:o,totalSize:i});return Math.round(a*(n-e))}},{key:"_safeOffsetToOffset",value:function(t){var e=t.containerSize,o=t.offset,i=this._cellSizeAndPositionManager.getTotalSize(),n=this.getTotalSize();if(i===n)return o;var a=this._getOffsetPercentage({containerSize:e,offset:o,totalSize:n});return Math.round(a*(i-e))}}]),r}();function X(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,l={};return function(t){var e=t.callback,o=t.indices,i=Object.keys(o),n=!r||i.every(function(s){var c=o[s];return Array.isArray(c)?c.length>0:c>=0}),a=i.length!==Object.keys(l).length||i.some(function(s){var c=l[s],h=o[s];return Array.isArray(h)?c.join(",")!==h.join(","):c!==h});l=o,n&&a&&e(o)}}var U=-1,L=1;function xe(r){var l=r.cellCount,t=r.overscanCellsCount,e=r.scrollDirection,o=r.startIndex,i=r.stopIndex;return e===L?{overscanStartIndex:Math.max(0,o),overscanStopIndex:Math.min(l-1,i+t)}:{overscanStartIndex:Math.max(0,o-t),overscanStopIndex:Math.min(l-1,i)}}function Y(r){var l=r.cellSize,t=r.cellSizeAndPositionManager,e=r.previousCellsCount,o=r.previousCellSize,i=r.previousScrollToAlignment,n=r.previousScrollToIndex,a=r.previousSize,s=r.scrollOffset,c=r.scrollToAlignment,h=r.scrollToIndex,d=r.size,f=r.sizeJustIncreasedFromZero,g=r.updateScrollIndexCallback,m=t.getCellCount(),p=h>=0&&h<m,_=d!==a||f||!o||typeof l=="number"&&l!==o;p&&(_||c!==i||h!==n)?g(h):!p&&m>0&&(d<a||m<e)&&s>t.getTotalSize()-d&&g(m-1)}function Me(r){for(var l=r.cellCache,t=r.cellRenderer,e=r.columnSizeAndPositionManager,o=r.columnStartIndex,i=r.columnStopIndex,n=r.deferredMeasurementCache,a=r.horizontalOffsetAdjustment,s=r.isScrolling,c=r.isScrollingOptOut,h=r.parent,d=r.rowSizeAndPositionManager,f=r.rowStartIndex,g=r.rowStopIndex,m=r.styleCache,p=r.verticalOffsetAdjustment,_=r.visibleColumnIndices,C=r.visibleRowIndices,z=[],w=e.areOffsetsAdjusted()||d.areOffsetsAdjusted(),R=!s&&!w,T=f;T<=g;T++)for(var y=d.getSizeAndPositionOfCell(T),v=o;v<=i;v++){var A=e.getSizeAndPositionOfCell(v),P=v>=_.start&&v<=_.stop&&T>=C.start&&T<=C.stop,x="".concat(T,"-").concat(v),M=void 0;R&&m[x]?M=m[x]:n&&!n.has(T,v)?M={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(M={height:y.size,left:A.offset+a,position:"absolute",top:y.offset+p,width:A.size},m[x]=M);var k={columnIndex:v,isScrolling:s,isVisible:P,key:x,parent:h,rowIndex:T,style:M},O=void 0;(c||s)&&!a&&!p?(l[x]||(l[x]=t(k)),O=l[x]):O=t(k),!(O==null||O===!1)&&z.push(O)}return z}const Ae=!!(typeof window<"u"&&window.document&&window.document.createElement);var N;function Oe(r){if((!N&&N!==0||r)&&Ae){var l=document.createElement("div");l.style.position="absolute",l.style.top="-9999px",l.style.width="50px",l.style.height="50px",l.style.overflow="scroll",document.body.appendChild(l),N=l.offsetWidth-l.clientWidth,document.body.removeChild(l)}return N}function fe(){var r=this.constructor.getDerivedStateFromProps(this.props,this.state);r!=null&&this.setState(r)}function Se(r){function l(t){var e=this.constructor.getDerivedStateFromProps(r,t);return e??null}this.setState(l.bind(this))}function ge(r,l){try{var t=this.props,e=this.state;this.props=r,this.state=l,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(t,e)}finally{this.props=t,this.state=e}}fe.__suppressDeprecationWarning=!0;Se.__suppressDeprecationWarning=!0;ge.__suppressDeprecationWarning=!0;function be(r){var l=r.prototype;if(!l||!l.isReactComponent)throw new Error("Can only polyfill class components");if(typeof r.getDerivedStateFromProps!="function"&&typeof l.getSnapshotBeforeUpdate!="function")return r;var t=null,e=null,o=null;if(typeof l.componentWillMount=="function"?t="componentWillMount":typeof l.UNSAFE_componentWillMount=="function"&&(t="UNSAFE_componentWillMount"),typeof l.componentWillReceiveProps=="function"?e="componentWillReceiveProps":typeof l.UNSAFE_componentWillReceiveProps=="function"&&(e="UNSAFE_componentWillReceiveProps"),typeof l.componentWillUpdate=="function"?o="componentWillUpdate":typeof l.UNSAFE_componentWillUpdate=="function"&&(o="UNSAFE_componentWillUpdate"),t!==null||e!==null||o!==null){var i=r.displayName||r.name,n=typeof r.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+i+" uses "+n+" but also contains the following legacy lifecycles:"+(t!==null?`
  `+t:"")+(e!==null?`
  `+e:"")+(o!==null?`
  `+o:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof r.getDerivedStateFromProps=="function"&&(l.componentWillMount=fe,l.componentWillReceiveProps=Se),typeof l.getSnapshotBeforeUpdate=="function"){if(typeof l.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");l.componentWillUpdate=ge;var a=l.componentDidUpdate;l.componentDidUpdate=function(c,h,d){var f=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:d;a.call(this,c,h,f)}}return r}var I;typeof window<"u"?I=window:typeof self<"u"?I=self:I={};var Pe=I.requestAnimationFrame||I.webkitRequestAnimationFrame||I.mozRequestAnimationFrame||I.oRequestAnimationFrame||I.msRequestAnimationFrame||function(r){return I.setTimeout(r,1e3/60)},ke=I.cancelAnimationFrame||I.webkitCancelAnimationFrame||I.mozCancelAnimationFrame||I.oCancelAnimationFrame||I.msCancelAnimationFrame||function(r){I.clearTimeout(r)},ee=Pe,Le=ke,te=function(l){return Le(l.id)},We=function(l,t){var e;Promise.resolve().then(function(){e=Date.now()});var o=function n(){Date.now()-e>=t?l.call():i.id=ee(n)},i={id:ee(o)};return i},oe,ne;function le(r,l){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(r);l&&(e=e.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,e)}return t}function W(r){for(var l=1;l<arguments.length;l++){var t=arguments[l]!=null?arguments[l]:{};l%2?le(t,!0).forEach(function(e){u(r,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):le(t).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))})}return r}var He=150,V={OBSERVED:"observed",REQUESTED:"requested"},Fe=function(){return null},J=(ne=oe=function(r){B(l,r);function l(t){var e;F(this,l),e=q(this,Z(l).call(this,t)),u(S(e),"_onGridRenderedMemoizer",X()),u(S(e),"_onScrollMemoizer",X(!1)),u(S(e),"_deferredInvalidateColumnIndex",null),u(S(e),"_deferredInvalidateRowIndex",null),u(S(e),"_recomputeScrollLeftFlag",!1),u(S(e),"_recomputeScrollTopFlag",!1),u(S(e),"_horizontalScrollBarSize",0),u(S(e),"_verticalScrollBarSize",0),u(S(e),"_scrollbarPresenceChanged",!1),u(S(e),"_scrollingContainer",void 0),u(S(e),"_childrenToDisplay",void 0),u(S(e),"_columnStartIndex",void 0),u(S(e),"_columnStopIndex",void 0),u(S(e),"_rowStartIndex",void 0),u(S(e),"_rowStopIndex",void 0),u(S(e),"_renderedColumnStartIndex",0),u(S(e),"_renderedColumnStopIndex",0),u(S(e),"_renderedRowStartIndex",0),u(S(e),"_renderedRowStopIndex",0),u(S(e),"_initialScrollTop",void 0),u(S(e),"_initialScrollLeft",void 0),u(S(e),"_disablePointerEventsTimeoutId",void 0),u(S(e),"_styleCache",{}),u(S(e),"_cellCache",{}),u(S(e),"_debounceScrollEndedCallback",function(){e._disablePointerEventsTimeoutId=null,e.setState({isScrolling:!1,needToResetStyleCache:!1})}),u(S(e),"_invokeOnGridRenderedHelper",function(){var n=e.props.onSectionRendered;e._onGridRenderedMemoizer({callback:n,indices:{columnOverscanStartIndex:e._columnStartIndex,columnOverscanStopIndex:e._columnStopIndex,columnStartIndex:e._renderedColumnStartIndex,columnStopIndex:e._renderedColumnStopIndex,rowOverscanStartIndex:e._rowStartIndex,rowOverscanStopIndex:e._rowStopIndex,rowStartIndex:e._renderedRowStartIndex,rowStopIndex:e._renderedRowStopIndex}})}),u(S(e),"_setScrollingContainerRef",function(n){e._scrollingContainer=n}),u(S(e),"_onScroll",function(n){n.target===e._scrollingContainer&&e.handleScrollEvent(n.target)});var o=new Q({cellCount:t.columnCount,cellSizeGetter:function(a){return l._wrapSizeGetter(t.columnWidth)(a)},estimatedCellSize:l._getEstimatedColumnSize(t)}),i=new Q({cellCount:t.rowCount,cellSizeGetter:function(a){return l._wrapSizeGetter(t.rowHeight)(a)},estimatedCellSize:l._getEstimatedRowSize(t)});return e.state={instanceProps:{columnSizeAndPositionManager:o,rowSizeAndPositionManager:i,prevColumnWidth:t.columnWidth,prevRowHeight:t.rowHeight,prevColumnCount:t.columnCount,prevRowCount:t.rowCount,prevIsScrolling:t.isScrolling===!0,prevScrollToColumn:t.scrollToColumn,prevScrollToRow:t.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:L,scrollDirectionVertical:L,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},t.scrollToRow>0&&(e._initialScrollTop=e._getCalculatedScrollTop(t,e.state)),t.scrollToColumn>0&&(e._initialScrollLeft=e._getCalculatedScrollLeft(t,e.state)),e}return H(l,[{key:"getOffsetForCell",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=e.alignment,i=o===void 0?this.props.scrollToAlignment:o,n=e.columnIndex,a=n===void 0?this.props.scrollToColumn:n,s=e.rowIndex,c=s===void 0?this.props.scrollToRow:s,h=W({},this.props,{scrollToAlignment:i,scrollToColumn:a,scrollToRow:c});return{scrollLeft:this._getCalculatedScrollLeft(h),scrollTop:this._getCalculatedScrollTop(h)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(e){var o=e.scrollLeft,i=o===void 0?0:o,n=e.scrollTop,a=n===void 0?0:n;if(!(a<0)){this._debounceScrollEnded();var s=this.props,c=s.autoHeight,h=s.autoWidth,d=s.height,f=s.width,g=this.state.instanceProps,m=g.scrollbarSize,p=g.rowSizeAndPositionManager.getTotalSize(),_=g.columnSizeAndPositionManager.getTotalSize(),C=Math.min(Math.max(0,_-f+m),i),z=Math.min(Math.max(0,p-d+m),a);if(this.state.scrollLeft!==C||this.state.scrollTop!==z){var w=C!==this.state.scrollLeft?C>this.state.scrollLeft?L:U:this.state.scrollDirectionHorizontal,R=z!==this.state.scrollTop?z>this.state.scrollTop?L:U:this.state.scrollDirectionVertical,T={isScrolling:!0,scrollDirectionHorizontal:w,scrollDirectionVertical:R,scrollPositionChangeReason:V.OBSERVED};c||(T.scrollTop=z),h||(T.scrollLeft=C),T.needToResetStyleCache=!1,this.setState(T)}this._invokeOnScrollMemoizer({scrollLeft:C,scrollTop:z,totalColumnsWidth:_,totalRowsHeight:p})}}},{key:"invalidateCellSizeAfterRender",value:function(e){var o=e.columnIndex,i=e.rowIndex;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,o):o,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,i):i}},{key:"measureAllCells",value:function(){var e=this.props,o=e.columnCount,i=e.rowCount,n=this.state.instanceProps;n.columnSizeAndPositionManager.getSizeAndPositionOfCell(o-1),n.rowSizeAndPositionManager.getSizeAndPositionOfCell(i-1)}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=e.columnIndex,i=o===void 0?0:o,n=e.rowIndex,a=n===void 0?0:n,s=this.props,c=s.scrollToColumn,h=s.scrollToRow,d=this.state.instanceProps;d.columnSizeAndPositionManager.resetCell(i),d.rowSizeAndPositionManager.resetCell(a),this._recomputeScrollLeftFlag=c>=0&&(this.state.scrollDirectionHorizontal===L?i<=c:i>=c),this._recomputeScrollTopFlag=h>=0&&(this.state.scrollDirectionVertical===L?a<=h:a>=h),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(e){var o=e.columnIndex,i=e.rowIndex,n=this.props.columnCount,a=this.props;n>1&&o!==void 0&&this._updateScrollLeftForScrollToColumn(W({},a,{scrollToColumn:o})),i!==void 0&&this._updateScrollTopForScrollToRow(W({},a,{scrollToRow:i}))}},{key:"componentDidMount",value:function(){var e=this.props,o=e.getScrollbarSize,i=e.height,n=e.scrollLeft,a=e.scrollToColumn,s=e.scrollTop,c=e.scrollToRow,h=e.width,d=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),d.scrollbarSizeMeasured||this.setState(function(m){var p=W({},m,{needToResetStyleCache:!1});return p.instanceProps.scrollbarSize=o(),p.instanceProps.scrollbarSizeMeasured=!0,p}),typeof n=="number"&&n>=0||typeof s=="number"&&s>=0){var f=l._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:n,scrollTop:s});f&&(f.needToResetStyleCache=!1,this.setState(f))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var g=i>0&&h>0;a>=0&&g&&this._updateScrollLeftForScrollToColumn(),c>=0&&g&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:n||0,scrollTop:s||0,totalColumnsWidth:d.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:d.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(e,o){var i=this,n=this.props,a=n.autoHeight,s=n.autoWidth,c=n.columnCount,h=n.height,d=n.rowCount,f=n.scrollToAlignment,g=n.scrollToColumn,m=n.scrollToRow,p=n.width,_=this.state,C=_.scrollLeft,z=_.scrollPositionChangeReason,w=_.scrollTop,R=_.instanceProps;this._handleInvalidatedGridSize();var T=c>0&&e.columnCount===0||d>0&&e.rowCount===0;z===V.REQUESTED&&(!s&&C>=0&&(C!==this._scrollingContainer.scrollLeft||T)&&(this._scrollingContainer.scrollLeft=C),!a&&w>=0&&(w!==this._scrollingContainer.scrollTop||T)&&(this._scrollingContainer.scrollTop=w));var y=(e.width===0||e.height===0)&&h>0&&p>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):Y({cellSizeAndPositionManager:R.columnSizeAndPositionManager,previousCellsCount:e.columnCount,previousCellSize:e.columnWidth,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToColumn,previousSize:e.width,scrollOffset:C,scrollToAlignment:f,scrollToIndex:g,size:p,sizeJustIncreasedFromZero:y,updateScrollIndexCallback:function(){return i._updateScrollLeftForScrollToColumn(i.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):Y({cellSizeAndPositionManager:R.rowSizeAndPositionManager,previousCellsCount:e.rowCount,previousCellSize:e.rowHeight,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToRow,previousSize:e.height,scrollOffset:w,scrollToAlignment:f,scrollToIndex:m,size:h,sizeJustIncreasedFromZero:y,updateScrollIndexCallback:function(){return i._updateScrollTopForScrollToRow(i.props)}}),this._invokeOnGridRenderedHelper(),C!==o.scrollLeft||w!==o.scrollTop){var v=R.rowSizeAndPositionManager.getTotalSize(),A=R.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:C,scrollTop:w,totalColumnsWidth:A,totalRowsHeight:v})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&te(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var e=this.props,o=e.autoContainerWidth,i=e.autoHeight,n=e.autoWidth,a=e.className,s=e.containerProps,c=e.containerRole,h=e.containerStyle,d=e.height,f=e.id,g=e.noContentRenderer,m=e.role,p=e.style,_=e.tabIndex,C=e.width,z=this.state,w=z.instanceProps,R=z.needToResetStyleCache,T=this._isScrolling(),y={boxSizing:"border-box",direction:"ltr",height:i?"auto":d,position:"relative",width:n?"auto":C,WebkitOverflowScrolling:"touch",willChange:"transform"};R&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var v=w.columnSizeAndPositionManager.getTotalSize(),A=w.rowSizeAndPositionManager.getTotalSize(),P=A>d?w.scrollbarSize:0,x=v>C?w.scrollbarSize:0;(x!==this._horizontalScrollBarSize||P!==this._verticalScrollBarSize)&&(this._horizontalScrollBarSize=x,this._verticalScrollBarSize=P,this._scrollbarPresenceChanged=!0),y.overflowX=v+P<=C?"hidden":"auto",y.overflowY=A+x<=d?"hidden":"auto";var M=this._childrenToDisplay,k=M.length===0&&d>0&&C>0;return b.createElement("div",ue({ref:this._setScrollingContainerRef},s,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:he("ReactVirtualized__Grid",a),id:f,onScroll:this._onScroll,role:m,style:W({},y,{},p),tabIndex:_}),M.length>0&&b.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:c,style:W({width:o?"auto":v,height:A,maxWidth:v,maxHeight:A,overflow:"hidden",pointerEvents:T?"none":"",position:"relative"},h)},M),k&&g())}},{key:"_calculateChildrenToRender",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,i=e.cellRenderer,n=e.cellRangeRenderer,a=e.columnCount,s=e.deferredMeasurementCache,c=e.height,h=e.overscanColumnCount,d=e.overscanIndicesGetter,f=e.overscanRowCount,g=e.rowCount,m=e.width,p=e.isScrollingOptOut,_=o.scrollDirectionHorizontal,C=o.scrollDirectionVertical,z=o.instanceProps,w=this._initialScrollTop>0?this._initialScrollTop:o.scrollTop,R=this._initialScrollLeft>0?this._initialScrollLeft:o.scrollLeft,T=this._isScrolling(e,o);if(this._childrenToDisplay=[],c>0&&m>0){var y=z.columnSizeAndPositionManager.getVisibleCellRange({containerSize:m,offset:R}),v=z.rowSizeAndPositionManager.getVisibleCellRange({containerSize:c,offset:w}),A=z.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:m,offset:R}),P=z.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:c,offset:w});this._renderedColumnStartIndex=y.start,this._renderedColumnStopIndex=y.stop,this._renderedRowStartIndex=v.start,this._renderedRowStopIndex=v.stop;var x=d({direction:"horizontal",cellCount:a,overscanCellsCount:h,scrollDirection:_,startIndex:typeof y.start=="number"?y.start:0,stopIndex:typeof y.stop=="number"?y.stop:-1}),M=d({direction:"vertical",cellCount:g,overscanCellsCount:f,scrollDirection:C,startIndex:typeof v.start=="number"?v.start:0,stopIndex:typeof v.stop=="number"?v.stop:-1}),k=x.overscanStartIndex,O=x.overscanStopIndex,D=M.overscanStartIndex,G=M.overscanStopIndex;if(s){if(!s.hasFixedHeight()){for(var $=D;$<=G;$++)if(!s.has($,0)){k=0,O=a-1;break}}if(!s.hasFixedWidth()){for(var j=k;j<=O;j++)if(!s.has(0,j)){D=0,G=g-1;break}}}this._childrenToDisplay=n({cellCache:this._cellCache,cellRenderer:i,columnSizeAndPositionManager:z.columnSizeAndPositionManager,columnStartIndex:k,columnStopIndex:O,deferredMeasurementCache:s,horizontalOffsetAdjustment:A,isScrolling:T,isScrollingOptOut:p,parent:this,rowSizeAndPositionManager:z.rowSizeAndPositionManager,rowStartIndex:D,rowStopIndex:G,scrollLeft:R,scrollTop:w,styleCache:this._styleCache,verticalOffsetAdjustment:P,visibleColumnIndices:y,visibleRowIndices:v}),this._columnStartIndex=k,this._columnStopIndex=O,this._rowStartIndex=D,this._rowStopIndex=G}}},{key:"_debounceScrollEnded",value:function(){var e=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&te(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=We(this._debounceScrollEndedCallback,e)}},{key:"_handleInvalidatedGridSize",value:function(){if(typeof this._deferredInvalidateColumnIndex=="number"&&typeof this._deferredInvalidateRowIndex=="number"){var e=this._deferredInvalidateColumnIndex,o=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:o})}}},{key:"_invokeOnScrollMemoizer",value:function(e){var o=this,i=e.scrollLeft,n=e.scrollTop,a=e.totalColumnsWidth,s=e.totalRowsHeight;this._onScrollMemoizer({callback:function(h){var d=h.scrollLeft,f=h.scrollTop,g=o.props,m=g.height,p=g.onScroll,_=g.width;p({clientHeight:m,clientWidth:_,scrollHeight:s,scrollLeft:d,scrollTop:f,scrollWidth:a})},indices:{scrollLeft:i,scrollTop:n}})}},{key:"_isScrolling",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return Object.hasOwnProperty.call(e,"isScrolling")?!!e.isScrolling:!!o.isScrolling}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var e=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,e({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(e){var o=e.scrollLeft,i=e.scrollTop,n=l._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:o,scrollTop:i});n&&(n.needToResetStyleCache=!1,this.setState(n))}},{key:"_getCalculatedScrollLeft",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return l._getCalculatedScrollLeft(e,o)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,i=l._getScrollLeftForScrollToColumnStateUpdate(e,o);i&&(i.needToResetStyleCache=!1,this.setState(i))}},{key:"_getCalculatedScrollTop",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return l._getCalculatedScrollTop(e,o)}},{key:"_resetStyleCache",value:function(){var e=this._styleCache,o=this._cellCache,i=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var n=this._rowStartIndex;n<=this._rowStopIndex;n++)for(var a=this._columnStartIndex;a<=this._columnStopIndex;a++){var s="".concat(n,"-").concat(a);this._styleCache[s]=e[s],i&&(this._cellCache[s]=o[s])}}},{key:"_updateScrollTopForScrollToRow",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,i=l._getScrollTopForScrollToRowStateUpdate(e,o);i&&(i.needToResetStyleCache=!1,this.setState(i))}}],[{key:"getDerivedStateFromProps",value:function(e,o){var i={};e.columnCount===0&&o.scrollLeft!==0||e.rowCount===0&&o.scrollTop!==0?(i.scrollLeft=0,i.scrollTop=0):(e.scrollLeft!==o.scrollLeft&&e.scrollToColumn<0||e.scrollTop!==o.scrollTop&&e.scrollToRow<0)&&Object.assign(i,l._getScrollToPositionStateUpdate({prevState:o,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}));var n=o.instanceProps;i.needToResetStyleCache=!1,(e.columnWidth!==n.prevColumnWidth||e.rowHeight!==n.prevRowHeight)&&(i.needToResetStyleCache=!0),n.columnSizeAndPositionManager.configure({cellCount:e.columnCount,estimatedCellSize:l._getEstimatedColumnSize(e),cellSizeGetter:l._wrapSizeGetter(e.columnWidth)}),n.rowSizeAndPositionManager.configure({cellCount:e.rowCount,estimatedCellSize:l._getEstimatedRowSize(e),cellSizeGetter:l._wrapSizeGetter(e.rowHeight)}),(n.prevColumnCount===0||n.prevRowCount===0)&&(n.prevColumnCount=0,n.prevRowCount=0),e.autoHeight&&e.isScrolling===!1&&n.prevIsScrolling===!0&&Object.assign(i,{isScrolling:!1});var a,s;return K({cellCount:n.prevColumnCount,cellSize:typeof n.prevColumnWidth=="number"?n.prevColumnWidth:null,computeMetadataCallback:function(){return n.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.columnCount,nextCellSize:typeof e.columnWidth=="number"?e.columnWidth:null,nextScrollToIndex:e.scrollToColumn,scrollToIndex:n.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){a=l._getScrollLeftForScrollToColumnStateUpdate(e,o)}}),K({cellCount:n.prevRowCount,cellSize:typeof n.prevRowHeight=="number"?n.prevRowHeight:null,computeMetadataCallback:function(){return n.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.rowCount,nextCellSize:typeof e.rowHeight=="number"?e.rowHeight:null,nextScrollToIndex:e.scrollToRow,scrollToIndex:n.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){s=l._getScrollTopForScrollToRowStateUpdate(e,o)}}),n.prevColumnCount=e.columnCount,n.prevColumnWidth=e.columnWidth,n.prevIsScrolling=e.isScrolling===!0,n.prevRowCount=e.rowCount,n.prevRowHeight=e.rowHeight,n.prevScrollToColumn=e.scrollToColumn,n.prevScrollToRow=e.scrollToRow,n.scrollbarSize=e.getScrollbarSize(),n.scrollbarSize===void 0?(n.scrollbarSizeMeasured=!1,n.scrollbarSize=0):n.scrollbarSizeMeasured=!0,i.instanceProps=n,W({},i,{},a,{},s)}},{key:"_getEstimatedColumnSize",value:function(e){return typeof e.columnWidth=="number"?e.columnWidth:e.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(e){return typeof e.rowHeight=="number"?e.rowHeight:e.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(e){var o=e.prevState,i=e.scrollLeft,n=e.scrollTop,a={scrollPositionChangeReason:V.REQUESTED};return typeof i=="number"&&i>=0&&(a.scrollDirectionHorizontal=i>o.scrollLeft?L:U,a.scrollLeft=i),typeof n=="number"&&n>=0&&(a.scrollDirectionVertical=n>o.scrollTop?L:U,a.scrollTop=n),typeof i=="number"&&i>=0&&i!==o.scrollLeft||typeof n=="number"&&n>=0&&n!==o.scrollTop?a:{}}},{key:"_wrapSizeGetter",value:function(e){return typeof e=="function"?e:function(){return e}}},{key:"_getCalculatedScrollLeft",value:function(e,o){var i=e.columnCount,n=e.height,a=e.scrollToAlignment,s=e.scrollToColumn,c=e.width,h=o.scrollLeft,d=o.instanceProps;if(i>0){var f=i-1,g=s<0?f:Math.min(f,s),m=d.rowSizeAndPositionManager.getTotalSize(),p=d.scrollbarSizeMeasured&&m>n?d.scrollbarSize:0;return d.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:a,containerSize:c-p,currentOffset:h,targetIndex:g})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(e,o){var i=o.scrollLeft,n=l._getCalculatedScrollLeft(e,o);return typeof n=="number"&&n>=0&&i!==n?l._getScrollToPositionStateUpdate({prevState:o,scrollLeft:n,scrollTop:-1}):{}}},{key:"_getCalculatedScrollTop",value:function(e,o){var i=e.height,n=e.rowCount,a=e.scrollToAlignment,s=e.scrollToRow,c=e.width,h=o.scrollTop,d=o.instanceProps;if(n>0){var f=n-1,g=s<0?f:Math.min(f,s),m=d.columnSizeAndPositionManager.getTotalSize(),p=d.scrollbarSizeMeasured&&m>c?d.scrollbarSize:0;return d.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:a,containerSize:i-p,currentOffset:h,targetIndex:g})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(e,o){var i=o.scrollTop,n=l._getCalculatedScrollTop(e,o);return typeof n=="number"&&n>=0&&i!==n?l._getScrollToPositionStateUpdate({prevState:o,scrollLeft:-1,scrollTop:n}):{}}}]),l}(b.PureComponent),u(oe,"propTypes",null),ne);u(J,"defaultProps",{"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:Me,containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:Oe,noContentRenderer:Fe,onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:xe,overscanRowCount:10,role:"grid",scrollingResetTimeInterval:He,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1});be(J);var Ee=1;function De(r){var l=r.cellCount,t=r.overscanCellsCount,e=r.scrollDirection,o=r.startIndex,i=r.stopIndex;return t=Math.max(1,t),e===Ee?{overscanStartIndex:Math.max(0,o-1),overscanStopIndex:Math.min(l-1,i+t)}:{overscanStartIndex:Math.max(0,o-t),overscanStopIndex:Math.min(l-1,i+1)}}var ie,re,me=(re=ie=function(r){B(l,r);function l(){var t,e;F(this,l);for(var o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return e=q(this,(t=Z(l)).call.apply(t,[this].concat(i))),u(S(e),"Grid",void 0),u(S(e),"_cellRenderer",function(a){var s=a.parent,c=a.rowIndex,h=a.style,d=a.isScrolling,f=a.isVisible,g=a.key,m=e.props.rowRenderer,p=Object.getOwnPropertyDescriptor(h,"width");return p&&p.writable&&(h.width="100%"),m({index:c,style:h,isScrolling:d,isVisible:f,key:g,parent:s})}),u(S(e),"_setRef",function(a){e.Grid=a}),u(S(e),"_onScroll",function(a){var s=a.clientHeight,c=a.scrollHeight,h=a.scrollTop,d=e.props.onScroll;d({clientHeight:s,scrollHeight:c,scrollTop:h})}),u(S(e),"_onSectionRendered",function(a){var s=a.rowOverscanStartIndex,c=a.rowOverscanStopIndex,h=a.rowStartIndex,d=a.rowStopIndex,f=e.props.onRowsRendered;f({overscanStartIndex:s,overscanStopIndex:c,startIndex:h,stopIndex:d})}),e}return H(l,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(e){var o=e.alignment,i=e.index;if(this.Grid){var n=this.Grid.getOffsetForCell({alignment:o,rowIndex:i,columnIndex:0}),a=n.scrollTop;return a}return 0}},{key:"invalidateCellSizeAfterRender",value:function(e){var o=e.columnIndex,i=e.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:i,columnIndex:o})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=e.columnIndex,i=o===void 0?0:o,n=e.rowIndex,a=n===void 0?0:n;this.Grid&&this.Grid.recomputeGridSize({rowIndex:a,columnIndex:i})}},{key:"recomputeRowHeights",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:e,columnIndex:0})}},{key:"scrollToPosition",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:e})}},{key:"scrollToRow",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:e})}},{key:"render",value:function(){var e=this.props,o=e.className,i=e.noRowsRenderer,n=e.scrollToIndex,a=e.width,s=he("ReactVirtualized__List",o);return b.createElement(J,ue({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:s,columnWidth:a,columnCount:1,noContentRenderer:i,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:n}))}}]),l}(b.PureComponent),u(ie,"propTypes",null),re);u(me,"defaultProps",{autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:De,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}});var ae,se,pe=(se=ae=function(r){B(l,r);function l(){var t,e;F(this,l);for(var o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return e=q(this,(t=Z(l)).call.apply(t,[this].concat(i))),u(S(e),"_child",void 0),u(S(e),"_measure",function(){var a=e.props,s=a.cache,c=a.columnIndex,h=c===void 0?0:c,d=a.parent,f=a.rowIndex,g=f===void 0?e.props.index||0:f,m=e._getCellMeasurements(),p=m.height,_=m.width;(p!==s.getHeight(g,h)||_!==s.getWidth(g,h))&&(s.set(g,h,_,p),d&&typeof d.recomputeGridSize=="function"&&d.recomputeGridSize({columnIndex:h,rowIndex:g}))}),u(S(e),"_registerChild",function(a){a&&!(a instanceof Element)&&console.warn("CellMeasurer registerChild expects to be passed Element or null"),e._child=a,a&&e._maybeMeasureCell()}),e}return H(l,[{key:"componentDidMount",value:function(){this._maybeMeasureCell()}},{key:"componentDidUpdate",value:function(){this._maybeMeasureCell()}},{key:"render",value:function(){var e=this.props.children;return typeof e=="function"?e({measure:this._measure,registerChild:this._registerChild}):e}},{key:"_getCellMeasurements",value:function(){var e=this.props.cache,o=this._child||_e.findDOMNode(this);if(o&&o.ownerDocument&&o.ownerDocument.defaultView&&o instanceof o.ownerDocument.defaultView.HTMLElement){var i=o.style.width,n=o.style.height;e.hasFixedWidth()||(o.style.width="auto"),e.hasFixedHeight()||(o.style.height="auto");var a=Math.ceil(o.offsetHeight),s=Math.ceil(o.offsetWidth);return i&&(o.style.width=i),n&&(o.style.height=n),{height:a,width:s}}else return{height:0,width:0}}},{key:"_maybeMeasureCell",value:function(){var e=this.props,o=e.cache,i=e.columnIndex,n=i===void 0?0:i,a=e.parent,s=e.rowIndex,c=s===void 0?this.props.index||0:s;if(!o.has(c,n)){var h=this._getCellMeasurements(),d=h.height,f=h.width;o.set(c,n,f,d),a&&typeof a.invalidateCellSizeAfterRender=="function"&&a.invalidateCellSizeAfterRender({columnIndex:n,rowIndex:c})}}}]),l}(b.PureComponent),u(ae,"propTypes",null),se);u(pe,"__internalCellMeasurerFlag",!1);var Ge=30,Ue=100,Ne=function(){function r(){var l=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};F(this,r),u(this,"_cellHeightCache",{}),u(this,"_cellWidthCache",{}),u(this,"_columnWidthCache",{}),u(this,"_rowHeightCache",{}),u(this,"_defaultHeight",void 0),u(this,"_defaultWidth",void 0),u(this,"_minHeight",void 0),u(this,"_minWidth",void 0),u(this,"_keyMapper",void 0),u(this,"_hasFixedHeight",void 0),u(this,"_hasFixedWidth",void 0),u(this,"_columnCount",0),u(this,"_rowCount",0),u(this,"columnWidth",function(h){var d=h.index,f=l._keyMapper(0,d);return l._columnWidthCache[f]!==void 0?l._columnWidthCache[f]:l._defaultWidth}),u(this,"rowHeight",function(h){var d=h.index,f=l._keyMapper(d,0);return l._rowHeightCache[f]!==void 0?l._rowHeightCache[f]:l._defaultHeight});var e=t.defaultHeight,o=t.defaultWidth,i=t.fixedHeight,n=t.fixedWidth,a=t.keyMapper,s=t.minHeight,c=t.minWidth;this._hasFixedHeight=i===!0,this._hasFixedWidth=n===!0,this._minHeight=s||0,this._minWidth=c||0,this._keyMapper=a||$e,this._defaultHeight=Math.max(this._minHeight,typeof e=="number"?e:Ge),this._defaultWidth=Math.max(this._minWidth,typeof o=="number"?o:Ue)}return H(r,[{key:"clear",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=this._keyMapper(t,e);delete this._cellHeightCache[o],delete this._cellWidthCache[o],this._updateCachedColumnAndRowSizes(t,e)}},{key:"clearAll",value:function(){this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._rowCount=0,this._columnCount=0}},{key:"hasFixedHeight",value:function(){return this._hasFixedHeight}},{key:"hasFixedWidth",value:function(){return this._hasFixedWidth}},{key:"getHeight",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(this._hasFixedHeight)return this._defaultHeight;var o=this._keyMapper(t,e);return this._cellHeightCache[o]!==void 0?Math.max(this._minHeight,this._cellHeightCache[o]):this._defaultHeight}},{key:"getWidth",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(this._hasFixedWidth)return this._defaultWidth;var o=this._keyMapper(t,e);return this._cellWidthCache[o]!==void 0?Math.max(this._minWidth,this._cellWidthCache[o]):this._defaultWidth}},{key:"has",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=this._keyMapper(t,e);return this._cellHeightCache[o]!==void 0}},{key:"set",value:function(t,e,o,i){var n=this._keyMapper(t,e);e>=this._columnCount&&(this._columnCount=e+1),t>=this._rowCount&&(this._rowCount=t+1),this._cellHeightCache[n]=i,this._cellWidthCache[n]=o,this._updateCachedColumnAndRowSizes(t,e)}},{key:"_updateCachedColumnAndRowSizes",value:function(t,e){if(!this._hasFixedWidth){for(var o=0,i=0;i<this._rowCount;i++)o=Math.max(o,this.getWidth(i,e));var n=this._keyMapper(0,e);this._columnWidthCache[n]=o}if(!this._hasFixedHeight){for(var a=0,s=0;s<this._columnCount;s++)a=Math.max(a,this.getHeight(t,s));var c=this._keyMapper(t,0);this._rowHeightCache[c]=a}}},{key:"defaultHeight",get:function(){return this._defaultHeight}},{key:"defaultWidth",get:function(){return this._defaultWidth}}]),r}();function $e(r,l){return"".concat(r,"-").concat(l)}const ce=b.memo(({count:r,Component:l,handle:t})=>{const e=b.useRef(null),o=b.useMemo(()=>new Ne({fixedWidth:!0,defaultHeight:50}),[]);return b.useImperativeHandle(t,()=>({scrollToIndex:i=>{var n;(n=e.current)==null||n.scrollToRow(i)}})),E(Ce,{children:({width:i,height:n})=>E(me,{ref:e,deferredMeasurementCache:o,width:i,height:n,rowCount:r,rowHeight:o.rowHeight,rowRenderer:({index:a,key:s,style:c,parent:h})=>E(pe,{cache:o,columnIndex:0,rowIndex:a,parent:h,children:({registerChild:d})=>E("div",{ref:d,style:c,children:E(l,{index:a})})},s)})})});try{ce.displayName="ReactVirtualizedList",ce.__docgenInfo={description:"",displayName:"ReactVirtualizedList",props:{count:{defaultValue:null,description:"",name:"count",required:!0,type:{name:"number"}},Component:{defaultValue:null,description:"",name:"Component",required:!0,type:{name:"ForwardRefExoticComponent<{ index: number; } & RefAttributes<HTMLDivElement>>"}},handle:{defaultValue:null,description:"",name:"handle",required:!1,type:{name:"Ref<ListHandle>"}}}}}catch{}export{ce as R};
