import{t as x,a as F,_ as h}from"./defineProperty-EJDAiRQC.js";import{a as I,b as M}from"./assertThisInitialized-DUTgmdVG.js";import{r as C}from"./index-DRjF_FHU.js";function B(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")}function T(r,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,x(n.key),n)}}function q(r,i,e){return i&&T(r.prototype,i),e&&T(r,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function V(r,i){if(i&&(F(i)=="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I(r)}function N(r){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},N(r)}function $(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),i&&M(r,i)}function U(r,i){var e;typeof i<"u"?e=i:typeof window<"u"?e=window:typeof self<"u"?e=self:e=global;var n=typeof e.document<"u"&&e.document.attachEvent;if(!n){var p=function(){var l=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||function(t){return e.setTimeout(t,20)};return function(t){return l(t)}}(),g=function(){var l=e.cancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelAnimationFrame||e.clearTimeout;return function(t){return l(t)}}(),_=function(t){var s=t.__resizeTriggers__,o=s.firstElementChild,a=s.lastElementChild,w=o.firstElementChild;a.scrollLeft=a.scrollWidth,a.scrollTop=a.scrollHeight,w.style.width=o.offsetWidth+1+"px",w.style.height=o.offsetHeight+1+"px",o.scrollLeft=o.scrollWidth,o.scrollTop=o.scrollHeight},y=function(t){return t.offsetWidth!=t.__resizeLast__.width||t.offsetHeight!=t.__resizeLast__.height},m=function(t){if(!(t.target.className&&typeof t.target.className.indexOf=="function"&&t.target.className.indexOf("contract-trigger")<0&&t.target.className.indexOf("expand-trigger")<0)){var s=this;_(this),this.__resizeRAF__&&g(this.__resizeRAF__),this.__resizeRAF__=p(function(){y(s)&&(s.__resizeLast__.width=s.offsetWidth,s.__resizeLast__.height=s.offsetHeight,s.__resizeListeners__.forEach(function(o){o.call(s,t)}))})}},v=!1,d="",c="animationstart",u="Webkit Moz O ms".split(" "),f="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),E="";{var R=e.document.createElement("fakeelement");if(R.style.animationName!==void 0&&(v=!0),v===!1){for(var z=0;z<u.length;z++)if(R.style[u[z]+"AnimationName"]!==void 0){E=u[z],d="-"+E.toLowerCase()+"-",c=f[z],v=!0;break}}}var b="resizeanim",O="@"+d+"keyframes "+b+" { from { opacity: 0; } to { opacity: 0; } } ",L=d+"animation: 1ms "+b+"; "}var W=function(t){if(!t.getElementById("detectElementResize")){var s=(O||"")+".resize-triggers { "+(L||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',o=t.head||t.getElementsByTagName("head")[0],a=t.createElement("style");a.id="detectElementResize",a.type="text/css",r!=null&&a.setAttribute("nonce",r),a.styleSheet?a.styleSheet.cssText=s:a.appendChild(t.createTextNode(s)),o.appendChild(a)}},D=function(t,s){if(n)t.attachEvent("onresize",s);else{if(!t.__resizeTriggers__){var o=t.ownerDocument,a=e.getComputedStyle(t);a&&a.position=="static"&&(t.style.position="relative"),W(o),t.__resizeLast__={},t.__resizeListeners__=[],(t.__resizeTriggers__=o.createElement("div")).className="resize-triggers";var w=o.createElement("div");w.className="expand-trigger",w.appendChild(o.createElement("div"));var S=o.createElement("div");S.className="contract-trigger",t.__resizeTriggers__.appendChild(w),t.__resizeTriggers__.appendChild(S),t.appendChild(t.__resizeTriggers__),_(t),t.addEventListener("scroll",m,!0),c&&(t.__resizeTriggers__.__animationListener__=function(k){k.animationName==b&&_(t)},t.__resizeTriggers__.addEventListener(c,t.__resizeTriggers__.__animationListener__))}t.__resizeListeners__.push(s)}},H=function(t,s){if(n)t.detachEvent("onresize",s);else if(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(s),1),!t.__resizeListeners__.length){t.removeEventListener("scroll",m,!0),t.__resizeTriggers__.__animationListener__&&(t.__resizeTriggers__.removeEventListener(c,t.__resizeTriggers__.__animationListener__),t.__resizeTriggers__.__animationListener__=null);try{t.__resizeTriggers__=!t.removeChild(t.__resizeTriggers__)}catch{}}};return{addResizeListener:D,removeResizeListener:H}}function j(r,i){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);i&&(n=n.filter(function(p){return Object.getOwnPropertyDescriptor(r,p).enumerable})),e.push.apply(e,n)}return e}function P(r){for(var i=1;i<arguments.length;i++){var e=arguments[i]!=null?arguments[i]:{};i%2?j(Object(e),!0).forEach(function(n){h(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):j(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function K(r,i,e){return i=N(i),V(r,A()?Reflect.construct(i,e||[],N(r).constructor):i.apply(r,e))}function A(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A=function(){return!!r})()}var G=function(r){function i(){var e;B(this,i);for(var n=arguments.length,p=new Array(n),g=0;g<n;g++)p[g]=arguments[g];return e=K(this,i,[].concat(p)),h(e,"state",{height:e.props.defaultHeight||0,width:e.props.defaultWidth||0}),h(e,"_parentNode",void 0),h(e,"_autoSizer",void 0),h(e,"_window",void 0),h(e,"_detectElementResize",void 0),h(e,"_onResize",function(){var _=e.props,y=_.disableHeight,m=_.disableWidth,v=_.onResize;if(e._parentNode){var d=e._parentNode.offsetHeight||0,c=e._parentNode.offsetWidth||0,u=e._window||window,f=u.getComputedStyle(e._parentNode)||{},E=parseInt(f.paddingLeft,10)||0,R=parseInt(f.paddingRight,10)||0,z=parseInt(f.paddingTop,10)||0,b=parseInt(f.paddingBottom,10)||0,O=d-z-b,L=c-E-R;(!y&&e.state.height!==O||!m&&e.state.width!==L)&&(e.setState({height:d-z-b,width:c-E-R}),v({height:d,width:c}))}}),h(e,"_setRef",function(_){e._autoSizer=_}),e}return $(i,r),q(i,[{key:"componentDidMount",value:function(){var n=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._window=this._autoSizer.parentNode.ownerDocument.defaultView,this._detectElementResize=U(n,this._window),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var n=this.props,p=n.children,g=n.className,_=n.disableHeight,y=n.disableWidth,m=n.style,v=this.state,d=v.height,c=v.width,u={overflow:"visible"},f={};return _||(u.height=0,f.height=d),y||(u.width=0,f.width=c),C.createElement("div",{className:g,ref:this._setRef,style:P(P({},u),m)},p(f))}}])}(C.Component);h(G,"defaultProps",{onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}});export{G as A,q as _,B as a,$ as b,N as c,V as d};
