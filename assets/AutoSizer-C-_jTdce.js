import{t as F,a as I,_ as f}from"./defineProperty-EJDAiRQC.js";import{a as v,b as q}from"./assertThisInitialized-DUTgmdVG.js";import{r as P}from"./index-DRjF_FHU.js";function V(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function C(n,i){for(var r=0;r<i.length;r++){var t=i[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,F(t.key),t)}}function $(n,i,r){return i&&C(n.prototype,i),r&&C(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n}function B(n,i){if(i&&(I(i)=="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(n)}function S(n){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},S(n)}function U(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),i&&q(n,i)}function K(n,i){var r;typeof i<"u"?r=i:typeof window<"u"?r=window:typeof self<"u"?r=self:r=global;var t=typeof r.document<"u"&&r.document.attachEvent;if(!t){var p=function(){var l=r.requestAnimationFrame||r.mozRequestAnimationFrame||r.webkitRequestAnimationFrame||function(e){return r.setTimeout(e,20)};return function(e){return l(e)}}(),m=function(){var l=r.cancelAnimationFrame||r.mozCancelAnimationFrame||r.webkitCancelAnimationFrame||r.clearTimeout;return function(e){return l(e)}}(),c=function(e){var s=e.__resizeTriggers__,o=s.firstElementChild,a=s.lastElementChild,O=o.firstElementChild;a.scrollLeft=a.scrollWidth,a.scrollTop=a.scrollHeight,O.style.width=o.offsetWidth+1+"px",O.style.height=o.offsetHeight+1+"px",o.scrollLeft=o.scrollWidth,o.scrollTop=o.scrollHeight},u=function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height},b=function(e){if(!(e.target.className&&typeof e.target.className.indexOf=="function"&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var s=this;c(this),this.__resizeRAF__&&m(this.__resizeRAF__),this.__resizeRAF__=p(function(){u(s)&&(s.__resizeLast__.width=s.offsetWidth,s.__resizeLast__.height=s.offsetHeight,s.__resizeListeners__.forEach(function(o){o.call(s,e)}))})}},h=!1,z="",d="animationstart",_="Webkit Moz O ms".split(" "),w="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),y="";{var T=r.document.createElement("fakeelement");if(T.style.animationName!==void 0&&(h=!0),h===!1){for(var g=0;g<_.length;g++)if(T.style[_[g]+"AnimationName"]!==void 0){y=_[g],z="-"+y.toLowerCase()+"-",d=w[g],h=!0;break}}}var L="resizeanim",E="@"+z+"keyframes "+L+" { from { opacity: 0; } to { opacity: 0; } } ",R=z+"animation: 1ms "+L+"; "}var N=function(e){if(!e.getElementById("detectElementResize")){var s=(E||"")+".resize-triggers { "+(R||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',o=e.head||e.getElementsByTagName("head")[0],a=e.createElement("style");a.id="detectElementResize",a.type="text/css",n!=null&&a.setAttribute("nonce",n),a.styleSheet?a.styleSheet.cssText=s:a.appendChild(e.createTextNode(s)),o.appendChild(a)}},W=function(e,s){if(t)e.attachEvent("onresize",s);else{if(!e.__resizeTriggers__){var o=e.ownerDocument,a=r.getComputedStyle(e);a&&a.position=="static"&&(e.style.position="relative"),N(o),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=o.createElement("div")).className="resize-triggers";var O='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>';if(window.trustedTypes){var x=trustedTypes.createPolicy("react-virtualized-auto-sizer",{createHTML:function(){return O}});e.__resizeTriggers__.innerHTML=x.createHTML("")}else e.__resizeTriggers__.innerHTML=O;e.appendChild(e.__resizeTriggers__),c(e),e.addEventListener("scroll",b,!0),d&&(e.__resizeTriggers__.__animationListener__=function(M){M.animationName==L&&c(e)},e.__resizeTriggers__.addEventListener(d,e.__resizeTriggers__.__animationListener__))}e.__resizeListeners__.push(s)}},D=function(e,s){if(t)e.detachEvent("onresize",s);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(s),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",b,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(d,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch{}}};return{addResizeListener:W,removeResizeListener:D}}var A,j;function H(n,i){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);i&&(t=t.filter(function(p){return Object.getOwnPropertyDescriptor(n,p).enumerable})),r.push.apply(r,t)}return r}function G(n){for(var i=1;i<arguments.length;i++){var r=arguments[i]!=null?arguments[i]:{};i%2?H(r,!0).forEach(function(t){f(n,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):H(r).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(r,t))})}return n}var J=(j=A=function(n){U(i,n);function i(){var r,t;V(this,i);for(var p=arguments.length,m=new Array(p),c=0;c<p;c++)m[c]=arguments[c];return t=B(this,(r=S(i)).call.apply(r,[this].concat(m))),f(v(t),"state",{height:t.props.defaultHeight||0,width:t.props.defaultWidth||0}),f(v(t),"_parentNode",void 0),f(v(t),"_autoSizer",void 0),f(v(t),"_window",void 0),f(v(t),"_detectElementResize",void 0),f(v(t),"_onResize",function(){var u=t.props,b=u.disableHeight,h=u.disableWidth,z=u.onResize;if(t._parentNode){var d=t._parentNode.offsetHeight||0,_=t._parentNode.offsetWidth||0,w=t._window||window,y=w.getComputedStyle(t._parentNode)||{},T=parseInt(y.paddingLeft,10)||0,g=parseInt(y.paddingRight,10)||0,L=parseInt(y.paddingTop,10)||0,E=parseInt(y.paddingBottom,10)||0,R=d-L-E,N=_-T-g;(!b&&t.state.height!==R||!h&&t.state.width!==N)&&(t.setState({height:d-L-E,width:_-T-g}),z({height:d,width:_}))}}),f(v(t),"_setRef",function(u){t._autoSizer=u}),t}return $(i,[{key:"componentDidMount",value:function(){var t=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._window=this._autoSizer.parentNode.ownerDocument.defaultView,this._detectElementResize=K(t,this._window),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var t=this.props,p=t.children,m=t.className,c=t.disableHeight,u=t.disableWidth,b=t.style,h=this.state,z=h.height,d=h.width,_={overflow:"visible"},w={};return c||(_.height=0,w.height=z),u||(_.width=0,w.width=d),P.createElement("div",{className:m,ref:this._setRef,style:G({},_,{},b)},p(w))}}]),i}(P.Component),f(A,"propTypes",null),j);f(J,"defaultProps",{onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}});export{J as A,$ as _,V as a,U as b,B as c,S as d};
