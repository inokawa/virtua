import{j as $e}from"./jsx-runtime-DCrfGL6_.js";import{R as g,r as re}from"./index-98wxwTcn.js";import{R as Un}from"./index-SCI4cgSJ.js";const me=0,Bt=1,Dt=2,fn=4;function dn(t,e){return n=>t(e(n))}function jn(t,e){return e(t)}function mn(t,e){return n=>t(e,n)}function Ue(t,e){return()=>t(e)}function pe(t,e){return e(t),t}function J(...t){return t}function qn(t){t()}function je(t){return()=>t}function Kn(...t){return()=>{t.map(qn)}}function Be(t){return t!==void 0}function $t(){}function $(t,e){return t(Bt,e)}function P(t,e){t(me,e)}function Le(t){t(Dt)}function it(t){return t(fn)}function L(t,e){return $(t,mn(e,me))}function Ct(t,e){const n=t(Bt,o=>{n(),e(o)});return n}function W(){const t=[];return(e,n)=>{switch(e){case Dt:t.splice(0,t.length);return;case Bt:return t.push(n),()=>{const o=t.indexOf(n);o>-1&&t.splice(o,1)};case me:t.slice().forEach(o=>{o(n)});return;default:throw new Error(`unrecognized action ${e}`)}}}function C(t){let e=t;const n=W();return(o,r)=>{switch(o){case Bt:r(e);break;case me:e=r;break;case fn:return e}return n(o,r)}}function Yn(t){let e,n;const o=()=>e&&e();return function(r,s){switch(r){case Bt:return s?n===s?void 0:(o(),n=s,e=$(t,s),e):(o(),$t);case Dt:o(),n=null;return;default:throw new Error(`unrecognized action ${r}`)}}}function ft(t){return pe(W(),e=>L(t,e))}function ct(t,e){return pe(C(e),n=>L(t,n))}function Zn(...t){return e=>t.reduceRight(jn,e)}function I(t,...e){const n=Zn(...e);return(o,r)=>{switch(o){case Bt:return $(t,n(r));case Dt:Le(t);return}}}function pn(t,e){return t===e}function Z(t=pn){let e;return n=>o=>{t(e,o)||(e=o,n(o))}}function k(t){return e=>n=>{t(n)&&e(n)}}function b(t){return e=>dn(e,t)}function wt(t){return e=>()=>e(t)}function vt(t,e){return n=>o=>n(e=t(e,o))}function Wt(t){return e=>n=>{t>0?t--:e(n)}}function bt(t){let e=null,n;return o=>r=>{e=r,!n&&(n=setTimeout(()=>{n=void 0,o(e)},t))}}function qe(t){let e,n;return o=>r=>{e=r,n&&clearTimeout(n),n=setTimeout(()=>{o(e)},t)}}function _(...t){const e=new Array(t.length);let n=0,o=null;const r=Math.pow(2,t.length)-1;return t.forEach((s,i)=>{const l=Math.pow(2,i);$(s,c=>{const f=n;n=n|l,e[i]=c,f!==r&&n===r&&o&&(o(),o=null)})}),s=>i=>{const l=()=>s([i].concat(e));n===r?l():o=l}}function Ke(...t){return function(e,n){switch(e){case Bt:return Kn(...t.map(o=>$(o,n)));case Dt:return;default:throw new Error(`unrecognized action ${e}`)}}}function F(t,e=pn){return I(t,Z(e))}function nt(...t){const e=W(),n=new Array(t.length);let o=0;const r=Math.pow(2,t.length)-1;return t.forEach((s,i)=>{const l=Math.pow(2,i);$(s,c=>{n[i]=c,o=o|l,o===r&&P(e,n)})}),function(s,i){switch(s){case Bt:return o===r&&i(n),$(e,i);case Dt:return Le(e);default:throw new Error(`unrecognized action ${s}`)}}}function U(t,e=[],{singleton:n}={singleton:!0}){return{id:Jn(),constructor:t,dependencies:e,singleton:n}}const Jn=()=>Symbol();function Qn(t){const e=new Map,n=({id:o,constructor:r,dependencies:s,singleton:i})=>{if(i&&e.has(o))return e.get(o);const l=r(s.map(c=>n(c)));return i&&e.set(o,l),l};return n(t)}function Xn(t,e){const n={},o={};let r=0;const s=t.length;for(;r<s;)o[t[r]]=1,r+=1;for(const i in e)o.hasOwnProperty(i)||(n[i]=e[i]);return n}const se=typeof document<"u"?g.useLayoutEffect:g.useEffect;function hn(t,e,n){const o=Object.keys(e.required||{}),r=Object.keys(e.optional||{}),s=Object.keys(e.methods||{}),i=Object.keys(e.events||{}),l=g.createContext({});function c(d,p){d.propsReady&&P(d.propsReady,!1);for(const S of o){const y=d[e.required[S]];P(y,p[S])}for(const S of r)if(S in p){const y=d[e.optional[S]];P(y,p[S])}d.propsReady&&P(d.propsReady,!0)}function f(d){return s.reduce((p,S)=>(p[S]=y=>{const m=d[e.methods[S]];P(m,y)},p),{})}function a(d){return i.reduce((p,S)=>(p[S]=Yn(d[e.events[S]]),p),{})}const h=g.forwardRef((d,p)=>{const{children:S,...y}=d,[m]=g.useState(()=>pe(Qn(t),v=>c(v,y))),[u]=g.useState(Ue(a,m));return se(()=>{for(const v of i)v in y&&$(u[v],y[v]);return()=>{Object.values(u).map(Le)}},[y,u,m]),se(()=>{c(m,y)}),g.useImperativeHandle(p,je(f(m))),g.createElement(l.Provider,{value:m},n?g.createElement(n,Xn([...o,...r,...i],y),S):S)}),x=d=>g.useCallback(mn(P,g.useContext(l)[d]),[d]),E=d=>{const S=g.useContext(l)[d],y=g.useCallback(m=>$(S,m),[S]);return g.useSyncExternalStore(y,()=>it(S),()=>it(S))},R=d=>{const S=g.useContext(l)[d],[y,m]=g.useState(Ue(it,S));return se(()=>$(S,u=>{u!==y&&m(je(u))}),[S,y]),y},T=g.version.startsWith("18")?E:R;return{Component:h,usePublisher:x,useEmitterValue:T,useEmitter:(d,p)=>{const y=g.useContext(l)[d];se(()=>$(y,p),[p,y])}}}const to=typeof document<"u"?g.useLayoutEffect:g.useEffect,eo=to;var dt=(t=>(t[t.DEBUG=0]="DEBUG",t[t.INFO=1]="INFO",t[t.WARN=2]="WARN",t[t.ERROR=3]="ERROR",t))(dt||{});const no={0:"debug",1:"log",2:"warn",3:"error"},oo=()=>typeof globalThis>"u"?window:globalThis,Lt=U(()=>{const t=C(3);return{log:C((n,o,r=1)=>{var s;const i=(s=oo().VIRTUOSO_LOG_LEVEL)!=null?s:it(t);r>=i&&console[no[r]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",n,o)}),logLevel:t}},[],{singleton:!0});function Oe(t,e=!0){const n=g.useRef(null);let o=r=>{};if(typeof ResizeObserver<"u"){const r=g.useMemo(()=>new ResizeObserver(s=>{requestAnimationFrame(()=>{const i=s[0].target;i.offsetParent!==null&&t(i)})}),[t]);o=s=>{s&&e?(r.observe(s),n.current=s):(n.current&&r.unobserve(n.current),n.current=null)}}return{ref:n,callbackRef:o}}function Pt(t,e=!0){return Oe(t,e).callbackRef}function ro(t,e,n,o,r,s,i){const l=g.useCallback(c=>{const f=so(c.children,e,"offsetHeight",r);let a=c.parentElement;for(;!a.dataset.virtuosoScroller;)a=a.parentElement;const h=a.lastElementChild.dataset.viewportType==="window",x=i?i.scrollTop:h?window.pageYOffset||document.documentElement.scrollTop:a.scrollTop,E=i?i.scrollHeight:h?document.documentElement.scrollHeight:a.scrollHeight,R=i?i.offsetHeight:h?window.innerHeight:a.offsetHeight;o({scrollTop:Math.max(x,0),scrollHeight:E,viewportHeight:R}),s==null||s(io("row-gap",getComputedStyle(c).rowGap,r)),f!==null&&t(f)},[t,e,r,s,i,o]);return Oe(l,n)}function so(t,e,n,o){const r=t.length;if(r===0)return null;const s=[];for(let i=0;i<r;i++){const l=t.item(i);if(!l||l.dataset.index===void 0)continue;const c=parseInt(l.dataset.index),f=parseFloat(l.dataset.knownSize),a=e(l,n);if(a===0&&o("Zero-sized element, this should not happen",{child:l},dt.ERROR),a===f)continue;const h=s[s.length-1];s.length===0||h.size!==a||h.endIndex!==c-1?s.push({startIndex:c,endIndex:c,size:a}):s[s.length-1].endIndex++}return s}function io(t,e,n){return e!=="normal"&&!(e!=null&&e.endsWith("px"))&&n(`${t} was not resolved to pixel value correctly`,e,dt.WARN),e==="normal"?0:parseInt(e??"0",10)}function Ht(t,e){return Math.round(t.getBoundingClientRect()[e])}function gn(t,e){return Math.abs(t-e)<1.01}function In(t,e,n,o=$t,r){const s=g.useRef(null),i=g.useRef(null),l=g.useRef(null),c=g.useCallback(h=>{const x=h.target,E=x===window||x===document,R=E?window.pageYOffset||document.documentElement.scrollTop:x.scrollTop,T=E?document.documentElement.scrollHeight:x.scrollHeight,H=E?window.innerHeight:x.offsetHeight,d=()=>{t({scrollTop:Math.max(R,0),scrollHeight:T,viewportHeight:H})};h.suppressFlushSync?d():Un.flushSync(d),i.current!==null&&(R===i.current||R<=0||R===T-H)&&(i.current=null,e(!0),l.current&&(clearTimeout(l.current),l.current=null))},[t,e]);g.useEffect(()=>{const h=r||s.current;return o(r||s.current),c({target:h,suppressFlushSync:!0}),h.addEventListener("scroll",c,{passive:!0}),()=>{o(null),h.removeEventListener("scroll",c)}},[s,c,n,o,r]);function f(h){const x=s.current;if(!x||"offsetHeight"in x&&x.offsetHeight===0)return;const E=h.behavior==="smooth";let R,T,H;x===window?(T=Math.max(Ht(document.documentElement,"height"),document.documentElement.scrollHeight),R=window.innerHeight,H=document.documentElement.scrollTop):(T=x.scrollHeight,R=Ht(x,"height"),H=x.scrollTop);const d=T-R;if(h.top=Math.ceil(Math.max(Math.min(d,h.top),0)),gn(R,T)||h.top===H){t({scrollTop:H,scrollHeight:T,viewportHeight:R}),E&&e(!0);return}E?(i.current=h.top,l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{l.current=null,i.current=null,e(!0)},1e3)):i.current=null,x.scrollTo(h)}function a(h){s.current.scrollBy(h)}return{scrollerRef:s,scrollByCallback:a,scrollToCallback:f}}const ut=U(()=>{const t=W(),e=W(),n=C(0),o=W(),r=C(0),s=W(),i=W(),l=C(0),c=C(0),f=C(0),a=C(0),h=W(),x=W(),E=C(!1);return L(I(t,b(({scrollTop:R})=>R)),e),L(I(t,b(({scrollHeight:R})=>R)),i),L(e,r),{scrollContainerState:t,scrollTop:e,viewportHeight:s,headerHeight:l,fixedHeaderHeight:c,fixedFooterHeight:f,footerHeight:a,scrollHeight:i,smoothScrollTargetReached:o,scrollTo:h,scrollBy:x,statefulScrollTop:r,deviation:n,scrollingInProgress:E}},[],{singleton:!0}),qt={lvl:0};function Sn(t,e,n,o=qt,r=qt){return{k:t,v:e,lvl:n,l:o,r}}function j(t){return t===qt}function Nt(){return qt}function Ee(t,e){if(j(t))return qt;const{k:n,l:o,r}=t;if(e===n){if(j(o))return r;if(j(r))return o;{const[s,i]=xn(o);return le(tt(t,{k:s,v:i,l:Tn(o)}))}}else return e<n?le(tt(t,{l:Ee(o,e)})):le(tt(t,{r:Ee(r,e)}))}function Kt(t,e){if(!j(t))return e===t.k?t.v:e<t.k?Kt(t.l,e):Kt(t.r,e)}function Tt(t,e,n="k"){if(j(t))return[-1/0,void 0];if(Number(t[n])===e)return[t.k,t.v];if(Number(t[n])<e){const o=Tt(t.r,e,n);return o[0]===-1/0?[t.k,t.v]:o}return Tt(t.l,e,n)}function at(t,e,n){return j(t)?Sn(e,n,1):e===t.k?tt(t,{k:e,v:n}):e<t.k?Ye(tt(t,{l:at(t.l,e,n)})):Ye(tt(t,{r:at(t.r,e,n)}))}function ye(t,e,n){if(j(t))return[];const{k:o,v:r,l:s,r:i}=t;let l=[];return o>e&&(l=l.concat(ye(s,e,n))),o>=e&&o<=n&&l.push({k:o,v:r}),o<=n&&(l=l.concat(ye(i,e,n))),l}function Ft(t){return j(t)?[]:[...Ft(t.l),{k:t.k,v:t.v},...Ft(t.r)]}function xn(t){return j(t.r)?[t.k,t.v]:xn(t.r)}function Tn(t){return j(t.r)?t.l:le(tt(t,{r:Tn(t.r)}))}function tt(t,e){return Sn(e.k!==void 0?e.k:t.k,e.v!==void 0?e.v:t.v,e.lvl!==void 0?e.lvl:t.lvl,e.l!==void 0?e.l:t.l,e.r!==void 0?e.r:t.r)}function Te(t){return j(t)||t.lvl>t.r.lvl}function Ye(t){return Re(vn(t))}function le(t){const{l:e,r:n,lvl:o}=t;if(n.lvl>=o-1&&e.lvl>=o-1)return t;if(o>n.lvl+1){if(Te(e))return vn(tt(t,{lvl:o-1}));if(!j(e)&&!j(e.r))return tt(e.r,{l:tt(e,{r:e.r.l}),r:tt(t,{l:e.r.r,lvl:o-1}),lvl:o});throw new Error("Unexpected empty nodes")}else{if(Te(t))return Re(tt(t,{lvl:o-1}));if(!j(n)&&!j(n.l)){const r=n.l,s=Te(r)?n.lvl-1:n.lvl;return tt(r,{l:tt(t,{r:r.l,lvl:o-1}),r:Re(tt(n,{l:r.r,lvl:s})),lvl:r.lvl+1})}else throw new Error("Unexpected empty nodes")}}function he(t,e,n){if(j(t))return[];const o=Tt(t,e)[0];return lo(ye(t,o,n))}function wn(t,e){const n=t.length;if(n===0)return[];let{index:o,value:r}=e(t[0]);const s=[];for(let i=1;i<n;i++){const{index:l,value:c}=e(t[i]);s.push({start:o,end:l-1,value:r}),o=l,r=c}return s.push({start:o,end:1/0,value:r}),s}function lo(t){return wn(t,({k:e,v:n})=>({index:e,value:n}))}function Re(t){const{r:e,lvl:n}=t;return!j(e)&&!j(e.r)&&e.lvl===n&&e.r.lvl===n?tt(e,{l:tt(t,{r:e.l}),lvl:n+1}):t}function vn(t){const{l:e}=t;return!j(e)&&e.lvl===t.lvl?tt(e,{r:tt(t,{l:e.r})}):t}function ue(t,e,n,o=0){let r=t.length-1;for(;o<=r;){const s=Math.floor((o+r)/2),i=t[s],l=n(i,e);if(l===0)return s;if(l===-1){if(r-o<2)return s-1;r=s-1}else{if(r===o)return s;o=s+1}}throw new Error(`Failed binary finding record in array - ${t.join(",")}, searched for ${e}`)}function Cn(t,e,n){return t[ue(t,e,n)]}function co(t,e,n,o){const r=ue(t,e,o),s=ue(t,n,o,r);return t.slice(r,s+1)}const ze=U(()=>({recalcInProgress:C(!1)}),[],{singleton:!0});function uo(t){const{size:e,startIndex:n,endIndex:o}=t;return r=>r.start===n&&(r.end===o||r.end===1/0)&&r.value===e}function Ze(t,e){let n=0,o=0;for(;n<t;)n+=e[o+1]-e[o]-1,o++;return o-(n===t?0:1)}function ao(t,e){let n=j(t)?0:1/0;for(const o of e){const{size:r,startIndex:s,endIndex:i}=o;if(n=Math.min(n,s),j(t)){t=at(t,0,r);continue}const l=he(t,s-1,i+1);if(l.some(uo(o)))continue;let c=!1,f=!1;for(const{start:a,end:h,value:x}of l)c?(i>=a||r===x)&&(t=Ee(t,a)):(f=x!==r,c=!0),h>i&&i>=a&&x!==r&&(t=at(t,i+1,x));f&&(t=at(t,s,r))}return[t,n]}function fo(){return{offsetTree:[],sizeTree:Nt(),groupOffsetTree:Nt(),lastIndex:0,lastOffset:0,lastSize:0,groupIndices:[]}}function ke({index:t},e){return e===t?0:e<t?-1:1}function mo({offset:t},e){return e===t?0:e<t?-1:1}function po(t){return{index:t.index,value:t}}function ho(t,e,n,o=0){return o>0&&(e=Math.max(e,Cn(t,o,ke).offset)),wn(co(t,e,n,mo),po)}function be(t,e,n,o){let r=t,s=0,i=0,l=0,c=0;if(e!==0){c=ue(r,e-1,ke),l=r[c].offset;const a=Tt(n,e-1);s=a[0],i=a[1],r.length&&r[c].size===Tt(n,e)[1]&&(c-=1),r=r.slice(0,c+1)}else r=[];for(const{start:f,value:a}of he(n,e,1/0)){const h=f-s,x=h*i+l+h*o;r.push({offset:x,size:a,index:f}),s=f,l=x,i=a}return{offsetTree:r,lastIndex:s,lastOffset:l,lastSize:i}}function go(t,[e,n,o,r]){e.length>0&&o("received item sizes",e,dt.DEBUG);const s=t.sizeTree;let i=s,l=0;if(n.length>0&&j(s)&&e.length===2){const x=e[0].size,E=e[1].size;i=n.reduce((R,T)=>at(at(R,T,x),T+1,E),i)}else[i,l]=ao(i,e);if(i===s)return t;const{offsetTree:c,lastIndex:f,lastSize:a,lastOffset:h}=be(t.offsetTree,l,i,r);return{sizeTree:i,offsetTree:c,lastIndex:f,lastOffset:h,lastSize:a,groupOffsetTree:n.reduce((x,E)=>at(x,E,Yt(E,c,r)),Nt()),groupIndices:n}}function Yt(t,e,n){if(e.length===0)return 0;const{offset:o,index:r,size:s}=Cn(e,t,ke),i=t-r,l=s*i+(i-1)*n+o;return l>0?l+n:l}function Io(t){return typeof t.groupIndex<"u"}function En(t,e,n){if(Io(t))return e.groupIndices[t.groupIndex]+1;{const o=t.index==="LAST"?n:t.index;let r=yn(o,e);return r=Math.max(0,r,Math.min(n,r)),r}}function yn(t,e){if(!ge(e))return t;let n=0;for(;e.groupIndices[n]<=t+n;)n++;return t+n}function ge(t){return!j(t.groupOffsetTree)}function So(t){return Ft(t).map(({k:e,v:n},o,r)=>{const s=r[o+1],i=s?s.k-1:1/0;return{startIndex:e,endIndex:i,size:n}})}const xo={offsetHeight:"height",offsetWidth:"width"},Et=U(([{log:t},{recalcInProgress:e}])=>{const n=W(),o=W(),r=ct(o,0),s=W(),i=W(),l=C(0),c=C([]),f=C(void 0),a=C(void 0),h=C((m,u)=>Ht(m,xo[u])),x=C(void 0),E=C(0),R=fo(),T=ct(I(n,_(c,t,E),vt(go,R),Z()),R),H=ct(I(c,Z(),vt((m,u)=>({prev:m.current,current:u}),{prev:[],current:[]}),b(({prev:m})=>m)),[]);L(I(c,k(m=>m.length>0),_(T,E),b(([m,u,v])=>{const O=m.reduce((B,M,V)=>at(B,M,Yt(M,u.offsetTree,v)||V),Nt());return{...u,groupIndices:m,groupOffsetTree:O}})),T),L(I(o,_(T),k(([m,{lastIndex:u}])=>m<u),b(([m,{lastIndex:u,lastSize:v}])=>[{startIndex:m,endIndex:u,size:v}])),n),L(f,a);const d=ct(I(f,b(m=>m===void 0)),!0);L(I(a,k(m=>m!==void 0&&j(it(T).sizeTree)),b(m=>[{startIndex:0,endIndex:0,size:m}])),n);const p=ft(I(n,_(T),vt(({sizes:m},[u,v])=>({changed:v!==m,sizes:v}),{changed:!1,sizes:R}),b(m=>m.changed)));$(I(l,vt((m,u)=>({diff:m.prev-u,prev:u}),{diff:0,prev:0}),b(m=>m.diff)),m=>{const{groupIndices:u}=it(T);if(m>0)P(e,!0),P(s,m+Ze(m,u));else if(m<0){const v=it(H);v.length>0&&(m-=Ze(-m,v)),P(i,m)}}),$(I(l,_(t)),([m,u])=>{m<0&&u("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:l},dt.ERROR)});const S=ft(s);L(I(s,_(T),b(([m,u])=>{const v=u.groupIndices.length>0,O=[],B=u.lastSize;if(v){const M=Kt(u.sizeTree,0);let V=0,D=0;for(;V<m;){const G=u.groupIndices[D],K=u.groupIndices.length===D+1?1/0:u.groupIndices[D+1]-G-1;O.push({startIndex:G,endIndex:G,size:M}),O.push({startIndex:G+1,endIndex:G+1+K-1,size:B}),D++,V+=K+1}const q=Ft(u.sizeTree);return V!==m&&q.shift(),q.reduce((G,{k:K,v:ot})=>{let mt=G.ranges;return G.prevSize!==0&&(mt=[...G.ranges,{startIndex:G.prevIndex,endIndex:K+m-1,size:G.prevSize}]),{ranges:mt,prevIndex:K+m,prevSize:ot}},{ranges:O,prevIndex:m,prevSize:0}).ranges}return Ft(u.sizeTree).reduce((M,{k:V,v:D})=>({ranges:[...M.ranges,{startIndex:M.prevIndex,endIndex:V+m-1,size:M.prevSize}],prevIndex:V+m,prevSize:D}),{ranges:[],prevIndex:0,prevSize:B}).ranges})),n);const y=ft(I(i,_(T,E),b(([m,{offsetTree:u},v])=>{const O=-m;return Yt(O,u,v)})));return L(I(i,_(T,E),b(([m,u,v])=>{if(u.groupIndices.length>0){if(j(u.sizeTree))return u;let B=Nt();const M=it(H);let V=0,D=0,q=0;for(;V<-m;){q=M[D];const G=M[D+1]-q-1;D++,V+=G+1}if(B=Ft(u.sizeTree).reduce((G,{k:K,v:ot})=>at(G,Math.max(0,K+m),ot),B),V!==-m){const G=Kt(u.sizeTree,q);B=at(B,0,G);const K=Tt(u.sizeTree,-m+1)[1];B=at(B,1,K)}return{...u,sizeTree:B,...be(u.offsetTree,0,B,v)}}else{const B=Ft(u.sizeTree).reduce((M,{k:V,v:D})=>at(M,Math.max(0,V+m),D),Nt());return{...u,sizeTree:B,...be(u.offsetTree,0,B,v)}}})),T),{data:x,totalCount:o,sizeRanges:n,groupIndices:c,defaultItemSize:a,fixedItemSize:f,unshiftWith:s,shiftWith:i,shiftWithOffset:y,beforeUnshiftWith:S,firstItemIndex:l,gap:E,sizes:T,listRefresh:p,statefulTotalCount:r,trackItemSizes:d,itemSize:h}},J(Lt,ze),{singleton:!0}),To=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function Rn(t){const e=typeof t=="number"?{index:t}:t;return e.align||(e.align="start"),(!e.behavior||!To)&&(e.behavior="auto"),e.offset||(e.offset=0),e}const Qt=U(([{sizes:t,totalCount:e,listRefresh:n,gap:o},{scrollingInProgress:r,viewportHeight:s,scrollTo:i,smoothScrollTargetReached:l,headerHeight:c,footerHeight:f,fixedHeaderHeight:a,fixedFooterHeight:h},{log:x}])=>{const E=W(),R=W(),T=C(0);let H=null,d=null,p=null;function S(){H&&(H(),H=null),p&&(p(),p=null),d&&(clearTimeout(d),d=null),P(r,!1)}return L(I(E,_(t,s,e,T,c,f,x),_(o,a,h),b(([[y,m,u,v,O,B,M,V],D,q,z])=>{const G=Rn(y),{align:K,behavior:ot,offset:mt}=G,It=v-1,pt=En(G,m,It);let rt=Yt(pt,m.offsetTree,D)+B;K==="end"?(rt+=q+Tt(m.sizeTree,pt)[1]-u+z,pt===It&&(rt+=M)):K==="center"?rt+=(q+Tt(m.sizeTree,pt)[1]-u+z)/2:rt-=O,mt&&(rt+=mt);const zt=yt=>{S(),yt?(V("retrying to scroll to",{location:y},dt.DEBUG),P(E,y)):(P(R,!0),V("list did not change, scroll successful",{},dt.DEBUG))};if(S(),ot==="smooth"){let yt=!1;p=$(n,_t=>{yt=yt||_t}),H=Ct(l,()=>{zt(yt)})}else H=Ct(I(n,wo(150)),zt);return d=setTimeout(()=>{S()},1200),P(r,!0),V("scrolling from index to",{index:pt,top:rt,behavior:ot},dt.DEBUG),{top:rt,behavior:ot}})),i),{scrollToIndex:E,scrollTargetReached:R,topListHeight:T}},J(Et,ut,Lt),{singleton:!0});function wo(t){return e=>{const n=setTimeout(()=>{e(!1)},t);return o=>{o&&(e(!0),clearTimeout(n))}}}const Zt="up",Ut="down",vo="none",Co={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},Eo=0,Xt=U(([{scrollContainerState:t,scrollTop:e,viewportHeight:n,headerHeight:o,footerHeight:r,scrollBy:s}])=>{const i=C(!1),l=C(!0),c=W(),f=W(),a=C(4),h=C(Eo),x=ct(I(Ke(I(F(e),Wt(1),wt(!0)),I(F(e),Wt(1),wt(!1),qe(100))),Z()),!1),E=ct(I(Ke(I(s,wt(!0)),I(s,wt(!1),qe(200))),Z()),!1);L(I(nt(F(e),F(h)),b(([p,S])=>p<=S),Z()),l),L(I(l,bt(50)),f);const R=ft(I(nt(t,F(n),F(o),F(r),F(a)),vt((p,[{scrollTop:S,scrollHeight:y},m,u,v,O])=>{const B=S+m-y>-O,M={viewportHeight:m,scrollTop:S,scrollHeight:y};if(B){let D,q;return S>p.state.scrollTop?(D="SCROLLED_DOWN",q=p.state.scrollTop-S):(D="SIZE_DECREASED",q=p.state.scrollTop-S||p.scrollTopDelta),{atBottom:!0,state:M,atBottomBecause:D,scrollTopDelta:q}}let V;return M.scrollHeight>p.state.scrollHeight?V="SIZE_INCREASED":m<p.state.viewportHeight?V="VIEWPORT_HEIGHT_DECREASING":S<p.state.scrollTop?V="SCROLLING_UPWARDS":V="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:V,state:M}},Co),Z((p,S)=>p&&p.atBottom===S.atBottom))),T=ct(I(t,vt((p,{scrollTop:S,scrollHeight:y,viewportHeight:m})=>{if(gn(p.scrollHeight,y))return{scrollTop:S,scrollHeight:y,jump:0,changed:!1};{const u=y-(S+m)<1;return p.scrollTop!==S&&u?{scrollHeight:y,scrollTop:S,jump:p.scrollTop-S,changed:!0}:{scrollHeight:y,scrollTop:S,jump:0,changed:!0}}},{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),k(p=>p.changed),b(p=>p.jump)),0);L(I(R,b(p=>p.atBottom)),i),L(I(i,bt(50)),c);const H=C(Ut);L(I(t,b(({scrollTop:p})=>p),Z(),vt((p,S)=>it(E)?{direction:p.direction,prevScrollTop:S}:{direction:S<p.prevScrollTop?Zt:Ut,prevScrollTop:S},{direction:Ut,prevScrollTop:0}),b(p=>p.direction)),H),L(I(t,bt(50),wt(vo)),H);const d=C(0);return L(I(x,k(p=>!p),wt(0)),d),L(I(e,bt(100),_(x),k(([p,S])=>!!S),vt(([p,S],[y])=>[S,y],[0,0]),b(([p,S])=>S-p)),d),{isScrolling:x,isAtTop:l,isAtBottom:i,atBottomState:R,atTopStateChange:f,atBottomStateChange:c,scrollDirection:H,atBottomThreshold:a,atTopThreshold:h,scrollVelocity:d,lastJumpDueToItemResize:T}},J(ut)),Ot=U(([{log:t}])=>{const e=C(!1),n=ft(I(e,k(o=>o),Z()));return $(e,o=>{o&&it(t)("props updated",{},dt.DEBUG)}),{propsReady:e,didMount:n}},J(Lt),{singleton:!0});function Me(t,e){t==0?e():requestAnimationFrame(()=>Me(t-1,e))}function Fe(t,e){const n=e-1;return typeof t=="number"?t:t.index==="LAST"?n:t.index}const te=U(([{sizes:t,listRefresh:e,defaultItemSize:n},{scrollTop:o},{scrollToIndex:r,scrollTargetReached:s},{didMount:i}])=>{const l=C(!0),c=C(0),f=C(!0);return L(I(i,_(c),k(([a,h])=>!!h),wt(!1)),l),L(I(i,_(c),k(([a,h])=>!!h),wt(!1)),f),$(I(nt(e,i),_(l,t,n,f),k(([[,a],h,{sizeTree:x},E,R])=>a&&(!j(x)||Be(E))&&!h&&!R),_(c)),([,a])=>{Ct(s,()=>{P(f,!0)}),Me(4,()=>{Ct(o,()=>{P(l,!0)}),P(r,a)})}),{scrolledToInitialItem:l,initialTopMostItemIndex:c,initialItemFinalLocationReached:f}},J(Et,ut,Qt,Ot),{singleton:!0});function Je(t){return t?t==="smooth"?"smooth":"auto":!1}const yo=(t,e)=>typeof t=="function"?Je(t(e)):e&&Je(t),Ro=U(([{totalCount:t,listRefresh:e},{isAtBottom:n,atBottomState:o},{scrollToIndex:r},{scrolledToInitialItem:s},{propsReady:i,didMount:l},{log:c},{scrollingInProgress:f}])=>{const a=C(!1),h=W();let x=null;function E(T){P(r,{index:"LAST",align:"end",behavior:T})}$(I(nt(I(F(t),Wt(1)),l),_(F(a),n,s,f),b(([[T,H],d,p,S,y])=>{let m=H&&S,u="auto";return m&&(u=yo(d,p||y),m=m&&!!u),{totalCount:T,shouldFollow:m,followOutputBehavior:u}}),k(({shouldFollow:T})=>T)),({totalCount:T,followOutputBehavior:H})=>{x&&(x(),x=null),x=Ct(e,()=>{it(c)("following output to ",{totalCount:T},dt.DEBUG),E(H),x=null})});function R(T){const H=Ct(o,d=>{T&&!d.atBottom&&d.notAtBottomBecause==="SIZE_INCREASED"&&!x&&(it(c)("scrolling to bottom due to increased size",{},dt.DEBUG),E("auto"))});setTimeout(H,100)}return $(I(nt(F(a),t,i),k(([T,,H])=>T&&H),vt(({value:T},[,H])=>({refreshed:T===H,value:H}),{refreshed:!1,value:0}),k(({refreshed:T})=>T),_(a,t)),([,T])=>{it(s)&&R(T!==!1)}),$(h,()=>{R(it(a)!==!1)}),$(nt(F(a),o),([T,H])=>{T&&!H.atBottom&&H.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&E("auto")}),{followOutput:a,autoscrollToBottom:h}},J(Et,Xt,Qt,te,Ot,Lt,ut));function bo(t){return t.reduce((e,n)=>(e.groupIndices.push(e.totalCount),e.totalCount+=n+1,e),{totalCount:0,groupIndices:[]})}const bn=U(([{totalCount:t,groupIndices:e,sizes:n},{scrollTop:o,headerHeight:r}])=>{const s=W(),i=W(),l=ft(I(s,b(bo)));return L(I(l,b(c=>c.totalCount)),t),L(I(l,b(c=>c.groupIndices)),e),L(I(nt(o,n,r),k(([c,f])=>ge(f)),b(([c,f,a])=>Tt(f.groupOffsetTree,Math.max(c-a,0),"v")[0]),Z(),b(c=>[c])),i),{groupCounts:s,topItemsIndexes:i}},J(Et,ut));function Jt(t,e){return!!(t&&t[0]===e[0]&&t[1]===e[1])}function Hn(t,e){return!!(t&&t.startIndex===e.startIndex&&t.endIndex===e.endIndex)}const ae="top",fe="bottom",Qe="none";function Xe(t,e,n){return typeof t=="number"?n===Zt&&e===ae||n===Ut&&e===fe?t:0:n===Zt?e===ae?t.main:t.reverse:e===fe?t.main:t.reverse}function tn(t,e){return typeof t=="number"?t:t[e]||0}const Pe=U(([{scrollTop:t,viewportHeight:e,deviation:n,headerHeight:o,fixedHeaderHeight:r}])=>{const s=W(),i=C(0),l=C(0),c=C(0),f=ct(I(nt(F(t),F(e),F(o),F(s,Jt),F(c),F(i),F(r),F(n),F(l)),b(([a,h,x,[E,R],T,H,d,p,S])=>{const y=a-p,m=H+d,u=Math.max(x-y,0);let v=Qe;const O=tn(S,ae),B=tn(S,fe);return E-=p,E+=x+d,R+=x+d,R-=p,E>a+m-O&&(v=Zt),R<a-u+h+B&&(v=Ut),v!==Qe?[Math.max(y-x-Xe(T,ae,v)-O,0),y-u-d+h+Xe(T,fe,v)+B]:null}),k(a=>a!=null),Z(Jt)),[0,0]);return{listBoundary:s,overscan:c,topListHeight:i,increaseViewportBy:l,visibleRange:f}},J(ut),{singleton:!0});function Ho(t,e,n){if(ge(e)){const o=yn(t,e);return[{index:Tt(e.groupOffsetTree,o)[0],size:0,offset:0},{index:o,size:0,offset:0,data:n&&n[0]}]}return[{index:t,size:0,offset:0,data:n&&n[0]}]}const we={items:[],topItems:[],offsetTop:0,offsetBottom:0,top:0,bottom:0,topListHeight:0,totalCount:0,firstItemIndex:0};function en(t,e,n){if(t.length===0)return[];if(!ge(e))return t.map(f=>({...f,index:f.index+n,originalIndex:f.index}));const o=t[0].index,r=t[t.length-1].index,s=[],i=he(e.groupOffsetTree,o,r);let l,c=0;for(const f of t){(!l||l.end<f.index)&&(l=i.shift(),c=e.groupIndices.indexOf(l.start));let a;f.index===l.start?a={type:"group",index:c}:a={index:f.index-(c+1)+n,groupIndex:c},s.push({...a,size:f.size,offset:f.offset,originalIndex:f.index,data:f.data})}return s}function ce(t,e,n,o,r,s){const{lastSize:i,lastOffset:l,lastIndex:c}=r;let f=0,a=0;if(t.length>0){f=t[0].offset;const T=t[t.length-1];a=T.offset+T.size}const h=n-c,x=l+h*i+(h-1)*o,E=f,R=x-a;return{items:en(t,r,s),topItems:en(e,r,s),topListHeight:e.reduce((T,H)=>H.size+T,0),offsetTop:f,offsetBottom:R,top:E,bottom:a,totalCount:n,firstItemIndex:s}}function Bn(t,e,n,o,r,s){let i=0;if(n.groupIndices.length>0)for(const a of n.groupIndices){if(a-i>=t)break;i++}const l=t+i,c=Fe(e,l),f=Array.from({length:l}).map((a,h)=>({index:h+c,size:0,offset:0,data:s[h+c]}));return ce(f,[],l,r,n,o)}const Vt=U(([{sizes:t,totalCount:e,data:n,firstItemIndex:o,gap:r},s,{visibleRange:i,listBoundary:l,topListHeight:c},{scrolledToInitialItem:f,initialTopMostItemIndex:a},{topListHeight:h},x,{didMount:E},{recalcInProgress:R}])=>{const T=C([]),H=C(0),d=W();L(s.topItemsIndexes,T);const p=ct(I(nt(E,R,F(i,Jt),F(e),F(t),F(a),f,F(T),F(o),F(r),n),k(([u,v,,O,,,,,,,B])=>{const M=B&&B.length!==O;return u&&!v&&!M}),b(([,,[u,v],O,B,M,V,D,q,z,G])=>{const K=B,{sizeTree:ot,offsetTree:mt}=K,It=it(H);if(O===0)return{...we,totalCount:O};if(u===0&&v===0)return It===0?{...we,totalCount:O}:Bn(It,M,B,q,z,G||[]);if(j(ot))return It>0?null:ce(Ho(Fe(M,O),K,G),[],O,z,K,q);const pt=[];if(D.length>0){const kt=D[0],w=D[D.length-1];let N=0;for(const Y of he(ot,kt,w)){const X=Y.value,st=Math.max(Y.start,kt),St=Math.min(Y.end,w);for(let et=st;et<=St;et++)pt.push({index:et,size:X,offset:N,data:G&&G[et]}),N+=X}}if(!V)return ce([],pt,O,z,K,q);const rt=D.length>0?D[D.length-1]+1:0,zt=ho(mt,u,v,rt);if(zt.length===0)return null;const yt=O-1,_t=pe([],kt=>{for(const w of zt){const N=w.value;let Y=N.offset,X=w.start;const st=N.size;if(N.offset<u){X+=Math.floor((u-N.offset+z)/(st+z));const et=X-w.start;Y+=et*st+et*z}X<rt&&(Y+=(rt-X)*st,X=rt);const St=Math.min(w.end,yt);for(let et=X;et<=St&&!(Y>=v);et++)kt.push({index:et,size:st,offset:Y,data:G&&G[et]}),Y+=st+z}});return ce(_t,pt,O,z,K,q)}),k(u=>u!==null),Z()),we);L(I(n,k(Be),b(u=>u==null?void 0:u.length)),e),L(I(p,b(u=>u.topListHeight)),h),L(h,c),L(I(p,b(u=>[u.top,u.bottom])),l),L(I(p,b(u=>u.items)),d);const S=ft(I(p,k(({items:u})=>u.length>0),_(e,n),k(([{items:u},v])=>u[u.length-1].originalIndex===v-1),b(([,u,v])=>[u-1,v]),Z(Jt),b(([u])=>u))),y=ft(I(p,bt(200),k(({items:u,topItems:v})=>u.length>0&&u[0].originalIndex===v.length),b(({items:u})=>u[0].index),Z())),m=ft(I(p,k(({items:u})=>u.length>0),b(({items:u})=>{let v=0,O=u.length-1;for(;u[v].type==="group"&&v<O;)v++;for(;u[O].type==="group"&&O>v;)O--;return{startIndex:u[v].index,endIndex:u[O].index}}),Z(Hn)));return{listState:p,topItemsIndexes:T,endReached:S,startReached:y,rangeChanged:m,itemsRendered:d,initialItemCount:H,...x}},J(Et,bn,Pe,te,Qt,Xt,Ot,ze),{singleton:!0}),Bo=U(([{sizes:t,firstItemIndex:e,data:n,gap:o},{initialTopMostItemIndex:r},{initialItemCount:s,listState:i},{didMount:l}])=>(L(I(l,_(s),k(([,c])=>c!==0),_(r,t,e,o,n),b(([[,c],f,a,h,x,E=[]])=>Bn(c,f,a,h,x,E))),i),{}),J(Et,te,Vt,Ot),{singleton:!0}),Ln=U(([{scrollVelocity:t}])=>{const e=C(!1),n=W(),o=C(!1);return L(I(t,_(o,e,n),k(([r,s])=>!!s),b(([r,s,i,l])=>{const{exit:c,enter:f}=s;if(i){if(c(r,l))return!1}else if(f(r,l))return!0;return i}),Z()),e),$(I(nt(e,t,n),_(o)),([[r,s,i],l])=>r&&l&&l.change&&l.change(s,i)),{isSeeking:e,scrollSeekConfiguration:o,scrollVelocity:t,scrollSeekRangeChanged:n}},J(Xt),{singleton:!0}),Lo=U(([{topItemsIndexes:t}])=>{const e=C(0);return L(I(e,k(n=>n>0),b(n=>Array.from({length:n}).map((o,r)=>r))),t),{topItemCount:e}},J(Vt)),On=U(([{footerHeight:t,headerHeight:e,fixedHeaderHeight:n,fixedFooterHeight:o},{listState:r}])=>{const s=W(),i=ct(I(nt(t,o,e,n,r),b(([l,c,f,a,h])=>l+c+f+a+h.offsetBottom+h.bottom)),0);return L(F(i),s),{totalListHeight:i,totalListHeightChanged:s}},J(ut,Vt),{singleton:!0});function zn(t){let e=!1,n;return()=>(e||(e=!0,n=t()),n)}const Oo=zn(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),zo=U(([{scrollBy:t,scrollTop:e,deviation:n,scrollingInProgress:o},{isScrolling:r,isAtBottom:s,scrollDirection:i,lastJumpDueToItemResize:l},{listState:c},{beforeUnshiftWith:f,shiftWithOffset:a,sizes:h,gap:x},{log:E},{recalcInProgress:R}])=>{const T=ft(I(c,_(l),vt(([,d,p,S],[{items:y,totalCount:m,bottom:u,offsetBottom:v},O])=>{const B=u+v;let M=0;return p===m&&d.length>0&&y.length>0&&(y[0].originalIndex===0&&d[0].originalIndex===0||(M=B-S,M!==0&&(M+=O))),[M,y,m,B]},[0,[],0,0]),k(([d])=>d!==0),_(e,i,o,s,E,R),k(([,d,p,S,,,y])=>!y&&!S&&d!==0&&p===Zt),b(([[d],,,,,p])=>(p("Upward scrolling compensation",{amount:d},dt.DEBUG),d))));function H(d){d>0?(P(t,{top:-d,behavior:"auto"}),P(n,0)):(P(n,0),P(t,{top:-d,behavior:"auto"}))}return $(I(T,_(n,r)),([d,p,S])=>{S&&Oo()?P(n,p-d):H(-d)}),$(I(nt(ct(r,!1),n,R),k(([d,p,S])=>!d&&!S&&p!==0),b(([d,p])=>p),bt(1)),H),L(I(a,b(d=>({top:-d}))),t),$(I(f,_(h,x),b(([d,{lastSize:p,groupIndices:S,sizeTree:y},m])=>{function u(v){return v*(p+m)}if(S.length===0)return u(d);{let v=0;const O=Kt(y,0);let B=0,M=0;for(;B<d;){B++,v+=O;let V=S.length===M+1?1/0:S[M+1]-S[M]-1;B+V>d&&(v-=O,V=d-B+1),B+=V,v+=u(V),M++}return v}})),d=>{P(n,d),requestAnimationFrame(()=>{P(t,{top:d}),requestAnimationFrame(()=>{P(n,0),P(R,!1)})})}),{deviation:n}},J(ut,Xt,Vt,Et,Lt,ze)),ko=U(([{didMount:t},{scrollTo:e},{listState:n}])=>{const o=C(0);return $(I(t,_(o),k(([,r])=>r!==0),b(([,r])=>({top:r}))),r=>{Ct(I(n,Wt(1),k(s=>s.items.length>1)),()=>{requestAnimationFrame(()=>{P(e,r)})})}),{initialScrollTop:o}},J(Ot,ut,Vt),{singleton:!0}),Mo=U(([{viewportHeight:t},{totalListHeight:e}])=>{const n=C(!1),o=ct(I(nt(n,t,e),k(([r])=>r),b(([,r,s])=>Math.max(0,r-s)),bt(0),Z()),0);return{alignToBottom:n,paddingTopAddition:o}},J(ut,On),{singleton:!0}),Ve=U(([{scrollTo:t,scrollContainerState:e}])=>{const n=W(),o=W(),r=W(),s=C(!1),i=C(void 0);return L(I(nt(n,o),b(([{viewportHeight:l,scrollTop:c,scrollHeight:f},{offsetTop:a}])=>({scrollTop:Math.max(0,c-a),scrollHeight:f,viewportHeight:l}))),e),L(I(t,_(o),b(([l,{offsetTop:c}])=>({...l,top:l.top+c}))),r),{useWindowScroll:s,customScrollParent:i,windowScrollContainerState:n,windowViewportRect:o,windowScrollTo:r}},J(ut)),Fo=({itemTop:t,itemBottom:e,viewportTop:n,viewportBottom:o,locationParams:{behavior:r,align:s,...i}})=>t<n?{...i,behavior:r,align:s??"start"}:e>o?{...i,behavior:r,align:s??"end"}:null,Po=U(([{sizes:t,totalCount:e,gap:n},{scrollTop:o,viewportHeight:r,headerHeight:s,fixedHeaderHeight:i,fixedFooterHeight:l,scrollingInProgress:c},{scrollToIndex:f}])=>{const a=W();return L(I(a,_(t,r,e,s,i,l,o),_(n),b(([[h,x,E,R,T,H,d,p],S])=>{const{done:y,behavior:m,align:u,calculateViewLocation:v=Fo,...O}=h,B=En(h,x,R-1),M=Yt(B,x.offsetTree,S)+T+H,V=M+Tt(x.sizeTree,B)[1],D=p+H,q=p+E-d,z=v({itemTop:M,itemBottom:V,viewportTop:D,viewportBottom:q,locationParams:{behavior:m,align:u,...O}});return z?y&&Ct(I(c,k(G=>G===!1),Wt(it(c)?1:2)),y):y&&y(),z}),k(h=>h!==null)),f),{scrollIntoView:a}},J(Et,ut,Qt,Vt,Lt),{singleton:!0}),Vo=U(([{sizes:t,sizeRanges:e},{scrollTop:n},{initialTopMostItemIndex:o},{didMount:r},{useWindowScroll:s,windowScrollContainerState:i,windowViewportRect:l}])=>{const c=W(),f=C(void 0),a=C(null),h=C(null);return L(i,a),L(l,h),$(I(c,_(t,n,s,a,h)),([x,E,R,T,H,d])=>{const p=So(E.sizeTree);T&&H!==null&&d!==null&&(R=H.scrollTop-d.offsetTop),x({ranges:p,scrollTop:R})}),L(I(f,k(Be),b(_o)),o),L(I(r,_(f),k(([,x])=>x!==void 0),Z(),b(([,x])=>x.ranges)),e),{getState:c,restoreStateFrom:f}},J(Et,ut,te,Ot,Ve));function _o(t){return{offset:t.scrollTop,index:0,align:"start"}}const Go=U(([t,e,n,o,r,s,i,l,c,f])=>({...t,...e,...n,...o,...r,...s,...i,...l,...c,...f}),J(Pe,Bo,Ot,Ln,On,ko,Mo,Ve,Po,Lt)),Ao=U(([{totalCount:t,sizeRanges:e,fixedItemSize:n,defaultItemSize:o,trackItemSizes:r,itemSize:s,data:i,firstItemIndex:l,groupIndices:c,statefulTotalCount:f,gap:a,sizes:h},{initialTopMostItemIndex:x,scrolledToInitialItem:E,initialItemFinalLocationReached:R},T,H,d,{listState:p,topItemsIndexes:S,...y},{scrollToIndex:m},u,{topItemCount:v},{groupCounts:O},B])=>(L(y.rangeChanged,B.scrollSeekRangeChanged),L(I(B.windowViewportRect,b(M=>M.visibleHeight)),T.viewportHeight),{totalCount:t,data:i,firstItemIndex:l,sizeRanges:e,initialTopMostItemIndex:x,scrolledToInitialItem:E,initialItemFinalLocationReached:R,topItemsIndexes:S,topItemCount:v,groupCounts:O,fixedItemHeight:n,defaultItemHeight:o,gap:a,...d,statefulTotalCount:f,listState:p,scrollToIndex:m,trackItemSizes:r,itemSize:s,groupIndices:c,...y,...B,...T,sizes:h,...H}),J(Et,te,ut,Vo,Ro,Vt,Qt,zo,Lo,bn,Go)),ve="-webkit-sticky",nn="sticky",kn=zn(()=>{if(typeof document>"u")return nn;const t=document.createElement("div");return t.style.position=ve,t.style.position===ve?ve:nn});function Mn(t,e){const n=g.useRef(null),o=g.useCallback(l=>{if(l===null||!l.offsetParent)return;const c=l.getBoundingClientRect(),f=c.width;let a,h;if(e){const x=e.getBoundingClientRect(),E=c.top-x.top;a=x.height-Math.max(0,E),h=E+e.scrollTop}else a=window.innerHeight-Math.max(0,c.top),h=c.top+window.pageYOffset;n.current={offsetTop:h,visibleHeight:a,visibleWidth:f},t(n.current)},[t,e]),{callbackRef:r,ref:s}=Oe(o),i=g.useCallback(()=>{o(s.current)},[o,s]);return g.useEffect(()=>{if(e){e.addEventListener("scroll",i);const l=new ResizeObserver(()=>{requestAnimationFrame(i)});return l.observe(e),()=>{e.removeEventListener("scroll",i),l.unobserve(e)}}else return window.addEventListener("scroll",i),window.addEventListener("resize",i),()=>{window.removeEventListener("scroll",i),window.removeEventListener("resize",i)}},[i,e]),r}const Fn=g.createContext(void 0),Pn=g.createContext(void 0);function Vn(t){return t}const No=U(()=>{const t=C(c=>`Item ${c}`),e=C(null),n=C(c=>`Group ${c}`),o=C({}),r=C(Vn),s=C("div"),i=C($t),l=(c,f=null)=>ct(I(o,b(a=>a[c]),Z()),f);return{context:e,itemContent:t,groupContent:n,components:o,computeItemKey:r,headerFooterTag:s,scrollerRef:i,FooterComponent:l("Footer"),HeaderComponent:l("Header"),TopItemListComponent:l("TopItemList"),ListComponent:l("List","div"),ItemComponent:l("Item","div"),GroupComponent:l("Group","div"),ScrollerComponent:l("Scroller","div"),EmptyPlaceholder:l("EmptyPlaceholder"),ScrollSeekPlaceholder:l("ScrollSeekPlaceholder")}}),Wo=U(([t,e])=>({...t,...e}),J(Ao,No)),Do=({height:t})=>g.createElement("div",{style:{height:t}}),$o={position:kn(),zIndex:1,overflowAnchor:"none"},Uo={overflowAnchor:"none"},on=g.memo(function({showTopList:e=!1}){const n=A("listState"),o=gt("sizeRanges"),r=A("useWindowScroll"),s=A("customScrollParent"),i=gt("windowScrollContainerState"),l=gt("scrollContainerState"),c=s||r?i:l,f=A("itemContent"),a=A("context"),h=A("groupContent"),x=A("trackItemSizes"),E=A("itemSize"),R=A("log"),T=gt("gap"),{callbackRef:H}=ro(o,E,x,e?$t:c,R,T,s),[d,p]=g.useState(0);_e("deviation",z=>{d!==z&&p(z)});const S=A("EmptyPlaceholder"),y=A("ScrollSeekPlaceholder")||Do,m=A("ListComponent"),u=A("ItemComponent"),v=A("GroupComponent"),O=A("computeItemKey"),B=A("isSeeking"),M=A("groupIndices").length>0,V=A("alignToBottom"),D=A("initialItemFinalLocationReached"),q=e?{}:{boxSizing:"border-box",paddingTop:n.offsetTop,paddingBottom:n.offsetBottom,marginTop:d!==0?d:V?"auto":0,...D?{}:{visibility:"hidden"}};return!e&&n.totalCount===0&&S?g.createElement(S,lt(S,a)):g.createElement(m,{...lt(m,a),ref:H,style:q,"data-testid":e?"virtuoso-top-item-list":"virtuoso-item-list"},(e?n.topItems:n.items).map(z=>{const G=z.originalIndex,K=O(G+n.firstItemIndex,z.data,a);return B?g.createElement(y,{...lt(y,a),key:K,index:z.index,height:z.size,type:z.type||"item",...z.type==="group"?{}:{groupIndex:z.groupIndex}}):z.type==="group"?g.createElement(v,{...lt(v,a),key:K,"data-index":G,"data-known-size":z.size,"data-item-index":z.index,style:$o},h(z.index,a)):g.createElement(u,{...lt(u,a),...Ko(u,z.data),key:K,"data-index":G,"data-known-size":z.size,"data-item-index":z.index,"data-item-group-index":z.groupIndex,style:Uo},M?f(z.index,z.groupIndex,z.data,a):f(z.index,z.data,a))}))}),jo={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},Ie=t=>({width:"100%",height:"100%",position:"absolute",top:0,...t?{display:"flex",flexDirection:"column"}:{}}),qo={width:"100%",position:kn(),top:0,zIndex:1};function lt(t,e){if(typeof t!="string")return{context:e}}function Ko(t,e){return{item:typeof t=="string"?void 0:e}}const Yo=g.memo(function(){const e=A("HeaderComponent"),n=gt("headerHeight"),o=A("headerFooterTag"),r=Pt(g.useMemo(()=>i=>n(Ht(i,"height")),[n])),s=A("context");return e?g.createElement(o,{ref:r},g.createElement(e,lt(e,s))):null}),Zo=g.memo(function(){const e=A("FooterComponent"),n=gt("footerHeight"),o=A("headerFooterTag"),r=Pt(g.useMemo(()=>i=>n(Ht(i,"height")),[n])),s=A("context");return e?g.createElement(o,{ref:r},g.createElement(e,lt(e,s))):null});function _n({usePublisher:t,useEmitter:e,useEmitterValue:n}){return g.memo(function({style:s,children:i,...l}){const c=t("scrollContainerState"),f=n("ScrollerComponent"),a=t("smoothScrollTargetReached"),h=n("scrollerRef"),x=n("context"),{scrollerRef:E,scrollByCallback:R,scrollToCallback:T}=In(c,a,f,h);return e("scrollTo",T),e("scrollBy",R),g.createElement(f,{ref:E,style:{...jo,...s},"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0,...l,...lt(f,x)},i)})}function Gn({usePublisher:t,useEmitter:e,useEmitterValue:n}){return g.memo(function({style:s,children:i,...l}){const c=t("windowScrollContainerState"),f=n("ScrollerComponent"),a=t("smoothScrollTargetReached"),h=n("totalListHeight"),x=n("deviation"),E=n("customScrollParent"),R=n("context"),{scrollerRef:T,scrollByCallback:H,scrollToCallback:d}=In(c,a,f,$t,E);return eo(()=>(T.current=E||window,()=>{T.current=null}),[T,E]),e("windowScrollTo",d),e("scrollBy",H),g.createElement(f,{style:{position:"relative",...s,...h!==0?{height:h+x}:{}},"data-virtuoso-scroller":!0,...l,...lt(f,R)},i)})}const Jo=({children:t})=>{const e=g.useContext(Fn),n=gt("viewportHeight"),o=gt("fixedItemHeight"),r=A("alignToBottom"),s=Pt(g.useMemo(()=>dn(n,i=>Ht(i,"height")),[n]));return g.useEffect(()=>{e&&(n(e.viewportHeight),o(e.itemHeight))},[e,n,o]),g.createElement("div",{style:Ie(r),ref:s,"data-viewport-type":"element"},t)},Qo=({children:t})=>{const e=g.useContext(Fn),n=gt("windowViewportRect"),o=gt("fixedItemHeight"),r=A("customScrollParent"),s=Mn(n,r),i=A("alignToBottom");return g.useEffect(()=>{e&&(o(e.itemHeight),n({offsetTop:0,visibleHeight:e.viewportHeight,visibleWidth:100}))},[e,n,o]),g.createElement("div",{ref:s,style:Ie(i),"data-viewport-type":"window"},t)},Xo=({children:t})=>{const e=A("TopItemListComponent")||"div",n=A("headerHeight"),o={...qo,marginTop:`${n}px`},r=A("context");return g.createElement(e,{style:o,...lt(e,r)},t)},tr=g.memo(function(e){const n=A("useWindowScroll"),o=A("topItemsIndexes").length>0,r=A("customScrollParent"),s=r||n?or:nr,i=r||n?Qo:Jo;return g.createElement(s,{...e},o&&g.createElement(Xo,null,g.createElement(on,{showTopList:!0})),g.createElement(i,null,g.createElement(Yo,null),g.createElement(on,null),g.createElement(Zo,null)))}),{Component:er,usePublisher:gt,useEmitterValue:A,useEmitter:_e}=hn(Wo,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},tr),nr=_n({usePublisher:gt,useEmitterValue:A,useEmitter:_e}),or=Gn({usePublisher:gt,useEmitterValue:A,useEmitter:_e}),rr=er,rn={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},sr={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},{round:sn,ceil:ln,floor:de,min:Ce,max:jt}=Math;function ir(t){return{...sr,items:t}}function cn(t,e,n){return Array.from({length:e-t+1}).map((o,r)=>{const s=n===null?null:n[r+t];return{index:r+t,data:s}})}function lr(t,e){return t&&t.column===e.column&&t.row===e.row}function ie(t,e){return t&&t.width===e.width&&t.height===e.height}const cr=U(([{overscan:t,visibleRange:e,listBoundary:n},{scrollTop:o,viewportHeight:r,scrollBy:s,scrollTo:i,smoothScrollTargetReached:l,scrollContainerState:c,footerHeight:f,headerHeight:a},h,x,{propsReady:E,didMount:R},{windowViewportRect:T,useWindowScroll:H,customScrollParent:d,windowScrollContainerState:p,windowScrollTo:S},y])=>{const m=C(0),u=C(0),v=C(rn),O=C({height:0,width:0}),B=C({height:0,width:0}),M=W(),V=W(),D=C(0),q=C(null),z=C({row:0,column:0}),G=W(),K=W(),ot=C(!1),mt=C(0),It=C(!0),pt=C(!1);$(I(R,_(mt),k(([w,N])=>!!N)),()=>{P(It,!1),P(u,0)}),$(I(nt(R,It,B,O,mt,pt),k(([w,N,Y,X,,st])=>w&&!N&&Y.height!==0&&X.height!==0&&!st)),([,,,,w])=>{P(pt,!0),Me(1,()=>{P(M,w)}),Ct(I(o),()=>{P(n,[0,0]),P(It,!0)})}),L(I(K,k(w=>w!=null&&w.scrollTop>0),wt(0)),u),$(I(R,_(K),k(([,w])=>w!=null)),([,w])=>{w&&(P(O,w.viewport),P(B,w==null?void 0:w.item),P(z,w.gap),w.scrollTop>0&&(P(ot,!0),Ct(I(o,Wt(1)),N=>{P(ot,!1)}),P(i,{top:w.scrollTop})))}),L(I(O,b(({height:w})=>w)),r),L(I(nt(F(O,ie),F(B,ie),F(z,(w,N)=>w&&w.column===N.column&&w.row===N.row),F(o)),b(([w,N,Y,X])=>({viewport:w,item:N,gap:Y,scrollTop:X}))),G),L(I(nt(F(m),e,F(z,lr),F(B,ie),F(O,ie),F(q),F(u),F(ot),F(It),F(mt)),k(([,,,,,,,w])=>!w),b(([w,[N,Y],X,st,St,et,Gt,,ee,Rt])=>{const{row:ht,column:Wn}=X,{height:ne,width:Se}=st,{width:Ge}=St;if(Gt===0&&(w===0||Ge===0))return rn;if(Se===0){const xe=Fe(Rt,w),$n=xe===0?Math.max(Gt-1,0):xe;return ir(cn(xe,$n,et))}const oe=An(Ge,Se,Wn);let At,Mt;ee?N===0&&Y===0&&Gt>0?(At=0,Mt=Gt-1):(At=oe*de((N+ht)/(ne+ht)),Mt=oe*ln((Y+ht)/(ne+ht))-1,Mt=Ce(w-1,jt(Mt,oe-1)),At=Ce(Mt,jt(0,At))):(At=0,Mt=-1);const Ae=cn(At,Mt,et),{top:Ne,bottom:We}=un(St,X,st,Ae),De=ln(w/oe),Dn=De*ne+(De-1)*ht-We;return{items:Ae,offsetTop:Ne,offsetBottom:Dn,top:Ne,bottom:We,itemHeight:ne,itemWidth:Se}})),v),L(I(q,k(w=>w!==null),b(w=>w.length)),m),L(I(nt(O,B,v,z),k(([w,N,{items:Y}])=>Y.length>0&&N.height!==0&&w.height!==0),b(([w,N,{items:Y},X])=>{const{top:st,bottom:St}=un(w,X,N,Y);return[st,St]}),Z(Jt)),n);const rt=C(!1);L(I(o,_(rt),b(([w,N])=>N||w!==0)),rt);const zt=ft(I(F(v),k(({items:w})=>w.length>0),_(m,rt),k(([{items:w},N,Y])=>Y&&w[w.length-1].index===N-1),b(([,w])=>w-1),Z())),yt=ft(I(F(v),k(({items:w})=>w.length>0&&w[0].index===0),wt(0),Z())),_t=ft(I(F(v),_(ot),k(([{items:w},N])=>w.length>0&&!N),b(([{items:w}])=>({startIndex:w[0].index,endIndex:w[w.length-1].index})),Z(Hn),bt(0)));L(_t,x.scrollSeekRangeChanged),L(I(M,_(O,B,m,z),b(([w,N,Y,X,st])=>{const St=Rn(w),{align:et,behavior:Gt,offset:ee}=St;let Rt=St.index;Rt==="LAST"&&(Rt=X-1),Rt=jt(0,Rt,Ce(X-1,Rt));let ht=He(N,st,Y,Rt);return et==="end"?ht=sn(ht-N.height+Y.height):et==="center"&&(ht=sn(ht-N.height/2+Y.height/2)),ee&&(ht+=ee),{top:ht,behavior:Gt}})),i);const kt=ct(I(v,b(w=>w.offsetBottom+w.bottom)),0);return L(I(T,b(w=>({width:w.visibleWidth,height:w.visibleHeight}))),O),{data:q,totalCount:m,viewportDimensions:O,itemDimensions:B,scrollTop:o,scrollHeight:V,overscan:t,scrollBy:s,scrollTo:i,scrollToIndex:M,smoothScrollTargetReached:l,windowViewportRect:T,windowScrollTo:S,useWindowScroll:H,customScrollParent:d,windowScrollContainerState:p,deviation:D,scrollContainerState:c,footerHeight:f,headerHeight:a,initialItemCount:u,gap:z,restoreStateFrom:K,...x,initialTopMostItemIndex:mt,gridState:v,totalListHeight:kt,...h,startReached:yt,endReached:zt,rangeChanged:_t,stateChanged:G,propsReady:E,stateRestoreInProgress:ot,...y}},J(Pe,ut,Xt,Ln,Ot,Ve,Lt));function un(t,e,n,o){const{height:r}=n;if(r===void 0||o.length===0)return{top:0,bottom:0};const s=He(t,e,n,o[0].index),i=He(t,e,n,o[o.length-1].index)+r;return{top:s,bottom:i}}function He(t,e,n,o){const r=An(t.width,n.width,e.column),s=de(o/r),i=s*n.height+jt(0,s-1)*e.row;return i>0?i+e.row:i}function An(t,e,n){return jt(1,de((t+n)/(de(e)+n)))}const ur=U(()=>{const t=C(f=>`Item ${f}`),e=C({}),n=C(null),o=C("virtuoso-grid-item"),r=C("virtuoso-grid-list"),s=C(Vn),i=C("div"),l=C($t),c=(f,a=null)=>ct(I(e,b(h=>h[f]),Z()),a);return{context:n,itemContent:t,components:e,computeItemKey:s,itemClassName:o,listClassName:r,headerFooterTag:i,scrollerRef:l,FooterComponent:c("Footer"),HeaderComponent:c("Header"),ListComponent:c("List","div"),ItemComponent:c("Item","div"),ScrollerComponent:c("Scroller","div"),ScrollSeekPlaceholder:c("ScrollSeekPlaceholder","div")}}),ar=U(([t,e])=>({...t,...e}),J(cr,ur)),fr=g.memo(function(){const e=Q("gridState"),n=Q("listClassName"),o=Q("itemClassName"),r=Q("itemContent"),s=Q("computeItemKey"),i=Q("isSeeking"),l=xt("scrollHeight"),c=Q("ItemComponent"),f=Q("ListComponent"),a=Q("ScrollSeekPlaceholder"),h=Q("context"),x=xt("itemDimensions"),E=xt("gap"),R=Q("log"),T=Q("stateRestoreInProgress"),H=Pt(g.useMemo(()=>d=>{const p=d.parentElement.parentElement.scrollHeight;l(p);const S=d.firstChild;if(S){const{width:y,height:m}=S.getBoundingClientRect();x({width:y,height:m})}E({row:an("row-gap",getComputedStyle(d).rowGap,R),column:an("column-gap",getComputedStyle(d).columnGap,R)})},[l,x,E,R]));return T?null:g.createElement(f,{ref:H,className:n,...lt(f,h),style:{paddingTop:e.offsetTop,paddingBottom:e.offsetBottom},"data-testid":"virtuoso-item-list"},e.items.map(d=>{const p=s(d.index,d.data,h);return i?g.createElement(a,{key:p,...lt(a,h),index:d.index,height:e.itemHeight,width:e.itemWidth}):g.createElement(c,{...lt(c,h),className:o,"data-index":d.index,key:p},r(d.index,d.data,h))}))}),dr=g.memo(function(){const e=Q("HeaderComponent"),n=xt("headerHeight"),o=Q("headerFooterTag"),r=Pt(g.useMemo(()=>i=>n(Ht(i,"height")),[n])),s=Q("context");return e?g.createElement(o,{ref:r},g.createElement(e,lt(e,s))):null}),mr=g.memo(function(){const e=Q("FooterComponent"),n=xt("footerHeight"),o=Q("headerFooterTag"),r=Pt(g.useMemo(()=>i=>n(Ht(i,"height")),[n])),s=Q("context");return e?g.createElement(o,{ref:r},g.createElement(e,lt(e,s))):null}),pr=({children:t})=>{const e=g.useContext(Pn),n=xt("itemDimensions"),o=xt("viewportDimensions"),r=Pt(g.useMemo(()=>s=>{o(s.getBoundingClientRect())},[o]));return g.useEffect(()=>{e&&(o({height:e.viewportHeight,width:e.viewportWidth}),n({height:e.itemHeight,width:e.itemWidth}))},[e,o,n]),g.createElement("div",{style:Ie(!1),ref:r},t)},hr=({children:t})=>{const e=g.useContext(Pn),n=xt("windowViewportRect"),o=xt("itemDimensions"),r=Q("customScrollParent"),s=Mn(n,r);return g.useEffect(()=>{e&&(o({height:e.itemHeight,width:e.itemWidth}),n({offsetTop:0,visibleHeight:e.viewportHeight,visibleWidth:e.viewportWidth}))},[e,n,o]),g.createElement("div",{ref:s,style:Ie(!1)},t)},gr=g.memo(function({...e}){const n=Q("useWindowScroll"),o=Q("customScrollParent"),r=o||n?Sr:Ir,s=o||n?hr:pr;return g.createElement(r,{...e},g.createElement(s,null,g.createElement(dr,null),g.createElement(fr,null),g.createElement(mr,null)))}),{Component:Er,usePublisher:xt,useEmitterValue:Q,useEmitter:Nn}=hn(ar,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged"}},gr),Ir=_n({usePublisher:xt,useEmitterValue:Q,useEmitter:Nn}),Sr=Gn({usePublisher:xt,useEmitterValue:Q,useEmitter:Nn});function an(t,e,n){return e!=="normal"&&!(e!=null&&e.endsWith("px"))&&n(`${t} was not resolved to pixel value correctly`,e,dt.WARN),e==="normal"?0:parseInt(e??"0",10)}const xr=re.memo(({count:t,Component:e,handle:n})=>{const o=re.useRef(null);return re.useImperativeHandle(n,()=>({scrollToIndex:r=>{var s;(s=o.current)==null||s.scrollToIndex(r)}})),$e.jsx(rr,{ref:o,totalCount:t,itemContent:re.useMemo(()=>r=>$e.jsx(e,{index:r},r),[])})});xr.__docgenInfo={description:"",methods:[{name:"scrollToIndex",docblock:null,modifiers:[],params:[{name:"i",optional:!1,type:null}],returns:null}],displayName:"ReactVirtuosoList",props:{count:{required:!0,tsType:{name:"number"},description:""},Component:{required:!0,tsType:{name:"SimpleItem"},description:""},handle:{required:!1,tsType:{name:"Ref",elements:[{name:"signature",type:"object",raw:"{ scrollToIndex: (index: number) => void }",signature:{properties:[{key:"scrollToIndex",value:{name:"signature",type:"function",raw:"(index: number) => void",signature:{arguments:[{type:{name:"number"},name:"index"}],return:{name:"void"}},required:!0}}]}}],raw:"Ref<ListHandle>"},description:""}}};export{xr as R};
