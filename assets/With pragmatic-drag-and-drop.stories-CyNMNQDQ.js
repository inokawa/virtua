import{j as F}from"./jsx-runtime-DCrfGL6_.js";import{c as xe,r as H}from"./index-98wxwTcn.js";import{_ as E}from"./defineProperty-CGxbSGuy.js";import{r as st}from"./raf-schd.esm-CmoV45_-.js";import{a as C,j as dt}from"./emotion-react.browser.esm-BazAbdgl.js";import{r as ft}from"./index-SCI4cgSJ.js";import{V as qe}from"./VList-CT_ikdcJ.js";import"./hoist-non-react-statics.cjs-Chi50N7D.js";import"./Virtualizer-B_XRxJyA.js";import"./useRerender-DYzc_i5z.js";import"./useChildren-ZWbNI1hC.js";function gt(e){if(Array.isArray(e))return e}function pt(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n,a,i,o,c=[],l=!0,u=!1;try{if(i=(t=t.call(e)).next,r===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(n=i.call(t)).done)&&(c.push(n.value),c.length!==r);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(u)throw a}}return c}}function le(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Ve(e,r){if(e){if(typeof e=="string")return le(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return le(e,r)}}function vt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ge(e,r){return gt(e)||pt(e,r)||Ve(e,r)||vt()}var M={},X={};Object.defineProperty(X,"__esModule",{value:!0});X.bind=void 0;function mt(e,r){var t=r.type,n=r.listener,a=r.options;return e.addEventListener(t,n,a),function(){e.removeEventListener(t,n,a)}}X.bind=mt;var ee={},$=xe&&xe.__assign||function(){return $=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},$.apply(this,arguments)};Object.defineProperty(ee,"__esModule",{value:!0});ee.bindAll=void 0;var yt=X;function Oe(e){if(!(typeof e>"u"))return typeof e=="boolean"?{capture:e}:e}function bt(e,r){if(r==null)return e;var t=$($({},e),{options:$($({},Oe(r)),Oe(e.options))});return t}function ht(e,r,t){var n=r.map(function(a){var i=bt(a,t);return(0,yt.bind)(e,i)});return function(){n.forEach(function(i){return i()})}}ee.bindAll=ht;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.bindAll=e.bind=void 0;var r=X;Object.defineProperty(e,"bind",{enumerable:!0,get:function(){return r.bind}});var t=ee;Object.defineProperty(e,"bindAll",{enumerable:!0,get:function(){return t.bindAll}})})(M);var Ze="data-pdnd-honey-pot";function Je(e){return e instanceof Element&&e.hasAttribute(Ze)}function pe(e){var r=document.elementsFromPoint(e.x,e.y),t=ge(r,2),n=t[0],a=t[1];return n?Je(n)?a??null:n:null}var Qe=2147483647;function Se(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function De(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Se(Object(t),!0).forEach(function(n){E(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Se(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var B=2,we=B/2;function xt(e){return{x:Math.floor(e.x),y:Math.floor(e.y)}}function Ot(e){return{x:e.x-we,y:e.y-we}}function St(e){return{x:Math.max(e.x,0),y:Math.max(e.y,0)}}function Dt(e){return{x:Math.min(e.x,window.innerWidth-B),y:Math.min(e.y,window.innerHeight-B)}}function Ee(e){var r=e.client,t=Dt(St(Ot(xt(r))));return DOMRect.fromRect({x:t.x,y:t.y,width:B,height:B})}function Ae(e){var r=e.clientRect;return{left:"".concat(r.left,"px"),top:"".concat(r.top,"px"),width:"".concat(r.width,"px"),height:"".concat(r.height,"px")}}function wt(e){var r=e.client,t=e.clientRect;return r.x>=t.x&&r.x<=t.x+t.width&&r.y>=t.y&&r.y<=t.y+t.height}function Et(e){var r=e.initial,t=document.createElement("div");t.setAttribute(Ze,"true");var n=Ee({client:r});Object.assign(t.style,De(De({backgroundColor:"transparent",position:"fixed",padding:0,margin:0,boxSizing:"border-box"},Ae({clientRect:n})),{},{pointerEvents:"auto",zIndex:Qe})),document.body.appendChild(t);var a=M.bind(window,{type:"pointermove",listener:function(o){var c={x:o.clientX,y:o.clientY};n=Ee({client:c}),Object.assign(t.style,Ae({clientRect:n}))},options:{capture:!0}});return function(o){var c=o.current;if(a(),wt({client:c,clientRect:n})){t.remove();return}function l(){u(),t.remove()}var u=M.bindAll(window,[{type:"pointerdown",listener:l},{type:"pointermove",listener:l},{type:"focusin",listener:l},{type:"focusout",listener:l},{type:"dragstart",listener:l},{type:"dragenter",listener:l},{type:"dragover",listener:l}],{capture:!0})}}function At(){var e=null;function r(){return e=null,M.bind(window,{type:"pointermove",listener:function(a){e={x:a.clientX,y:a.clientY}},options:{capture:!0}})}function t(){var n=null;return function(i){var o=i.eventName,c=i.payload;if(o==="onDragStart"){var l,u=c.location.initial.input,d=(l=e)!==null&&l!==void 0?l:{x:u.clientX,y:u.clientY};n=Et({initial:d})}if(o==="onDrop"){var s,p=c.location.current.input;(s=n)===null||s===void 0||s({current:{x:p.clientX,y:p.clientY}}),n=null,e=null}}}return{bindEvents:r,getOnPostDispatch:t}}function Tt(e){if(Array.isArray(e))return le(e)}function jt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Pt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _e(e){return Tt(e)||jt(e)||Ve(e)||Pt()}function ve(e){var r=null;return function(){if(!r){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=e.apply(this,a);r={result:o}}return r.result}}var It=ve(function(){return navigator.userAgent.includes("Firefox")}),te=ve(function(){var r=navigator,t=r.userAgent;return t.includes("AppleWebKit")&&!t.includes("Chrome")}),ue={isLeavingWindow:Symbol("leaving"),isEnteringWindow:Symbol("entering")};function Rt(e){var r=e.dragLeave;return te()?r.hasOwnProperty(ue.isLeavingWindow):!1}(function(){if(typeof window>"u"||!te())return;function r(){return{enterCount:0,isOverWindow:!1}}var t=r();function n(){t=r()}M.bindAll(window,[{type:"dragstart",listener:function(){t.enterCount=0,t.isOverWindow=!0}},{type:"drop",listener:n},{type:"dragend",listener:n},{type:"dragenter",listener:function(i){!t.isOverWindow&&t.enterCount===0&&(i[ue.isEnteringWindow]=!0),t.isOverWindow=!0,t.enterCount++}},{type:"dragleave",listener:function(i){t.enterCount--,t.isOverWindow&&t.enterCount===0&&(i[ue.isLeavingWindow]=!0,t.isOverWindow=!1)}}],{capture:!0})})();function Ft(e){return"nodeName"in e}function Ct(e){return Ft(e)&&e.ownerDocument!==document}function kt(e){var r=e.dragLeave,t=r.type,n=r.relatedTarget;return t!=="dragleave"?!1:te()?Rt({dragLeave:r}):n==null?!0:It()?Ct(n):n instanceof HTMLIFrameElement}function Mt(e){var r=e.onDragEnd;return[{type:"pointermove",listener:function(){var t=0;return function(){if(t<20){t++;return}r()}}()},{type:"pointerdown",listener:r}]}function U(e){return{altKey:e.altKey,button:e.button,buttons:e.buttons,ctrlKey:e.ctrlKey,metaKey:e.metaKey,shiftKey:e.shiftKey,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY}}var ne=st(function(e){return e()}),Y=function(){var e=null;function r(n){var a=requestAnimationFrame(function(){e=null,n()});e={frameId:a,fn:n}}function t(){e&&(cancelAnimationFrame(e.frameId),e.fn(),e=null)}return{schedule:r,flush:t}}();function Lt(e){var r=e.source,t=e.initial,n=e.dispatchEvent,a={dropTargets:[]};function i(c){n(c),a={dropTargets:c.payload.location.current.dropTargets}}var o={start:function(l){var u=l.nativeSetDragImage,d={current:t,previous:a,initial:t};i({eventName:"onGenerateDragPreview",payload:{source:r,location:d,nativeSetDragImage:u}}),Y.schedule(function(){i({eventName:"onDragStart",payload:{source:r,location:d}})})},dragUpdate:function(l){var u=l.current;Y.flush(),ne.cancel(),i({eventName:"onDropTargetChange",payload:{source:r,location:{initial:t,previous:a,current:u}}})},drag:function(l){var u=l.current;ne(function(){Y.flush();var d={initial:t,previous:a,current:u};i({eventName:"onDrag",payload:{source:r,location:d}})})},drop:function(l){var u=l.current,d=l.updatedSourcePayload;Y.flush(),ne.cancel(),i({eventName:"onDrop",payload:{source:d??r,location:{current:u,previous:a,initial:t}}})}};return o}var ce={isActive:!1};function et(){return!ce.isActive}function Ht(e){return e.dataTransfer?e.dataTransfer.setDragImage.bind(e.dataTransfer):null}function $t(e){var r=e.current,t=e.next;if(r.length!==t.length)return!0;for(var n=0;n<r.length;n++)if(r[n].element!==t[n].element)return!0;return!1}function Wt(e){var r=e.event,t=e.dragType,n=e.getDropTargetsOver,a=e.dispatchEvent;if(!et())return;var i=zt({event:r,dragType:t,getDropTargetsOver:n});ce.isActive=!0;var o={current:i};ae({event:r,current:i.dropTargets});var c=Lt({source:t.payload,dispatchEvent:a,initial:i});function l(f){var g=$t({current:o.current.dropTargets,next:f.dropTargets});o.current=f,g&&c.dragUpdate({current:o.current})}function u(f){var g=U(f),v=Je(f.target)?pe({x:g.clientX,y:g.clientY}):f.target,m=n({target:v,input:g,source:t.payload,current:o.current.dropTargets});m.length&&(f.preventDefault(),ae({event:f,current:m})),l({dropTargets:m,input:g})}function d(){o.current.dropTargets.length&&l({dropTargets:[],input:o.current.input}),c.drop({current:o.current,updatedSourcePayload:null}),s()}function s(){ce.isActive=!1,p()}var p=M.bindAll(window,[{type:"dragover",listener:function(g){u(g),c.drag({current:o.current})}},{type:"dragenter",listener:u},{type:"dragleave",listener:function(g){kt({dragLeave:g})&&(l({input:o.current.input,dropTargets:[]}),t.startedFrom==="external"&&d())}},{type:"drop",listener:function(g){if(o.current={dropTargets:o.current.dropTargets,input:U(g)},!o.current.dropTargets.length){d();return}g.preventDefault(),ae({event:g,current:o.current.dropTargets}),c.drop({current:o.current,updatedSourcePayload:t.type==="external"?t.getDropPayload(g):null}),s()}},{type:"dragend",listener:function(g){o.current={dropTargets:o.current.dropTargets,input:U(g)},d()}}].concat(_e(Mt({onDragEnd:d}))),{capture:!0});c.start({nativeSetDragImage:Ht(r)})}function ae(e){var r,t=e.event,n=e.current,a=(r=n[0])===null||r===void 0?void 0:r.dropEffect;a!=null&&t.dataTransfer&&(t.dataTransfer.dropEffect=a)}function zt(e){var r=e.event,t=e.dragType,n=e.getDropTargetsOver,a=U(r);if(t.startedFrom==="external")return{input:a,dropTargets:[]};var i=n({input:a,source:t.payload,target:r.target,current:[]});return{input:a,dropTargets:i}}var Te={canStart:et,start:Wt},se=new Map;function Kt(e){var r=e.typeKey,t=e.mount,n=se.get(r);if(n)return n.usageCount++,n;var a={typeKey:r,unmount:t(),usageCount:1};return se.set(r,a),a}function Ut(e){var r=Kt(e);return function(){r.usageCount--,!(r.usageCount>0)&&(r.unmount(),se.delete(e.typeKey))}}function z(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(){r.forEach(function(a){return a()})}}function tt(e,r){var t=r.attribute,n=r.value;return e.setAttribute(t,n),function(){return e.removeAttribute(t)}}function je(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function R(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?je(Object(t),!0).forEach(function(n){E(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):je(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function ie(e,r){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=Bt(e))||r){t&&(e=t);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(u){throw u},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,o=!1,c;return{s:function(){t=t.call(e)},n:function(){var u=t.next();return i=u.done,u},e:function(u){o=!0,c=u},f:function(){try{!i&&t.return!=null&&t.return()}finally{if(o)throw c}}}}function Bt(e,r){if(e){if(typeof e=="string")return Pe(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Pe(e,r)}}function Pe(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function oe(e){return e.slice(0).reverse()}function Nt(e){var r=e.typeKey,t=e.defaultDropEffect,n=new WeakMap,a="data-drop-target-for-".concat(r),i="[".concat(a,"]");function o(f){return n.set(f.element,f),function(){return n.delete(f.element)}}function c(f){return z(tt(f.element,{attribute:a,value:"true"}),o(f))}function l(f){var g,v,m,O,y=f.source,h=f.target,x=f.input,S=f.result,b=S===void 0?[]:S;if(h==null)return b;if(!(h instanceof Element))return h instanceof Node?l({source:y,target:h.parentElement,input:x,result:b}):b;var A=h.closest(i);if(A==null)return b;var D=n.get(A);if(D==null)return b;var T={input:x,source:y,element:D.element};if(D.canDrop&&!D.canDrop(T))return l({source:y,target:D.element.parentElement,input:x,result:b});var j=(g=(v=D.getData)===null||v===void 0?void 0:v.call(D,T))!==null&&g!==void 0?g:{},P=(m=(O=D.getDropEffect)===null||O===void 0?void 0:O.call(D,T))!==null&&m!==void 0?m:t,w={data:j,element:D.element,dropEffect:P,isActiveDueToStickiness:!1};return l({source:y,target:D.element.parentElement,input:x,result:[].concat(_e(b),[w])})}function u(f){var g=f.eventName,v=f.payload,m=ie(v.location.current.dropTargets),O;try{for(m.s();!(O=m.n()).done;){var y,h=O.value,x=n.get(h.element),S=R(R({},v),{},{self:h});x==null||(y=x[g])===null||y===void 0||y.call(x,S)}}catch(b){m.e(b)}finally{m.f()}}var d={onGenerateDragPreview:u,onDrag:u,onDragStart:u,onDrop:u,onDropTargetChange:function(g){var v=g.payload,m=new Set(v.location.current.dropTargets.map(function(K){return K.element})),O=new Set,y=ie(v.location.previous.dropTargets),h;try{for(y.s();!(h=y.n()).done;){var x,S=h.value;O.add(S.element);var b=n.get(S.element),A=m.has(S.element),D=R(R({},v),{},{self:S});if(b==null||(x=b.onDropTargetChange)===null||x===void 0||x.call(b,D),!A){var T;b==null||(T=b.onDragLeave)===null||T===void 0||T.call(b,D)}}}catch(K){y.e(K)}finally{y.f()}var j=ie(v.location.current.dropTargets),P;try{for(j.s();!(P=j.n()).done;){var w,L,re=P.value;if(!O.has(re.element)){var he=R(R({},v),{},{self:re}),I=n.get(re.element);I==null||(w=I.onDropTargetChange)===null||w===void 0||w.call(I,he),I==null||(L=I.onDragEnter)===null||L===void 0||L.call(I,he)}}}catch(K){j.e(K)}finally{j.f()}}};function s(f){d[f.eventName](f)}function p(f){var g=f.source,v=f.target,m=f.input,O=f.current,y=l({source:g,target:v,input:m});if(y.length>=O.length)return y;for(var h=oe(O),x=oe(y),S=[],b=0;b<h.length;b++){var A,D=h[b],T=x[b];if(T!=null){S.push(T);continue}var j=S[b-1],P=h[b-1];if((j==null?void 0:j.element)!==(P==null?void 0:P.element))break;var w=n.get(D.element);if(!w)break;var L={input:m,source:g,element:w.element};if(w.canDrop&&!w.canDrop(L)||!((A=w.getIsSticky)!==null&&A!==void 0&&A.call(w,L)))break;S.push(R(R({},D),{},{isActiveDueToStickiness:!0}))}return oe(S)}return{dropTargetForConsumers:c,getIsOver:p,dispatchEvent:s}}function Xt(e,r){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=Yt(e))||r){t&&(e=t);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(u){throw u},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,o=!1,c;return{s:function(){t=t.call(e)},n:function(){var u=t.next();return i=u.done,u},e:function(u){o=!0,c=u},f:function(){try{!i&&t.return!=null&&t.return()}finally{if(o)throw c}}}}function Yt(e,r){if(e){if(typeof e=="string")return Ie(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ie(e,r)}}function Ie(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Re(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Gt(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Re(Object(t),!0).forEach(function(n){E(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Re(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function qt(){var e=new Set,r=null;function t(i){r&&(!i.canMonitor||i.canMonitor(r.canMonitorArgs))&&r.active.add(i)}function n(i){var o=Gt({},i);return e.add(o),t(o),function(){e.delete(o),r&&r.active.delete(o)}}function a(i){var o=i.eventName,c=i.payload;if(o==="onGenerateDragPreview"){r={canMonitorArgs:{initial:c.location.initial,source:c.source},active:new Set};var l=Xt(e),u;try{for(l.s();!(u=l.n()).done;){var d=u.value;t(d)}}catch(m){l.e(m)}finally{l.f()}}if(r){for(var s=Array.from(r.active),p=0,f=s;p<f.length;p++){var g=f[p];if(r.active.has(g)){var v;(v=g[o])===null||v===void 0||v.call(g,c)}}o==="onDrop"&&(r.active.clear(),r=null)}}return{dispatchEvent:a,monitorForConsumers:n}}function Vt(e){var r=e.typeKey,t=e.mount,n=e.dispatchEventToSource,a=e.onPostDispatch,i=e.defaultDropEffect,o=qt(),c=Nt({typeKey:r,defaultDropEffect:i});function l(s){n==null||n(s),c.dispatchEvent(s),o.dispatchEvent(s),a==null||a(s)}function u(s){var p=s.event,f=s.dragType;Te.start({event:p,dragType:f,getDropTargetsOver:c.getIsOver,dispatchEvent:l})}function d(){function s(){var p={canStart:Te.canStart,start:u};return t(p)}return Ut({typeKey:r,mount:s})}return{registerUsage:d,dropTarget:c.dropTargetForConsumers,monitor:o.monitorForConsumers}}var Zt=ve(function(){return navigator.userAgent.toLocaleLowerCase().includes("android")}),Jt="pdnd:android-fallback",Fe="text/plain",Qt="text/uri-list",_t="application/vnd.pdnd",_=new WeakMap;function er(e){return _.set(e.element,e),function(){_.delete(e.element)}}var Ce=At(),me=Vt({typeKey:"element",defaultDropEffect:"move",mount:function(r){return z(Ce.bindEvents(),M.bind(document,{type:"dragstart",listener:function(n){var a,i,o,c,l,u;if(r.canStart(n)&&!n.defaultPrevented&&n.dataTransfer){var d=n.target;if(!(d instanceof HTMLElement))return null;var s=_.get(d);if(!s)return null;var p=U(n),f={element:s.element,dragHandle:(a=s.dragHandle)!==null&&a!==void 0?a:null,input:p};if(s.canDrag&&!s.canDrag(f))return n.preventDefault(),null;if(s.dragHandle){var g=pe({x:p.clientX,y:p.clientY});if(!s.dragHandle.contains(g))return n.preventDefault(),null}var v=(i=(o=s.getInitialDataForExternal)===null||o===void 0?void 0:o.call(s,f))!==null&&i!==void 0?i:null;if(v)for(var m=0,O=Object.entries(v);m<O.length;m++){var y=ge(O[m],2),h=y[0],x=y[1];n.dataTransfer.setData(h,x??"")}var S=n.dataTransfer.types;Zt()&&!S.includes(Fe)&&!S.includes(Qt)&&n.dataTransfer.setData(Fe,Jt),n.dataTransfer.setData(_t,"");var b={element:s.element,dragHandle:(c=s.dragHandle)!==null&&c!==void 0?c:null,data:(l=(u=s.getInitialData)===null||u===void 0?void 0:u.call(s,f))!==null&&l!==void 0?l:{}},A={type:"element",payload:b,startedFrom:"internal"};r.start({event:n,dragType:A})}}}))},dispatchEventToSource:function(r){var t,n,a=r.eventName,i=r.payload;(t=_.get(i.source.element))===null||t===void 0||(n=t[a])===null||n===void 0||n.call(t,i)},onPostDispatch:Ce.getOnPostDispatch()}),tr=me.dropTarget,ye=me.monitor;function rr(e){return z(me.registerUsage(),er(e),tt(e.element,{attribute:"draggable",value:"true"}))}function nr(e){var r=e.list,t=e.startIndex,n=e.finishIndex;if(t===-1||n===-1)return r;var a=Array.from(r),i=a.splice(t,1),o=ge(i,1),c=o[0];return a.splice(n,0,c),a}function ar(e){return function(r){var t=r.container;return Object.assign(t.style,{borderLeft:"".concat(e.x," solid transparent"),borderTop:"".concat(e.y," solid transparent")}),{x:0,y:0}}}function ir(){return{x:0,y:0}}function or(e){var r=e.render,t=e.nativeSetDragImage,n=e.getOffset,a=n===void 0?ir:n,i=document.createElement("div");Object.assign(i.style,{position:"fixed",top:0,left:0,zIndex:Qe,pointerEvents:"none"}),document.body.append(i);var o=r({container:i}),c=a({container:i});te()&&queueMicrotask(function(){var d=i.getBoundingClientRect();d.width!==0&&(i.style.left="-".concat(d.width-1e-4,"px"))}),t==null||t(i,c.x,c.y);function l(){u(),o==null||o(),document.body.removeChild(i)}var u=ye({onDragStart:l,onDrop:l})}function ke(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Me(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ke(Object(t),!0).forEach(function(n){E(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ke(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var lr={top:function(r,t){return Math.abs(t.y-r.top)},right:function(r,t){return Math.abs(r.right-t.x)},bottom:function(r,t){return Math.abs(r.bottom-t.y)},left:function(r,t){return Math.abs(t.x-r.left)}},rt=Symbol("closestEdge");function ur(e,r){var t,n,a=r.element,i=r.input,o=r.allowedEdges,c={x:i.clientX,y:i.clientY},l=a.getBoundingClientRect(),u=o.map(function(s){return{edge:s,value:lr[s](l,c)}}),d=(t=(n=u.sort(function(s,p){return s.value-p.value})[0])===null||n===void 0?void 0:n.edge)!==null&&t!==void 0?t:null;return Me(Me({},e),{},E({},rt,d))}function nt(e){var r;return(r=e[rt])!==null&&r!==void 0?r:null}function cr(e){var r=e.startIndex,t=e.closestEdgeOfTarget,n=e.indexOfTarget,a=e.axis;if(r===-1||n===-1||r===n)return r;if(t==null)return n;var i=a==="vertical"&&t==="bottom"||a==="horizontal"&&t==="right",o=r<n;return o?i?n:n-1:i?n+1:n}var N=new Map,Q=new Set;function at(e){sr(e);var r=N.get(e);if(r)return r;var t={timeOfEngagementStart:Date.now()};return N.set(e,t),t}function sr(e){Q.add(e)}function dr(e){Q.clear(),e(),N.forEach(function(r,t){Q.has(t)||N.delete(t)}),Q.clear()}function fr(){N.clear()}var Le=new Map;function gr(e){var r=Le.get(e);if(r)return r;var t=pr(e);return Le.set(e,t),t}function pr(e){var r={type:"idle"},t=[];function n(l){if(r.type==="running"){var u=l-r.timeLastFrameFinished,d=r,s=d.latestArgs,p=pe({x:s.location.current.input.clientX,y:s.location.current.input.clientY});dr(function(){t.forEach(function(f){return f({underUsersPointer:p,latestArgs:s,timeSinceLastFrame:u})})}),r.timeLastFrameFinished=l,r.frameId=requestAnimationFrame(n)}}function a(){r.type!=="idle"&&(cancelAnimationFrame(r.frameId),fr(),r={type:"idle"})}function i(l){r.type==="idle"&&(r={type:"initializing",latestArgs:l,frameId:requestAnimationFrame(function(u){r.type==="initializing"&&(r={type:"running",timeLastFrameFinished:u,latestArgs:r.latestArgs,frameId:requestAnimationFrame(n)})})})}function o(l){if(r.type==="idle"){i(l);return}r.latestArgs=l}e({onDragStart:i,onDropTargetChange:o,onDrag:o,onDrop:a});var c={onFrame:function(u){t.push(u)}};return c}var de="data-auto-scrollable",vr="[".concat(de,'="true"]');function mr(e){return e.setAttribute(de,"true"),function(){return e.removeAttribute(de)}}function He(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function $e(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?He(Object(t),!0).forEach(function(n){E(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):He(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var yr={startHitboxAtPercentageRemainingOfElement:{top:.25,right:.25,bottom:.25,left:.25},maxScrollAtPercentageRemainingOfHitbox:{top:.5,right:.5,bottom:.5,left:.5},timeDampeningDurationMs:300,maxMainAxisHitboxSize:180},br={standard:15*60,fast:25*60};function it(e){var r;return $e($e({},yr),{},{maxPixelScrollPerSecond:br[(r=e==null?void 0:e.maxScrollSpeed)!==null&&r!==void 0?r:"standard"]})}var hr={top:function(r){return r.scrollTop>0},right:function(r){return Math.ceil(r.scrollLeft)+r.clientWidth<r.scrollWidth},bottom:function(r){return Math.ceil(r.scrollTop)+r.clientHeight<r.scrollHeight},left:function(r){return r.scrollLeft>0}},xr=["top","right","bottom","left"],Or={top:"vertical",right:"horizontal",bottom:"vertical",left:"horizontal"},We={start:"top",end:"bottom",point:"y",size:"height"},ze={start:"left",end:"right",point:"x",size:"width"},ot={vertical:{mainAxis:We,crossAxis:ze},horizontal:{mainAxis:ze,crossAxis:We}},be={top:"start",right:"end",bottom:"end",left:"start"};function G(e){var r=e.edge,t=e.axis;return function(a){var i,o=a.clientRect,c=a.config,l=ot[t],u=l.mainAxis,d=l.crossAxis,s=be[r],p=Math.min(c.startHitboxAtPercentageRemainingOfElement[r]*o[u.size],c.maxMainAxisHitboxSize);return DOMRect.fromRect((i={},E(i,u.point,s==="start"?o[u.point]:o[u.point]+o[u.size]-p),E(i,d.point,o[d.point]),E(i,u.size,p),E(i,d.size,o[d.size]),i))}}var Sr={top:G({axis:"vertical",edge:"top"}),right:G({axis:"horizontal",edge:"right"}),bottom:G({axis:"vertical",edge:"bottom"}),left:G({axis:"horizontal",edge:"left"})};function fe(e){var r=e.startOfRange,t=e.endOfRange,n=e.value,a=r<t;if(!a||n<r)return 0;if(n>t)return 1;var i=t-r;return(n-r)/i}function Dr(e){var r=e.timeSinceLastFrame,t=e.config,n=t.maxPixelScrollPerSecond/1e3,a=Math.ceil(n*r),i=t.maxPixelScrollPerSecond/60;return Math.min(a,i)}function wr(e){var r=e.client,t=e.axis,n=e.edge,a=e.hitbox,i=e.config,o=ot[t].mainAxis,c=be[n],l=a[o.size]*i.maxScrollAtPercentageRemainingOfHitbox[n];if(c==="end")return fe({startOfRange:a[o.start],endOfRange:a[o.end]-l,value:r[o.point]});var u=fe({startOfRange:a[o.start]+l,endOfRange:a[o.end],value:r[o.point]});return 1-u}function q(e){var r=e.client,t=e.timeSinceLastFrame,n=e.engagement,a=e.axis,i=e.hitbox,o=e.edge,c=e.isDistanceDampeningEnabled,l=e.config,u=Dr({timeSinceLastFrame:t,config:l}),d=c?wr({client:r,edge:o,hitbox:i,axis:a,config:l}):1,s=fe({startOfRange:n.timeOfEngagementStart,endOfRange:n.timeOfEngagementStart+l.timeDampeningDurationMs,value:Date.now()}),p=d*s,f=Math.max(u*p,1),g=be[o];return g==="end"?f:-1*f}function Er(e,r){return r==="all"||e===r}function Ar(e){var r=e.client,t=e.clientRect;return r.x>=t.x&&r.x<=t.x+t.width&&r.y>=t.y&&r.y<=t.y+t.height}function Tr(e){return e.getBoundingClientRect()}function lt(e){var r=e.element,t=e.input,n=e.timeSinceLastFrame,a=e.engagement,i=e.config,o=e.allowedAxis,c=e.getRect,l=c===void 0?Tr:c,u={x:t.clientX,y:t.clientY},d=l(r),s=xr.reduce(function(g,v){var m=Sr[v]({clientRect:d,config:i}),O=Or[v];return!Er(O,o)||!Ar({client:u,clientRect:m})||!hr[v](r)||g.set(v,{edge:v,hitbox:m}),g},new Map),p=function(){var g="horizontal",v=s.get("left");if(v)return q({client:u,edge:v.edge,hitbox:v.hitbox,axis:g,timeSinceLastFrame:n,engagement:a,isDistanceDampeningEnabled:!0,config:i});var m=s.get("right");return m?q({client:u,edge:m.edge,hitbox:m.hitbox,axis:g,timeSinceLastFrame:n,engagement:a,isDistanceDampeningEnabled:!0,config:i}):0}(),f=function(){var g="vertical",v=s.get("bottom");if(v)return q({client:u,edge:v.edge,hitbox:v.hitbox,axis:g,timeSinceLastFrame:n,engagement:a,isDistanceDampeningEnabled:!0,config:i});var m=s.get("top");return m?q({client:u,edge:m.edge,hitbox:m.hitbox,axis:g,timeSinceLastFrame:n,engagement:a,isDistanceDampeningEnabled:!0,config:i}):0}();return{left:p,top:f}}function jr(e,r){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=Pr(e))||r){t&&(e=t);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(u){throw u},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,o=!1,c;return{s:function(){t=t.call(e)},n:function(){var u=t.next();return i=u.done,u},e:function(u){o=!0,c=u},f:function(){try{!i&&t.return!=null&&t.return()}finally{if(o)throw c}}}}function Pr(e,r){if(e){if(typeof e=="string")return Ke(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ke(e,r)}}function Ke(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ut(e){return!!(e.top||e.left)}function ct(e){var r,t,n,a=e.target,i=e.input,o=e.source,c=e.findEntry,l=e.timeSinceLastFrame,u=e.available,d=u===void 0?{top:!0,left:!0}:u;if(!ut(d)||!a)return d;var s=a.closest(vr);if(!s)return d;var p=c(s);if(!p)return d;function f(){var x;return ct({target:(x=s==null?void 0:s.parentElement)!==null&&x!==void 0?x:null,findEntry:c,source:o,timeSinceLastFrame:l,input:i,available:d})}var g={input:i,source:o,element:s};if(p.canScroll&&!p.canScroll(g))return f();var v=at(s),m=it((r=p.getConfiguration)===null||r===void 0?void 0:r.call(p,g)),O=(t=(n=p.getAllowedAxis)===null||n===void 0?void 0:n.call(p,g))!==null&&t!==void 0?t:"all",y=lt({element:s,engagement:v,input:i,timeSinceLastFrame:l,allowedAxis:O,config:m}),h={top:0,left:0};return d.top&&y.top!==0&&(h.top=y.top,d.top=!1),d.left&&y.left!==0&&(h.left=y.left,d.left=!1),(h.top!==0||h.left!==0)&&s.scrollBy(h),f()}function Ir(e){var r=e.input,t=e.timeSinceLastFrame,n=e.available,a=e.source,i=e.entries,o=document.documentElement,c={input:r,source:a,element:o},l=jr(i),u;try{for(l.s();!(u=l.n()).done;){var d,s,p,f=u.value;if(!(f.canScroll&&!f.canScroll(c))){var g=at(o),v=it((d=f.getConfiguration)===null||d===void 0?void 0:d.call(f,c)),m=(s=(p=f.getAllowedAxis)===null||p===void 0?void 0:p.call(f,c))!==null&&s!==void 0?s:"all",O=lt({element:o,engagement:g,input:r,config:v,allowedAxis:m,getRect:function(x){return DOMRect.fromRect({y:0,x:0,width:x.clientWidth,height:x.clientHeight})},timeSinceLastFrame:t}),y={top:n.top?O.top:0,left:n.left?O.left:0};(y.top!==0||y.left!==0)&&o.scrollBy(y);break}}}catch(h){l.e(h)}finally{l.f()}}function Rr(e){var r=e.input,t=e.findEntry,n=e.timeSinceLastFrame,a=e.source,i=e.getWindowScrollEntries,o=e.underUsersPointer,c=ct({target:o,timeSinceLastFrame:n,input:r,source:a,findEntry:t});ut(c)&&Ir({input:r,source:a,entries:i(),timeSinceLastFrame:n,available:c})}function Ue(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Fr(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ue(Object(t),!0).forEach(function(n){E(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ue(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Cr(e){var r=e.monitor,t=new Map,n=new Set;function a(u){return t.set(u.element,u),z(mr(u.element),function(){return t.delete(u.element)})}function i(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=Fr({},u);return n.add(d),function(){return n.delete(d)}}function o(u){var d;return(d=t.get(u))!==null&&d!==void 0?d:null}function c(){return Array.from(n)}function l(u){var d=u.latestArgs,s=u.underUsersPointer,p=u.timeSinceLastFrame;Rr({input:d.location.current.input,source:d.source,findEntry:o,underUsersPointer:s,timeSinceLastFrame:p,getWindowScrollEntries:c})}return gr(r).onFrame(l),{autoScroll:a,autoScrollWindow:i}}var kr=Cr({monitor:ye}),Mr=kr.autoScroll,k={borderRadius:0,thickness:2,backgroundColor:"var(--ds-border-selected, #0C66E4)"},W=8,Lr=C({display:"block",position:"absolute",zIndex:1,pointerEvents:"none",background:k.backgroundColor,"::before":{content:'""',width:W,height:W,boxSizing:"border-box",position:"absolute",border:"".concat(k.thickness,"px solid ").concat(k.backgroundColor),borderRadius:"50%"}}),V=(k.thickness-W)/2,Be=W/2,Hr={horizontal:C({height:k.thickness,left:Be,right:0,"::before":{left:-W}}),vertical:C({width:k.thickness,top:Be,bottom:0,"::before":{top:-W}})},$r={top:"horizontal",bottom:"horizontal",left:"vertical",right:"vertical"},Wr={top:C({top:"var(--local-line-offset)","::before":{top:V}}),right:C({right:"var(--local-line-offset)","::before":{right:V}}),bottom:C({bottom:"var(--local-line-offset)","::before":{bottom:V}}),left:C({left:"var(--local-line-offset)","::before":{left:V}})};function zr(e){var r=e.edge,t=e.gap,n=t===void 0?"0px":t,a="calc(-0.5 * (".concat(n," + ").concat(k.thickness,"px))"),i=$r[r];return dt("div",{css:[Lr,Hr[i],Wr[r]],style:{"--local-line-offset":a}})}const _r={component:qe},Z={type:"idle"},Ne={type:"dragging"},Kr=({id:e})=>{const r=H.useRef(null),t=H.useRef(null),[n,a]=H.useState(Z);return H.useEffect(()=>{const i=r.current,o={id:e};return z(rr({element:i,dragHandle:t.current,getInitialData:()=>o,onGenerateDragPreview({nativeSetDragImage:c}){or({nativeSetDragImage:c,getOffset:ar({x:"16px",y:"8px"}),render({container:l}){return a({type:"preview",container:l}),()=>a(Ne)}})},onDragStart(){a(Ne)},onDrop(){a(Z)}}),tr({element:i,canDrop({source:c}){return c.data.id!==e},getIsSticky:()=>!0,getData({input:c}){return ur(o,{element:i,input:c,allowedEdges:["top","bottom"]})},onDrag({self:c}){const l=nt(c.data);a(u=>u.type==="is-over"&&u.closestEdge===l?u:{type:"is-over",closestEdge:l})},onDragLeave(){a(Z)},onDrop(){a(Z)}}))},[e]),F.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start",columnGap:16,padding:"8px 16px",height:40,borderBottom:"solid 1px #ccc",background:"#fff",opacity:n.type==="dragging"?.4:void 0,zIndex:n.type==="is-over"&&n.closestEdge?1:void 0,pointerEvents:"auto"},ref:r,children:[F.jsx("div",{ref:t,style:{cursor:"grab"},children:"⠿"}),F.jsx("div",{children:e}),n.type==="is-over"&&n.closestEdge&&F.jsx(zr,{edge:n.closestEdge}),n.type==="preview"&&ft.createPortal(F.jsx("div",{style:{padding:"8px 16px",background:"#fff"},children:e}),n.container)]})},J={name:"With pragmatic-drag-and-drop",render:()=>{const[e,r]=H.useState(()=>Array.from({length:1e3},(t,n)=>({id:n+1})));return H.useEffect(()=>{const t=document.getElementById("vlist");return z(ye({onDrop({location:n,source:a}){const i=n.current.dropTargets[0];if(!i)return;const o=e.findIndex(u=>u.id===a.data.id);if(o<0)return;const c=e.findIndex(u=>u.id===i.data.id);if(c<0)return;const l=cr({startIndex:o,closestEdgeOfTarget:nt(i.data),indexOfTarget:c,axis:"vertical"});l!==o&&r(u=>nr({list:u,startIndex:o,finishIndex:l}))}}),Mr({canScroll:()=>!0,element:t}))},[e]),F.jsx(qe,{id:"vlist",style:{width:400,height:600},children:e.map(t=>F.jsx(Kr,{id:t.id},t.id))})}};var Xe,Ye,Ge;J.parameters={...J.parameters,docs:{...(Xe=J.parameters)==null?void 0:Xe.docs,source:{originalSource:`{
  name: "With pragmatic-drag-and-drop",
  render: () => {
    const [items, setItems] = useState(() => Array.from({
      length: 1000
    }, (_, i) => ({
      id: i + 1
    })));
    useEffect(() => {
      // get scrollable element of VList
      const scrollContainer = document.getElementById("vlist")!;
      return combine(monitorForElements({
        onDrop({
          location,
          source
        }) {
          const target = location.current.dropTargets[0];
          if (!target) {
            return;
          }
          const startIndex = items.findIndex(item => item.id === source.data.id);
          if (startIndex < 0) {
            return;
          }
          const indexOfTarget = items.findIndex(item => item.id === target.data.id);
          if (indexOfTarget < 0) {
            return;
          }
          const finishIndex = getReorderDestinationIndex({
            startIndex,
            closestEdgeOfTarget: extractClosestEdge(target.data),
            indexOfTarget,
            axis: "vertical"
          });
          if (finishIndex !== startIndex) {
            setItems(prev => {
              return reorder({
                list: prev,
                startIndex,
                finishIndex
              });
            });
          }
        }
      }), autoScrollForElements({
        canScroll: () => true,
        element: scrollContainer
      }));
    }, [items]);
    return <VList id="vlist" style={{
      width: 400,
      height: 600
    }}>
        {items.map(item => <SortableItem key={item.id} id={item.id} />)}
      </VList>;
  }
}`,...(Ge=(Ye=J.parameters)==null?void 0:Ye.docs)==null?void 0:Ge.source}}};const en=["Default"];export{J as Default,en as __namedExportsOrder,_r as default};
