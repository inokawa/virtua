import{t as x,a as F,_ as h}from"./defineProperty-CegpTSss.js";import{a as I,b as M}from"./assertThisInitialized-DUTgmdVG.js";import{r as C}from"./iframe-DTLkkNrr.js";function B(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")}function T(i,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,x(n.key),n)}}function q(i,r,e){return r&&T(i.prototype,r),e&&T(i,e),Object.defineProperty(i,"prototype",{writable:!1}),i}function V(i,r){if(r&&(F(r)=="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I(i)}function N(i){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},N(i)}function $(i,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(r&&r.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),r&&M(i,r)}function U(i,r){var e;typeof r<"u"?e=r:typeof window<"u"?e=window:typeof self<"u"?e=self:e=global;var n=typeof e.document<"u"&&e.document.attachEvent;if(!n){var p=function(){var l=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||function(t){return e.setTimeout(t,20)};return function(t){return l(t)}}(),g=function(){var l=e.cancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelAnimationFrame||e.clearTimeout;return function(t){return l(t)}}(),_=function(t){var s=t.__resizeTriggers__,o=s.firstElementChild,a=s.lastElementChild,w=o.firstElementChild;a.scrollLeft=a.scrollWidth,a.scrollTop=a.scrollHeight,w.style.width=o.offsetWidth+1+"px",w.style.height=o.offsetHeight+1+"px",o.scrollLeft=o.scrollWidth,o.scrollTop=o.scrollHeight},y=function(t){return t.offsetWidth!=t.__resizeLast__.width||t.offsetHeight!=t.__resizeLast__.height},m=function(t){if(!(t.target.className&&typeof t.target.className.indexOf=="function"&&t.target.className.indexOf("contract-trigger")<0&&t.target.className.indexOf("expand-trigger")<0)){var s=this;_(this),this.__resizeRAF__&&g(this.__resizeRAF__),this.__resizeRAF__=p(function(){y(s)&&(s.__resizeLast__.width=s.offsetWidth,s.__resizeLast__.height=s.offsetHeight,s.__resizeListeners__.forEach(function(o){o.call(s,t)}))})}},v=!1,u="",c="animationstart",d="Webkit Moz O ms".split(" "),f="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),E="";{var R=e.document.createElement("fakeelement");if(R.style.animationName!==void 0&&(v=!0),v===!1){for(var z=0;z<d.length;z++)if(R.style[d[z]+"AnimationName"]!==void 0){E=d[z],u="-"+E.toLowerCase()+"-",c=f[z],v=!0;break}}}var b="resizeanim",O="@"+u+"keyframes "+b+" { from { opacity: 0; } to { opacity: 0; } } ",L=u+"animation: 1ms "+b+"; "}var W=function(t){if(!t.getElementById("detectElementResize")){var s=(O||"")+".resize-triggers { "+(L||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',o=t.head||t.getElementsByTagName("head")[0],a=t.createElement("style");a.id="detectElementResize",a.type="text/css",i!=null&&a.setAttribute("nonce",i),a.styleSheet?a.styleSheet.cssText=s:a.appendChild(t.createTextNode(s)),o.appendChild(a)}},D=function(t,s){if(n)t.attachEvent("onresize",s);else{if(!t.__resizeTriggers__){var o=t.ownerDocument,a=e.getComputedStyle(t);a&&a.position=="static"&&(t.style.position="relative"),W(o),t.__resizeLast__={},t.__resizeListeners__=[],(t.__resizeTriggers__=o.createElement("div")).className="resize-triggers";var w=o.createElement("div");w.className="expand-trigger",w.appendChild(o.createElement("div"));var S=o.createElement("div");S.className="contract-trigger",t.__resizeTriggers__.appendChild(w),t.__resizeTriggers__.appendChild(S),t.appendChild(t.__resizeTriggers__),_(t),t.addEventListener("scroll",m,!0),c&&(t.__resizeTriggers__.__animationListener__=function(k){k.animationName==b&&_(t)},t.__resizeTriggers__.addEventListener(c,t.__resizeTriggers__.__animationListener__))}t.__resizeListeners__.push(s)}},H=function(t,s){if(n)t.detachEvent("onresize",s);else if(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(s),1),!t.__resizeListeners__.length){t.removeEventListener("scroll",m,!0),t.__resizeTriggers__.__animationListener__&&(t.__resizeTriggers__.removeEventListener(c,t.__resizeTriggers__.__animationListener__),t.__resizeTriggers__.__animationListener__=null);try{t.__resizeTriggers__=!t.removeChild(t.__resizeTriggers__)}catch{}}};return{addResizeListener:D,removeResizeListener:H}}function j(i,r){var e=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);r&&(n=n.filter(function(p){return Object.getOwnPropertyDescriptor(i,p).enumerable})),e.push.apply(e,n)}return e}function P(i){for(var r=1;r<arguments.length;r++){var e=arguments[r]!=null?arguments[r]:{};r%2?j(Object(e),!0).forEach(function(n){h(i,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):j(Object(e)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(e,n))})}return i}function K(i,r,e){return r=N(r),V(i,A()?Reflect.construct(r,e||[],N(i).constructor):r.apply(i,e))}function A(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A=function(){return!!i})()}var G=function(i){function r(){var e;B(this,r);for(var n=arguments.length,p=new Array(n),g=0;g<n;g++)p[g]=arguments[g];return e=K(this,r,[].concat(p)),h(e,"state",{height:e.props.defaultHeight||0,width:e.props.defaultWidth||0}),h(e,"_parentNode",void 0),h(e,"_autoSizer",void 0),h(e,"_window",void 0),h(e,"_detectElementResize",void 0),h(e,"_onResize",function(){var _=e.props,y=_.disableHeight,m=_.disableWidth,v=_.onResize;if(e._parentNode){var u=e._parentNode.offsetHeight||0,c=e._parentNode.offsetWidth||0,d=e._window||window,f=d.getComputedStyle(e._parentNode)||{},E=parseInt(f.paddingLeft,10)||0,R=parseInt(f.paddingRight,10)||0,z=parseInt(f.paddingTop,10)||0,b=parseInt(f.paddingBottom,10)||0,O=u-z-b,L=c-E-R;(!y&&e.state.height!==O||!m&&e.state.width!==L)&&(e.setState({height:u-z-b,width:c-E-R}),v({height:u,width:c}))}}),h(e,"_setRef",function(_){e._autoSizer=_}),e}return $(r,i),q(r,[{key:"componentDidMount",value:function(){var n=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._window=this._autoSizer.parentNode.ownerDocument.defaultView,this._detectElementResize=U(n,this._window),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var n=this.props,p=n.children,g=n.className,_=n.disableHeight,y=n.disableWidth,m=n.style,v=this.state,u=v.height,c=v.width,d={overflow:"visible"},f={};return _||(d.height=0,f.height=u),y||(d.width=0,f.width=c),C.createElement("div",{className:g,ref:this._setRef,style:P(P({},d),m)},p(f))}}])}(C.Component);h(G,"defaultProps",{onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}});export{G as A,q as _,B as a,$ as b,V as c,N as d};
