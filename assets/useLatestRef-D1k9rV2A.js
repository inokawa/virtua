import{r as G}from"./iframe-DYoAIzAP.js";const V=null,{min:v,max:E,abs:de,floor:Re}=Math,re=(e,t,s)=>v(s,E(t,e)),Te=e=>[...e].sort((t,s)=>t-s),Se=typeof queueMicrotask=="function"?queueMicrotask:e=>{Promise.resolve().then(e)},ce=e=>{let t;return()=>(e&&(t=e(),e=void 0),t)},D=-1,U=(e,t,s)=>{const o=s?"unshift":"push";for(let r=0;r<t;r++)e[o](D);return e},Q=(e,t)=>{const s=e._sizes[t];return s===D?e._defaultItemSize:s},ve=(e,t,s)=>{const o=e._sizes[t]===D;return e._sizes[t]=s,e._computedOffsetIndex=v(t,e._computedOffsetIndex),o},j=(e,t)=>{if(!e._length)return 0;if(e._computedOffsetIndex>=t)return e._offsets[t];e._computedOffsetIndex<0&&(e._offsets[0]=0,e._computedOffsetIndex=0);let s=e._computedOffsetIndex,o=e._offsets[s];for(;s<t;)o+=Q(e,s),e._offsets[++s]=o;return e._computedOffsetIndex=t,o},ye=e=>e._length?j(e,e._length-1)+Q(e,e._length-1):0,N=(e,t,s=0,o=e._length-1)=>{for(;s<=o;){const r=Re((s+o)/2),d=j(e,r);if(d<=t){if(d+Q(e,r)>t)return r;s=r+1}else o=r-1}return re(s,0,e._length-1)},Ce=(e,t,s,o)=>{if(o=v(o,e._length-1),j(e,o)<=t){const r=N(e,t+s,o);return[N(e,t,o,r),r]}else{const r=N(e,t,void 0,o);return[r,N(e,t+s,r)]}},Ae=(e,t)=>{let s=0;const o=[];e._sizes.forEach((f,a)=>{f!==D&&(o.push(f),a<t&&s++)}),e._computedOffsetIndex=-1;const r=Te(o),d=r.length,m=d/2|0,i=d%2===0?(r[m-1]+r[m])/2:r[m],n=e._defaultItemSize;return((e._defaultItemSize=i)-n)*E(t-s,0)},Ne=(e,t,s)=>({_defaultItemSize:s?s[1]:t,_sizes:s&&s[0]?U(s[0].slice(0,v(e,s[0].length)),E(0,e-s[0].length)):U([],e),_length:e,_computedOffsetIndex:-1,_offsets:U([],e)}),ke=e=>[e._sizes.slice(),e._defaultItemSize],ae=(e,t,s)=>{const o=t-e._length;return e._computedOffsetIndex=s?-1:v(t-1,e._computedOffsetIndex),e._length=t,o>0?(U(e._offsets,o),U(e._sizes,o,s),e._defaultItemSize*o):(e._offsets.splice(o),(s?e._sizes.splice(0,-o):e._sizes.splice(o)).reduce((r,d)=>r-(d===D?e._defaultItemSize:d),0))},pe=typeof window<"u",ge=()=>document.documentElement,P=e=>e.ownerDocument,x=e=>e.defaultView,Ie=ce(()=>pe?getComputedStyle(ge()).direction==="rtl":!1),be=ce(()=>/iP(hone|od|ad)/.test(navigator.userAgent)),ze=ce(()=>"scrollBehavior"in ge().style),Ve=2147483647,J=0,me=1,_e=2,q=0,Me=1,se=2,ne=1,Oe=2,k=3,K=4,De=5,Ee=6,ie=7,le=8,A=1,X=2,Je=4,We=8,Ke=e=>E(e.$getTotalSize(),e.$getViewportSize()),he=e=>!!e.$getViewportSize(),Be=(e,t=40,s=4,o=0,r,d=!1)=>{let m=!!o,i=1,n=0,f=0,a=0,c=0,l=0,u=0,$=J,S=q,_=m?[0,E(o-1,0)]:V,b=[0,0],z=0;const g=Ne(e,t,r),y=new Set,R=()=>a-f,L=()=>R()+l+c,C=p=>Ce(g,p,n,b[0]),H=()=>ye(g),ue=p=>j(g,p)-l,B=p=>Q(g,p),ee=p=>{p&&(be()&&$!==J?l+=p:c+=p)};return{$getStateVersion:()=>i,$getCacheSnapshot:()=>ke(g),$getRange:()=>{let p,I;return u?[p,I]=b:([p,I]=b=C(E(0,L())),_&&(p=v(p,_[0]),I=E(I,_[1]))),$!==me&&(p-=E(0,s)),$!==_e&&(I+=E(0,s)),[E(p,0),v(I,g._length-1)]},$findStartIndex:()=>N(g,L()),$findEndIndex:()=>N(g,L()+n),$isUnmeasuredItem:p=>g._sizes[p]===D,_hasUnmeasuredItemsInFrozenRange:()=>_?g._sizes.slice(E(0,_[0]-1),v(g._length-1,_[1]+1)+1).includes(D):!1,$getItemOffset:ue,$getItemSize:B,$getItemsLength:()=>g._length,$getScrollOffset:()=>a,$isScrolling:()=>$!==J,$getViewportSize:()=>n,$getStartSpacerSize:()=>f,$getTotalSize:H,_flushJump:()=>(u=c,c=0,[u,S===se||R()+n>=H()]),$subscribe:(p,I)=>{const W=[p,I];return y.add(W),()=>{y.delete(W)}},$update:(p,I)=>{let W,te,w=0;switch(p){case ne:{const T=u;u=0;const h=I-a,O=de(h);!(T&&O<de(T)+1)&&S===q&&($=h<0?_e:me),m&&(_=V,m=!1),a=I,w=Je;const Y=R();Y>=-n&&Y<=H()&&(w+=A,te=O>n);break}case Oe:{w=We,$!==J&&(W=!0,w+=A),$=J,S=q,_=V;break}case k:{const T=I.filter(([h,O])=>g._sizes[h]!==O);if(!T.length)break;ee(T.reduce((h,[O,F])=>((S===se||(_?!m&&O<_[0]:ue(O)+($===J&&S===q?B(O):0)<R()))&&(h+=F-B(O)),h),0));for(const[h,O]of T){const F=B(h),Y=ve(g,h,O);d&&(z+=Y?O:O-F)}d&&n&&z>n&&(ee(Ae(g,N(g,L()))),d=!1),w=A+X,te=!0;break}case K:{n!==I&&(n=I,w=A+X);break}case De:{I[1]?(ee(ae(g,I[0],!0)),S=se,w=A):(ae(g,I[0]),w=A);break}case Ee:{f=I;break}case ie:{S=Me;break}case le:{_=C(I),w=A;break}}w&&(i=(i&Ve)+1,W&&l&&(c+=l,l=0),y.forEach(([T,h])=>{w&T&&h(te)}))}}},Z=setTimeout,Ue=(e,t)=>{let s;const o=()=>{s!=V&&clearTimeout(s)},r=()=>{o(),s=Z(()=>{s=V,e()},t)};return r._cancel=o,r},M=(e,t)=>t&&Ie()?-e:e,we=(e,t,s,o,r,d)=>{const m=Date.now;let i=0,n=!1,f=!1,a=!1,c=!1;const l=Ue(()=>{if(n||f){n=!1,l();return}a=!1,e.$update(Oe)},150),u=()=>{i=m(),a&&(c=!0),d&&e.$update(Ee,d()),e.$update(ne,o()),l()},$=b=>{if(n||!e.$isScrolling()||b.ctrlKey)return;const z=m()-i;150>z&&50<z&&(s?b.deltaX:b.deltaY)&&(n=!0)},S=()=>{f=!0,a=c=!1},_=()=>{f=!1,be()&&(a=!0)};return t.addEventListener("scroll",u),t.addEventListener("wheel",$,{passive:!0}),t.addEventListener("touchstart",S,{passive:!0}),t.addEventListener("touchend",_,{passive:!0}),{_dispose:()=>{t.removeEventListener("scroll",u),t.removeEventListener("wheel",$),t.removeEventListener("touchstart",S),t.removeEventListener("touchend",_),l._cancel()},_fixScrollJump:()=>{const[b,z]=e._flushJump();b&&(r(M(b,s),z,c),c=!1,z&&e.$getViewportSize()>e.$getTotalSize()&&e.$update(ne,o()))}}},$e=(e,t)=>{let s,o,r;const d=t?"scrollLeft":"scrollTop",m=t?"overflowX":"overflowY",i=async(n,f)=>{if(!s){Se(()=>i(n,f));return}r&&r();const a=()=>{let c;return[new Promise((l,u)=>{c=l,r=u,he(e)&&Z(u,150)}),e.$subscribe(X,()=>{c&&c()})]};if(f&&ze()){for(;e.$update(le,n()),!!e._hasUnmeasuredItemsInFrozenRange();){const[c,l]=a();try{await c}catch{return}finally{l()}}s.scrollTo({[t?"left":"top"]:M(n(),t),behavior:"smooth"})}else for(;;){const[c,l]=a();try{s[d]=M(n(),t),e.$update(ie),await c}catch{return}finally{l()}}};return{$observe(n){s=n,o=we(e,n,t,()=>M(n[d],t),(f,a,c)=>{if(c){const l=n.style,u=l[m];l[m]="hidden",Z(()=>{l[m]=u})}a?(n[d]=e.$getScrollOffset()+f,r&&r()):n[d]+=f})},$dispose(){o&&o._dispose()},$scrollTo(n){i(()=>n)},$scrollBy(n){n+=e.$getScrollOffset(),i(()=>n)},$scrollToIndex(n,{align:f,smooth:a,offset:c=0}={}){if(n=re(n,0,e.$getItemsLength()-1),f==="nearest"){const l=e.$getItemOffset(n),u=e.$getScrollOffset();if(l<u)f="start";else if(l+e.$getItemSize(n)>u+e.$getViewportSize())f="end";else return}i(()=>c+e.$getStartSpacerSize()+e.$getItemOffset(n)+(f==="end"?e.$getItemSize(n)-e.$getViewportSize():f==="center"?(e.$getItemSize(n)-e.$getViewportSize())/2:0),a)},$fixScrollJump:()=>{o&&o._fixScrollJump()}}},Fe=(e,t)=>{let s,o,r;const d=(i,n,f,a,c=0)=>{const l=a?"offsetLeft":"offsetTop",u=c+(a&&Ie()?f.innerWidth-i[l]-i.offsetWidth:i[l]),$=i.offsetParent;return i===n||!$?u:d($,n,f,a,u)},m=async(i,n)=>{if(!s){Se(()=>m(i,n));return}r&&r();const f=()=>{let c;return[new Promise((l,u)=>{c=l,r=u,he(e)&&Z(u,150)}),e.$subscribe(X,()=>{c&&c()})]},a=x(P(s));if(n&&ze()){for(;e.$update(le,i()),!!e._hasUnmeasuredItemsInFrozenRange();){const[c,l]=f();try{await c}catch{return}finally{l()}}a.scroll({[t?"left":"top"]:M(i(),t),behavior:"smooth"})}else for(;;){const[c,l]=f();try{a.scroll({[t?"left":"top"]:M(i(),t)}),e.$update(ie),await c}catch{return}finally{l()}}};return{$observe(i){s=i;const n=t?"scrollX":"scrollY",f=P(i),a=x(f),c=f.body;o=we(e,a,t,()=>M(a[n],t),(l,u)=>{u?a.scroll({[t?"left":"top"]:e.$getScrollOffset()+l}):a.scrollBy(t?l:0,t?0:l)},()=>d(i,c,a,t))},$dispose(){o&&o._dispose(),s=void 0},$fixScrollJump:()=>{o&&o._fixScrollJump()},$scrollToIndex(i,{align:n,smooth:f,offset:a=0}={}){if(!s)return;if(i=re(i,0,e.$getItemsLength()-1),n==="nearest"){const S=e.$getItemOffset(i),_=e.$getScrollOffset();if(S<_)n="start";else if(S+e.$getItemSize(i)>_+e.$getViewportSize())n="end";else return}const c=P(s),l=x(c),u=c.documentElement,$=()=>e.$getViewportSize()-(t?u.clientWidth:u.clientHeight);m(()=>a+d(s,c.body,l,t)+e.$getItemOffset(i)+(n==="end"?e.$getItemSize(i)-(e.$getViewportSize()-$()):n==="center"?(e.$getItemSize(i)-(e.$getViewportSize()-$()))/2:0),f)}}},Ye=(e,t)=>{const s=$e(e,!1),o=$e(t,!0);return{$observe(r){s.$observe(r),o.$observe(r)},$dispose(){s.$dispose(),o.$dispose()},$scrollTo(r,d){s.$scrollTo(d),o.$scrollTo(r)},$scrollBy(r,d){s.$scrollBy(d),o.$scrollBy(r)},$scrollToIndex(r,d){s.$scrollToIndex(d),o.$scrollToIndex(r)},$fixScrollJump(){s.$fixScrollJump(),o.$fixScrollJump()}}},fe=e=>{let t;return{_observe(s){(t||(t=new(x(P(s))).ResizeObserver(e))).observe(s)},_unobserve(s){t.unobserve(s)},_dispose(){t&&t.disconnect()}}},qe=(e,t)=>{let s;const o=t?"width":"height",r=new WeakMap,d=fe(m=>{const i=[];for(const{target:n,contentRect:f}of m)if(n.offsetParent)if(n===s)e.$update(K,f[o]);else{const a=r.get(n);a!=V&&i.push([a,f[o]])}i.length&&e.$update(k,i)});return{$observeRoot(m){d._observe(s=m)},$observeItem:(m,i)=>(r.set(m,i),d._observe(m),()=>{r.delete(m),d._unobserve(m)}),$dispose:d._dispose}},Ge=(e,t)=>{const s=t?"width":"height",o=t?"innerWidth":"innerHeight",r=new WeakMap,d=fe(i=>{const n=[];for(const{target:f,contentRect:a}of i){if(!f.offsetParent)continue;const c=r.get(f);c!=V&&n.push([c,a[s]])}n.length&&e.$update(k,n)});let m;return{$observeRoot(i){const n=x(P(i)),f=()=>{e.$update(K,n[o])};n.addEventListener("resize",f),f(),m=()=>{n.removeEventListener("resize",f)}},$observeItem:(i,n)=>(r.set(i,n),d._observe(i),()=>{r.delete(i),d._unobserve(i)}),$dispose(){m&&m(),d._dispose()}}},Xe=(e,t)=>{let s;const o="height",r="width",d=new WeakMap,m=new Set,i=new Set,n=new Map,f=(c,l)=>`${c}-${l}`,a=fe(c=>{const l=new Set,u=new Set;for(const{target:$,contentRect:S}of c)if($.offsetParent)if($===s)e.$update(K,S[o]),t.$update(K,S[r]);else{const _=d.get($);if(_){const[b,z]=_,g=f(b,z),y=n.get(g),R=[S[o],S[r]];let L,C;y?(y[0]!==R[0]&&(L=!0),y[1]!==R[1]&&(C=!0)):L=C=!0,L&&l.add(b),C&&u.add(z),(L||C)&&n.set(g,R)}}if(l.size){const $=[];l.forEach(S=>{let _=0;i.forEach(b=>{const z=n.get(f(S,b));z&&(_=E(_,z[0]))}),_&&$.push([S,_])}),e.$update(k,$)}if(u.size){const $=[];u.forEach(S=>{let _=0;m.forEach(b=>{const z=n.get(f(b,S));z&&(_=E(_,z[1]))}),_&&$.push([S,_])}),t.$update(k,$)}});return{$observeRoot(c){a._observe(s=c)},$observeItem(c,l,u){return d.set(c,[l,u]),m.add(l),i.add(u),a._observe(c),()=>{d.delete(c),a._unobserve(c)}},$resizeCols(c){for(const[l]of c)for(let u=0;u<e.$getItemsLength();u++)n.delete(f(u,l));t.$update(k,c)},$resizeRows(c){for(const[l]of c)for(let u=0;u<t.$getItemsLength();u++)n.delete(f(l,u));e.$update(k,c)},$dispose:a._dispose}},Pe=pe?G.useLayoutEffect:G.useEffect,oe="current",Le=(e,t)=>{if(Array.isArray(e))for(const s of e)Le(s,t);else e==null||typeof e=="boolean"||t.push(e)},Ze=e=>{const t=[];return Le(e,t),t},Qe=(e,t)=>{const s=e.key;return s??"_"+t},je=e=>{const t=G.useRef(null);return t[oe]||(t[oe]=e())},He=e=>{const t=G.useRef(e);return Pe(()=>{t[oe]=e},[e]),t};export{De as A,A as U,je as a,He as b,Je as c,We as d,Be as e,Xe as f,Ke as g,Ye as h,Ie as i,Ee as j,qe as k,$e as l,Se as m,Qe as n,Ge as o,Fe as p,Ze as q,oe as r,Te as s,Pe as u};
