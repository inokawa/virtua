import{d as Le,r as Ee,a as ue,w as Te,c as we,z as Re,i as he}from"./iframe-Dkg3J_t3.js";const A=null,{min:C,max:T,abs:fe,floor:ye}=Math,te=(e,t,s)=>C(s,T(t,e)),Ce=e=>[...e].sort((t,s)=>t-s),me=typeof queueMicrotask=="function"?queueMicrotask:e=>{Promise.resolve().then(e)},U=()=>{let e;return[new Promise(s=>{e=s}),e]},Se=e=>{let t;return()=>(e&&(t=e(),e=void 0),t)},k=-1,P=(e,t,s)=>{const n=s?"unshift":"push";for(let r=0;r<t;r++)e[n](k);return e},ge=(e,t)=>{const s=e._sizes[t];return s===k?e._defaultItemSize:s},Ne=(e,t,s)=>{const n=e._sizes[t]===k;return e._sizes[t]=s,e._computedOffsetIndex=C(t,e._computedOffsetIndex),n},q=(e,t)=>{if(!e._length)return 0;if(e._computedOffsetIndex>=t)return e._offsets[t];e._computedOffsetIndex<0&&(e._offsets[0]=0,e._computedOffsetIndex=0);let s=e._computedOffsetIndex,n=e._offsets[s];for(;s<t;)n+=ge(e,s),e._offsets[++s]=n;return e._computedOffsetIndex=t,n},V=(e,t,s=0,n=e._length-1)=>{let r=s;for(;s<=n;){const l=ye((s+n)/2);q(e,l)<=t?(r=l,s=l+1):n=l-1}return te(r,0,e._length-1)},Ve=(e,t,s,n)=>{if(n=C(n,e._length-1),q(e,n)<=t){const r=V(e,s,n);return[V(e,t,n,r),r]}else{const r=V(e,t,void 0,n);return[r,V(e,s,r)]}},Ae=(e,t)=>{let s=0;const n=[];e._sizes.forEach((i,o)=>{i!==k&&(n.push(i),o<t&&s++)}),e._computedOffsetIndex=-1;const r=Ce(n),l=r.length,a=l/2|0,u=l%2===0?(r[a-1]+r[a])/2:r[a],f=e._defaultItemSize;return((e._defaultItemSize=u)-f)*T(t-s,0)},ke=(e,t,s)=>({_defaultItemSize:t,_sizes:s?P(s.slice(0,C(e,s.length)),T(0,e-s.length)):P([],e),_length:e,_computedOffsetIndex:-1,_offsets:P([],e+1)}),Me=e=>[e._sizes.slice(),e._defaultItemSize],ae=(e,t,s)=>{const n=t-e._length;return e._computedOffsetIndex=s?-1:C(t-1,e._computedOffsetIndex),e._length=t,n>0?(P(e._offsets,n),P(e._sizes,n,s),e._defaultItemSize*n):(e._offsets.splice(n),(s?e._sizes.splice(0,-n):e._sizes.splice(n)).reduce((r,l)=>r-(l===k?e._defaultItemSize:l),0))},Z=e=>e.documentElement,D=e=>e.ownerDocument,J=e=>e.defaultView,pe=Se(()=>/iP(hone|od|ad)/.test(navigator.userAgent)?!0:navigator.platform==="MacIntel"&&navigator.maxTouchPoints>0),Pe=Se(()=>"scrollBehavior"in Z(document).style),De=2147483647,N=0,de=1,_e=2,M=0,X=1,G=2,Q=1,$e=2,se=3,ne=4,Je=5,Oe=6,H=7,Ie=8,h=1,ee=2,Ue=4,We=8,qe=e=>T(e.$getTotalSize(),e.$getViewportSize()),je=(e,t=40,s=0,n,r=!1)=>{let l=!!s,a=1,u=0,f=0,i=0,o=0,c=0,_=0,S=N,m=M,g=A,$=[0,l?T(s-1,0):-1],z=0,E=!1;const O=ke(e,n?n[1]:t,n&&n[0]),W=new Set,j=()=>i-f,oe=()=>j()+c+o,ie=(p,d)=>Ve(O,p,d,$[0]),F=()=>q(O,O._length),le=(p,d)=>{const I=q(O,p)-c;return d?F()-I-x(p):I},x=p=>ge(O,p),ce=(p,d=k)=>O._sizes[p]===d,Y=p=>{p&&(pe()&&S!==N||g&&m===X?c+=p:o+=p)};return{$dispose:()=>{W.clear()},$getStateVersion:()=>a,$getCacheSnapshot:()=>Me(O),$getRange:(p=200)=>{if(!E||l)return $;let d,I;if(_)[d,I]=$;else{let w=T(0,oe()),b=w+u;r||(p=T(0,p),S!==de&&(w-=p),S!==_e&&(b+=p)),[d,I]=$=ie(T(0,w),T(0,b)),g&&(d=C(d,g[0]),I=T(I,g[1]))}return[T(d,0),C(I,O._length-1)]},$findItemIndex:p=>V(O,p-f),$isUnmeasuredItem:ce,$getItemOffset:le,$getItemSize:x,$getItemsLength:()=>O._length,$getScrollOffset:()=>i,$isScrolling:()=>S!==N,$getViewportSize:()=>u,$getStartSpacerSize:()=>f,$getTotalSize:F,_flushJump:()=>(_=o,o=0,[_,m===G]),$subscribe:(p,d)=>{const I=[p,d];return W.add(I),()=>{W.delete(I)}},$update:(p,d)=>{let I,w,b=0;switch(p){case Q:{if(d===i&&m===M)break;const R=_;_=0;const v=d-i,L=fe(v);!(R&&L<fe(R)+1)&&m===M&&(S=v<0?_e:de),l&&(l=!1),i=d,b=Ue;const K=j();K>=-u&&K<=F()&&(b+=h,w=L>u);break}case $e:{b=We,S!==N&&(I=!0,b+=h),S=N,m=M,g=A;break}case se:{const R=d.filter(([v,L])=>!ce(v,L));if(!R.length)break;Y(R.reduce((v,[L,B])=>((m===G||(g&&m===X?L<g[0]:le(L+(S===N&&m===M?1:0))<j()))&&(v+=B-x(L)),v),0));for(const[v,L]of R){const B=x(v),K=Ne(O,v,L);r&&(z+=K?L:L-B)}r&&u&&z>u&&(Y(Ae(O,V(O,oe()))),r=!1),b=h+ee,w=!0;break}case ne:{u!==d&&(u||(E=w=!0),u=d,b=h+ee);break}case Je:{d[1]?(Y(ae(O,d[0],!0)),m=G,b=h):(ae(O,d[0]),b=h);break}case Oe:{f=d;break}case H:{m=X;break}case Ie:{g=ie(d,d+u),b=h;break}}b&&(a=(a&De)+1,I&&c&&(o+=c,c=0),W.forEach(([R,v])=>{b&R&&v(w)}))}}},re=setTimeout,xe=(e,t)=>{let s;const n=()=>{s!=A&&clearTimeout(s)},r=()=>{n(),s=re(()=>{s=A,e()},t)};return r._cancel=n,r},y=(e,t)=>t?-e:e,be=(e,t,s,n,r,l)=>{const a=Date.now;let u=0,f=!1,i=!1,o=!1,c=!1;const _=xe(()=>{if(f||i){f=!1,_();return}o=!1,e.$update($e)},150),S=()=>{u=a(),o&&(c=!0),l&&e.$update(Oe,l()),e.$update(Q,n()),_()},m=(z=>{if(f||!e.$isScrolling()||z.ctrlKey)return;const E=a()-u;150>E&&50<E&&(s?z.deltaX:z.deltaY)&&(f=!0)}),g=()=>{i=!0,o=c=!1},$=()=>{i=!1,pe()&&(o=!0)};return t.addEventListener("scroll",S),t.addEventListener("wheel",m,{passive:!0}),t.addEventListener("touchstart",g,{passive:!0}),t.addEventListener("touchend",$,{passive:!0}),{_dispose:()=>{t.removeEventListener("scroll",S),t.removeEventListener("wheel",m),t.removeEventListener("touchstart",g),t.removeEventListener("touchend",$),_._cancel()},_fixScrollJump:()=>{const[z,E]=e._flushJump();z&&(r(z,E,c),c=!1,E&&e.$getViewportSize()>e.$getTotalSize()&&e.$update(Q,n()))}}},ze=(e,t,s)=>{let n;return[async(r,l)=>{if(!await t())return;n&&n();const a=()=>{const[u,f]=U();return n=()=>{f(!1)},e.$getViewportSize()&&re(n,150),[u,e.$subscribe(ee,()=>{f(!0)})]};if(l&&Pe())e.$update(Ie,r()),me(async()=>{for(;;){let u=!0;for(let[o,c]=e.$getRange();o<=c;o++)if(e.$isUnmeasuredItem(o)){u=!1;break}if(u)break;const[f,i]=a();try{if(!await f)return}finally{i()}}e.$update(H),s(r(),l)});else for(;;){const[u,f]=a();try{if(e.$update(H),s(r()),!await u)return}finally{f()}}},()=>{n&&n()}]},Fe=(e,t)=>{let s,n,r=U(),l=!1;const a=t?"scrollLeft":"scrollTop",u=t?"overflowX":"overflowY",[f,i]=ze(e,()=>r[0],(o,c)=>{o=y(o,l),c?s.scrollTo({[t?"left":"top"]:o,behavior:"smooth"}):s[a]=o});return{$observe(o,c){s=c,t&&(l=getComputedStyle(c).direction==="rtl"),n=be(e,c,t,()=>y(c[a],l),(_,S,m)=>{if(m){const g=c.style,$=g[u];g[u]="hidden",re(()=>{g[u]=$})}c[a]=y(e.$getScrollOffset()+_,l),S&&i()}),r[1](!0)},$dispose(){n&&n._dispose(),r[1](!1),r=U()},$isNegative:()=>l,$scrollTo(o){f(()=>o)},$scrollBy(o){o+=e.$getScrollOffset(),f(()=>o)},$scrollToIndex(o,{align:c,smooth:_,offset:S=0}={}){if(o=te(o,0,e.$getItemsLength()-1),c==="nearest"){const m=e.$getItemOffset(o),g=e.$getScrollOffset();if(m<g)c="start";else if(m+e.$getItemSize(o)>g+e.$getViewportSize())c="end";else return}f(()=>S+e.$getStartSpacerSize()+e.$getItemOffset(o)+(c==="end"?e.$getItemSize(o)-e.$getViewportSize():c==="center"?(e.$getItemSize(o)-e.$getViewportSize())/2:0),_)},$fixScrollJump:()=>{n&&n._fixScrollJump()}}},Ye=(e,t)=>{let s,n,r=U(),l=!1;const a=t?"left":"top",[u]=ze(e,()=>r[0],(i,o)=>{i=y(i,l);const c=J(D(s));o?c.scroll({[a]:i,behavior:"smooth"}):c.scroll({[a]:i})}),f=(i,o,c,_,S=0)=>{const m=_?"offsetLeft":"offsetTop",g=S+(_&&l?c.innerWidth-i[m]-i.offsetWidth:i[m]),$=i.offsetParent;return i===o||!$?g:f($,o,c,_,g)};return{$observe(i){s=i;const o=t?"scrollX":"scrollY",c=D(i),_=J(c);t&&(l=getComputedStyle(Z(c)).direction==="rtl"),n=be(e,_,t,()=>y(_[o],l),(S,m)=>{m?_.scroll({[a]:y(e.$getScrollOffset()+S,l)}):_.scrollBy({[a]:y(S,l)})},()=>f(i,c.body,_,t)),r[1](!0)},$dispose(){n&&n._dispose(),s=void 0,r[1](!1),r=U()},$isNegative:()=>l,$fixScrollJump:()=>{n&&n._fixScrollJump()},$scrollToIndex(i,{align:o,smooth:c,offset:_=0}={}){if(!s)return;if(i=te(i,0,e.$getItemsLength()-1),o==="nearest"){const z=e.$getItemOffset(i),E=e.$getScrollOffset();if(z<E)o="start";else if(z+e.$getItemSize(i)>E+e.$getViewportSize())o="end";else return}const S=D(s),m=J(S),g=Z(S),$=()=>e.$getViewportSize()-(t?g.clientWidth:g.clientHeight);u(()=>_+f(s,S.body,m,t)+e.$getItemOffset(i)+(o==="end"?e.$getItemSize(i)-(e.$getViewportSize()-$()):o==="center"?(e.$getItemSize(i)-(e.$getViewportSize()-$()))/2:0),c)}}},ve=e=>{let t;return{_observe(s){(t||(t=new(J(D(s))).ResizeObserver(e))).observe(s)},_unobserve(s){t.unobserve(s)},_dispose(){t&&t.disconnect()}}},Xe=(e,t)=>{let s;const n=t?"width":"height",r=new WeakMap,l=ve(a=>{const u=[];for(const{target:f,contentRect:i}of a)if(f.offsetParent)if(f===s)e.$update(ne,i[n]);else{const o=r.get(f);o!=A&&u.push([o,i[n]])}u.length&&e.$update(se,u)});return{$observeRoot(a){l._observe(s=a)},$observeItem:(a,u)=>(r.set(a,u),l._observe(a),()=>{r.delete(a),l._unobserve(a)}),$dispose:l._dispose}},Ge=(e,t)=>{const s=t?"width":"height",n=t?"innerWidth":"innerHeight",r=new WeakMap,l=ve(u=>{const f=[];for(const{target:i,contentRect:o}of u){if(!i.offsetParent)continue;const c=r.get(i);c!=A&&f.push([c,o[s]])}f.length&&e.$update(se,f)});let a;return{$observeRoot(u){const f=J(D(u)),i=()=>{e.$update(ne,f[n])};f.addEventListener("resize",i),me(i),a=()=>{f.removeEventListener("resize",i)}},$observeItem:(u,f)=>(r.set(u,f),l._observe(u),()=>{r.delete(u),l._unobserve(u)}),$dispose(){a&&a(),l._dispose()}}};function Be(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!he(e)}const Ze=Le({props:{_stateVersion:{type:Object,required:!0},_store:{type:Object,required:!0},_children:{type:Object,required:!0},_resizer:{type:Function,required:!0},_index:{type:Number,required:!0},_isHorizontal:{type:Boolean},_isSSR:{type:Boolean},_isNegative:{type:Boolean},_as:{type:String,required:!0},_itemProps:Object},setup(e){const t=Ee(),s=ue(()=>e._stateVersion.value&&e._store.$getItemOffset(e._index,e._isNegative)),n=ue(()=>e._stateVersion.value&&e._store.$isUnmeasuredItem(e._index));return Te(()=>t.value&&e._index,(r,l,a)=>{a(e._resizer(t.value,e._index))},{flush:"post"}),()=>{const{_children:r,_isHorizontal:l,_isSSR:a,_as:u}=e,f=n.value,{style:i,...o}=e._itemProps??{},c={contain:"layout style",position:f&&a?void 0:"absolute",[l?"height":"width"]:"100%",[l?"top":"left"]:"0px",[l?"left":"top"]:s.value+"px",visibility:!f||a?void 0:"hidden",...i};return l&&(c.display="inline-flex"),we(u,Re({ref:t,style:c},o),Be(r)?r:{default:()=>[r],_:2},16,["style"])}}}),Qe=(e,t)=>{const s=e.key;return s??"_"+t},He=(e,t)=>e[0]===t[0]&&e[1]===t[1];export{Je as A,Ze as L,h as U,Fe as a,Ue as b,je as c,We as d,Xe as e,Qe as f,qe as g,Oe as h,He as i,Ye as j,Ge as k,Ce as s};
