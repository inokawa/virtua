import{d as T,b as h,m as d,q as U,s as H,v,e as S,i as W,o as x,g as E,j as P,w as q,u as y,n as G,t as J}from"./vue.esm-bundler-lSza16jR.js";import{c as M,U as K,a as F,b as Q,d as X,L as Y,j as Z,k as $,i as ee,A as te,_ as ne}from"./_plugin-vue_export-helper-CB8iLh9D.js";function oe(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!W(t)}const se={data:{type:Array,required:!0},overscan:Number,itemSize:Number,shift:Boolean,horizontal:Boolean,as:{type:String,default:"div"},item:{type:String,default:"div"}},V=T({props:se,emits:["scroll","scrollEnd"],setup(t,{emit:a,slots:_,expose:m}){const o=t.horizontal,i=h(),e=M(t.data.length,t.itemSize,t.overscan,void 0,void 0,!t.itemSize),f=Z(e,o),p=$(e,o),s=h(e._getStateVersion()),w=e._subscribe(K,()=>{s.value=e._getStateVersion()}),A=e._subscribe(F,()=>{a("scroll",e._getScrollOffset())}),N=e._subscribe(Q,()=>{a("scrollEnd")}),D=d(n=>{s.value;const c=e._getRange();return n&&ee(n,c)?n:c}),O=d(()=>s.value&&e._isScrolling()),L=d(()=>s.value&&e._getTotalSize()),R=d(()=>s.value&&e._getJumpCount());return U(()=>{const n=i.value;n&&(f._observeRoot(n),p._observe(n))}),H(()=>{w(),A(),N(),f._dispose(),p._dispose()}),v(()=>t.data.length,n=>{e._update(te,[n,t.shift])}),v([R],()=>{p._fixScrollJump()},{flush:"post"}),m({findStartIndex:e._findStartIndex,findEndIndex:e._findEndIndex}),()=>{const n=t.as,c=t.item,[j,k]=D.value,b=L.value,l=[];for(let r=j,B=k;r<=B;r++){const g=_.default({item:t.data[r],index:r})[0];l.push(S(Y,{key:X(g,r),_rerender:s,_store:e,_resizer:f._observeItem,_index:r,_children:g,_isHorizontal:o,_as:c},null,8,["_rerender","_store","_resizer","_index","_children","_isHorizontal","_as"]))}return S(n,{ref:i,style:{overflowAnchor:"none",flex:"none",position:"relative",visibility:"hidden",width:o?b+"px":"100%",height:o?"100%":b+"px",pointerEvents:O.value?"none":void 0}},oe(l)?l:{default:()=>[l],_:2},8,["style"])}}}),re={style:{padding:"200px 100px"}},ae={style:{border:"solid 1px gray"}},ie=T({__name:"WindowVirtualizer",setup(t){const a=[20,40,180,77],_=Array.from({length:1e3}).map((m,o)=>a[o%4]);return(m,o)=>(x(),E("div",re,[P("div",ae,[S(y(V),{data:y(_)},{default:q(({item:i,index:e})=>[(x(),E("div",{key:e,style:G({height:i+"px",background:"white",borderBottom:"solid 1px #ccc"})},J(e),5))]),_:1},8,["data"])])]))}}),ce=ne(ie,[["__scopeId","data-v-16b9c0e0"]]),ue={component:V},u={render:()=>({components:{Component:ce},template:"<Component />"})};var z,C,I;u.parameters={...u.parameters,docs:{...(z=u.parameters)==null?void 0:z.docs,source:{originalSource:`{
  render: () => ({
    components: {
      Component: DefaultComponent
    },
    template: "<Component />"
  })
}`,...(I=(C=u.parameters)==null?void 0:C.docs)==null?void 0:I.source}}};const _e=["Default"];export{u as Default,_e as __namedExportsOrder,ue as default};
