import{d as D,b as v,m as O,q as R,s as g,e as h,i as j,o as z,g as x,j as k,w as B,u as E,n as U,t as H}from"./vue.esm-bundler-6P8ENG_2.js";import{c as W,U as q,b as G,d as J,e as M,L as P,S as K,j as F,k as Q,A as X,_ as Y}from"./_plugin-vue_export-helper-Lk2a9qFg.js";function Z(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!j(e)}const $={data:{type:Array,required:!0},overscan:{type:Number,default:4},itemSize:Number,shift:Boolean,horizontal:Boolean,as:{type:String,default:"div"},item:{type:String,default:"div"}},V=D({props:$,emits:["scrollEnd","rangeChange"],setup(e,{emit:c,slots:u}){const s=e.horizontal,i=v(),t=W(e.data.length,e.itemSize??40,void 0,void 0,!e.itemSize),r=F(t,s),m=Q(t,s),l=v(t._getStateVersion()),A=t._subscribe(q,()=>{l.value=t._getStateVersion()}),N=t._subscribe(G,()=>{c("scrollEnd")});return O(()=>{const n=i.value;n&&(r._observeRoot(n),m._observe(n))}),R(()=>{A(),N(),r._dispose(),m._dispose()}),g(()=>e.data.length,n=>{t._update(X,[n,e.shift])}),g([l,t._getJumpCount],([,n],[,a])=>{n!==a&&m._fixScrollJump()},{flush:"post"}),g([l,t._getRange],([,[n,a]],[,[f,p]])=>{f===n&&p===a||c("rangeChange",n,a)},{flush:"post"}),()=>{l.value;const n=e.as,a=e.item,f=e.data.length,[p,T]=t._getRange(),S=t._getScrollDirection(),b=t._getTotalSize(),d=[];for(let[o,L]=J(p,T,e.overscan,S,f);o<=L;o++){const y=u.default({item:e.data[o],index:o})[0];d.push(h(P,{key:M(y,o),_resizer:r._observeItem,_index:o,_offset:t._getItemOffset(o),_hide:t._isUnmeasuredItem(o),_children:y,_isHorizontal:s,_as:a},null,8,["_resizer","_index","_offset","_hide","_children","_isHorizontal","_as"]))}return h(n,{ref:i,style:{overflowAnchor:"none",flex:"none",position:"relative",visibility:"hidden",width:s?b+"px":"100%",height:s?"100%":b+"px",pointerEvents:S!==K?"none":"auto"}},Z(d)?d:{default:()=>[d],_:2},8,["style"])}}}),ee={style:{padding:"200px 100px"}},te={style:{border:"solid 1px gray"}},ne=D({__name:"WindowVirtualizer",setup(e){const c=[20,40,180,77],u=Array.from({length:1e3}).map((s,i)=>c[i%4]);return(s,i)=>(z(),x("div",ee,[k("div",te,[h(E(V),{data:E(u)},{default:B(({item:t,index:r})=>[(z(),x("div",{key:r,style:U({height:t+"px",background:"white",borderBottom:"solid 1px #ccc"})},H(r),5))]),_:1},8,["data"])])]))}}),oe=Y(ne,[["__scopeId","data-v-16b9c0e0"]]),ae={component:V},_={render:()=>({components:{Component:oe},template:"<Component />"})};var C,I,w;_.parameters={..._.parameters,docs:{...(C=_.parameters)==null?void 0:C.docs,source:{originalSource:`{
  render: () => ({
    components: {
      Component: DefaultComponent
    },
    template: "<Component />"
  })
}`,...(w=(I=_.parameters)==null?void 0:I.docs)==null?void 0:w.source}}};const ie=["Default"];export{_ as Default,ie as __namedExportsOrder,ae as default};
