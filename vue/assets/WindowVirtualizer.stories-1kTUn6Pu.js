import{d as T,b as x,m as u,q as U,s as H,v as h,e as S,i as W,o as v,g as E,j as P,w as q,u as y,n as G,t as J}from"./vue.esm-bundler-lSza16jR.js";import{c as M,U as K,a as F,b as Q,d as X,L as Y,j as Z,k as $,i as ee,A as te,_ as ne}from"./_plugin-vue_export-helper-dXY3n-Nj.js";function oe(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!W(t)}const se={data:{type:Array,required:!0},overscan:Number,itemSize:Number,shift:Boolean,horizontal:Boolean,as:{type:String,default:"div"},item:{type:String,default:"div"}},V=T({props:se,emits:["scroll","scrollEnd"],setup(t,{emit:a,slots:m,expose:f}){const o=t.horizontal,i=x(),e=M(t.data.length,t.itemSize,t.overscan,void 0,void 0,!t.itemSize),p=Z(e,o),l=$(e,o),s=x(e._getStateVersion()),w=e._subscribe(K,()=>{s.value=e._getStateVersion()}),A=e._subscribe(F,()=>{a("scroll",e._getScrollOffset())}),N=e._subscribe(Q,()=>{a("scrollEnd")}),D=u(n=>{s.value;const c=e._getRange();return n&&ee(n,c)?n:c}),O=u(()=>s.value&&e._isScrolling()),L=u(()=>s.value&&e._getTotalSize()),R=u(()=>s.value&&e._getJumpCount());return U(()=>{const n=i.value;n&&(p._observeRoot(n),l._observe(n))}),H(()=>{w(),A(),N(),p._dispose(),l._dispose()}),h(()=>t.data.length,n=>{e._update(te,[n,t.shift])}),h([R],()=>{l._fixScrollJump()},{flush:"post"}),f({findStartIndex:e._findStartIndex,findEndIndex:e._findEndIndex,scrollToIndex:l._scrollToIndex}),()=>{const n=t.as,c=t.item,[j,k]=D.value,b=L.value,d=[];for(let r=j,B=k;r<=B;r++){const g=m.default({item:t.data[r],index:r})[0];d.push(S(Y,{key:X(g,r),_rerender:s,_store:e,_resizer:p._observeItem,_index:r,_children:g,_isHorizontal:o,_as:c},null,8,["_rerender","_store","_resizer","_index","_children","_isHorizontal","_as"]))}return S(n,{ref:i,style:{overflowAnchor:"none",flex:"none",position:"relative",visibility:"hidden",width:o?b+"px":"100%",height:o?"100%":b+"px",pointerEvents:O.value?"none":void 0}},oe(d)?d:{default:()=>[d],_:2},8,["style"])}}}),re={style:{padding:"200px 100px"}},ae={style:{border:"solid 1px gray"}},ie=T({__name:"WindowVirtualizer",setup(t){const a=[20,40,180,77],m=Array.from({length:1e3}).map((f,o)=>a[o%4]);return(f,o)=>(v(),E("div",re,[P("div",ae,[S(y(V),{data:y(m)},{default:q(({item:i,index:e})=>[(v(),E("div",{key:e,style:G({height:i+"px",background:"white",borderBottom:"solid 1px #ccc"})},J(e),5))]),_:1},8,["data"])])]))}}),le=ne(ie,[["__scopeId","data-v-16b9c0e0"]]),ue={component:V},_={render:()=>({components:{Component:le},template:"<Component />"})};var z,I,C;_.parameters={..._.parameters,docs:{...(z=_.parameters)==null?void 0:z.docs,source:{originalSource:`{
  render: () => ({
    components: {
      Component: DefaultComponent
    },
    template: "<Component />"
  })
}`,...(C=(I=_.parameters)==null?void 0:I.docs)==null?void 0:C.source}}};const _e=["Default"];export{_ as Default,_e as __namedExportsOrder,ue as default};
