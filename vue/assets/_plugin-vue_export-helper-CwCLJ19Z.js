import{d as ve,r as Le,k as fe,q as Ee,c as we,s as he,i as ye}from"./iframe-B1i9QHzz.js";const T=null,{min:h,max:E,abs:de,floor:Re}=Math,te=(e,t,s)=>h(s,E(t,e)),Te=e=>[...e].sort((t,s)=>t-s),qe=typeof queueMicrotask=="function"?queueMicrotask:e=>{Promise.resolve().then(e)},F=()=>{let e;return[new Promise(s=>{e=s}),e]},se=e=>{let t;return()=>(e&&(t=e(),e=void 0),t)},V=-1,A=(e,t,s)=>{const n=s?"unshift":"push";for(let r=0;r<t;r++)e[n](V);return e},j=(e,t)=>{const s=e._sizes[t];return s===V?e._defaultItemSize:s},Ce=(e,t,s)=>{const n=e._sizes[t]===V;return e._sizes[t]=s,e._computedOffsetIndex=h(t,e._computedOffsetIndex),n},Y=(e,t)=>{if(!e._length)return 0;if(e._computedOffsetIndex>=t)return e._offsets[t];e._computedOffsetIndex<0&&(e._offsets[0]=0,e._computedOffsetIndex=0);let s=e._computedOffsetIndex,n=e._offsets[s];for(;s<t;)n+=j(e,s),e._offsets[++s]=n;return e._computedOffsetIndex=t,n},Ve=e=>e._length?Y(e,e._length-1)+j(e,e._length-1):0,R=(e,t,s=0,n=e._length-1)=>{for(;s<=n;){const r=Re((s+n)/2),a=Y(e,r);if(a<=t){if(a+j(e,r)>t)return r;s=r+1}else n=r-1}return te(s,0,e._length-1)},ke=(e,t,s,n)=>{if(n=h(n,e._length-1),Y(e,n)<=t){const r=R(e,t+s,n);return[R(e,t,n,r),r]}else{const r=R(e,t,void 0,n);return[r,R(e,t+s,r)]}},Ne=(e,t)=>{let s=0;const n=[];e._sizes.forEach((i,o)=>{i!==V&&(n.push(i),o<t&&s++)}),e._computedOffsetIndex=-1;const r=Te(n),a=r.length,d=a/2|0,_=a%2===0?(r[d-1]+r[d])/2:r[d],l=e._defaultItemSize;return((e._defaultItemSize=_)-l)*E(t-s,0)},Ae=(e,t,s)=>({_defaultItemSize:t,_sizes:s&&s[0]?A(s[0].slice(0,h(e,s[0].length)),E(0,e-s[0].length)):A([],e),_length:e,_computedOffsetIndex:-1,_offsets:A([],e)}),Me=e=>[e._sizes.slice(),e._defaultItemSize],ae=(e,t,s)=>{const n=t-e._length;return e._computedOffsetIndex=s?-1:h(t-1,e._computedOffsetIndex),e._length=t,n>0?(A(e._offsets,n),A(e._sizes,n,s),e._defaultItemSize*n):(e._offsets.splice(n),(s?e._sizes.splice(0,-n):e._sizes.splice(n)).reduce((r,a)=>r-(a===V?e._defaultItemSize:a),0))},De=typeof window<"u",Se=()=>document.documentElement,M=e=>e.ownerDocument,D=e=>e.defaultView,ne=se(()=>De?getComputedStyle(Se()).direction==="rtl":!1),pe=se(()=>/iP(hone|od|ad)/.test(navigator.userAgent)),ge=se(()=>"scrollBehavior"in Se().style),Pe=2147483647,k=0,_e=1,me=2,B=0,Ue=1,H=2,ee=1,$e=2,re=3,oe=4,Je=5,Ie=6,ie=7,le=8,y=1,K=2,We=4,xe=8,je=e=>E(e.$getTotalSize(),e.$getViewportSize()),be=e=>!!e.$getViewportSize(),Ye=(e,t=40,s=4,n=0,r,a=!1)=>{let d=!!n,_=1,l=0,i=0,o=0,f=0,m=0,S=0,c=k,u=B,g=d?[0,E(n-1,0)]:T,b=[0,0],v=0;const I=Ae(e,t,r),X=new Set,P=()=>o-i,U=()=>P()+m+f,ce=p=>ke(I,p,l,b[0]),G=()=>Ve(I),ue=p=>Y(I,p)-m,J=p=>j(I,p),Z=p=>{p&&(pe()&&c!==k?m+=p:f+=p)};return{$getStateVersion:()=>_,$getCacheSnapshot:()=>Me(I),$getRange:()=>{let p,$;return S?[p,$]=b:([p,$]=b=ce(E(0,U())),g&&(p=h(p,g[0]),$=E($,g[1]))),c!==_e&&(p-=E(0,s)),c!==me&&($+=E(0,s)),[E(p,0),h($,I._length-1)]},$findStartIndex:()=>R(I,U()),$findEndIndex:()=>R(I,U()+l),$isUnmeasuredItem:p=>I._sizes[p]===V,_hasUnmeasuredItemsInFrozenRange:()=>g?I._sizes.slice(E(0,g[0]-1),h(I._length-1,g[1]+1)+1).includes(V):!1,$getItemOffset:ue,$getItemSize:J,$getItemsLength:()=>I._length,$getScrollOffset:()=>o,$isScrolling:()=>c!==k,$getViewportSize:()=>l,$getStartSpacerSize:()=>i,$getTotalSize:G,_flushJump:()=>(S=f,f=0,[S,u===H||P()+l>=G()]),$subscribe:(p,$)=>{const N=[p,$];return X.add(N),()=>{X.delete(N)}},$update:(p,$)=>{let N,Q,L=0;switch(p){case ee:{const w=S;S=0;const z=$-o,O=de(z);!(w&&O<de(w)+1)&&u===B&&(c=z<0?me:_e),d&&(g=T,d=!1),o=$,L=We;const x=P();x>=-l&&x<=G()&&(L+=y,Q=O>l);break}case $e:{L=xe,c!==k&&(N=!0,L+=y),c=k,u=B,g=T;break}case re:{const w=$.filter(([z,O])=>I._sizes[z]!==O);if(!w.length)break;Z(w.reduce((z,[O,W])=>((u===H||(g?!d&&O<g[0]:ue(O)+(c===k&&u===B?J(O):0)<P()))&&(z+=W-J(O)),z),0));for(const[z,O]of w){const W=J(z),x=Ce(I,z,O);a&&(v+=x?O:O-W)}a&&l&&v>l&&(Z(Ne(I,R(I,U()))),a=!1),L=y+K,Q=!0;break}case oe:{l!==$&&(l=$,L=y+K);break}case Je:{$[1]?(Z(ae(I,$[0],!0)),u=H,L=y):(ae(I,$[0]),L=y);break}case Ie:{i=$;break}case ie:{u=Ue;break}case le:{g=ce($),L=y;break}}L&&(_=(_&Pe)+1,N&&m&&(f+=m,m=0),X.forEach(([w,z])=>{L&w&&z(Q)}))}}},q=setTimeout,Be=(e,t)=>{let s;const n=()=>{s!=T&&clearTimeout(s)},r=()=>{n(),s=q(()=>{s=T,e()},t)};return r._cancel=n,r},C=(e,t)=>t&&ne()?-e:e,Oe=(e,t,s,n,r,a)=>{const d=Date.now;let _=0,l=!1,i=!1,o=!1,f=!1;const m=Be(()=>{if(l||i){l=!1,m();return}o=!1,e.$update($e)},150),S=()=>{_=d(),o&&(f=!0),a&&e.$update(Ie,a()),e.$update(ee,n()),m()},c=b=>{if(l||!e.$isScrolling()||b.ctrlKey)return;const v=d()-_;150>v&&50<v&&(s?b.deltaX:b.deltaY)&&(l=!0)},u=()=>{i=!0,o=f=!1},g=()=>{i=!1,pe()&&(o=!0)};return t.addEventListener("scroll",S),t.addEventListener("wheel",c,{passive:!0}),t.addEventListener("touchstart",u,{passive:!0}),t.addEventListener("touchend",g,{passive:!0}),{_dispose:()=>{t.removeEventListener("scroll",S),t.removeEventListener("wheel",c),t.removeEventListener("touchstart",u),t.removeEventListener("touchend",g),m._cancel()},_fixScrollJump:()=>{const[b,v]=e._flushJump();b&&(r(C(b,s),v,f),f=!1,v&&e.$getViewportSize()>e.$getTotalSize()&&e.$update(ee,n()))}}},Xe=(e,t)=>{let s,n,r;const[a,d]=F(),_=t?"scrollLeft":"scrollTop",l=t?"overflowX":"overflowY",i=async(o,f)=>{if(!await a)return;r&&r();const S=()=>{const[c,u]=F();return r=()=>{u(!1)},be(e)&&q(r,150),[c,e.$subscribe(K,()=>{u(!0)})]};if(f&&ge()){for(;e.$update(le,o()),!!e._hasUnmeasuredItemsInFrozenRange();){const[c,u]=S();try{if(!await c)return}finally{u()}}s.scrollTo({[t?"left":"top"]:C(o(),t),behavior:"smooth"})}else for(;;){const[c,u]=S();try{if(s[_]=C(o(),t),e.$update(ie),!await c)return}finally{u()}}};return{$observe(o){s=o,n=Oe(e,o,t,()=>C(o[_],t),(f,m,S)=>{if(S){const c=o.style,u=c[l];c[l]="hidden",q(()=>{c[l]=u})}m?(o[_]=e.$getScrollOffset()+f,r&&r()):o[_]+=f}),d(!0)},$dispose(){n&&n._dispose(),d(!1)},$scrollTo(o){i(()=>o)},$scrollBy(o){o+=e.$getScrollOffset(),i(()=>o)},$scrollToIndex(o,{align:f,smooth:m,offset:S=0}={}){if(o=te(o,0,e.$getItemsLength()-1),f==="nearest"){const c=e.$getItemOffset(o),u=e.$getScrollOffset();if(c<u)f="start";else if(c+e.$getItemSize(o)>u+e.$getViewportSize())f="end";else return}i(()=>S+e.$getStartSpacerSize()+e.$getItemOffset(o)+(f==="end"?e.$getItemSize(o)-e.$getViewportSize():f==="center"?(e.$getItemSize(o)-e.$getViewportSize())/2:0),m)},$fixScrollJump:()=>{n&&n._fixScrollJump()}}},Ge=(e,t)=>{let s,n,r;const[a,d]=F(),_=(i,o,f,m,S=0)=>{const c=m?"offsetLeft":"offsetTop",u=S+(m&&ne()?f.innerWidth-i[c]-i.offsetWidth:i[c]),g=i.offsetParent;return i===o||!g?u:_(g,o,f,m,u)},l=async(i,o)=>{if(!await a)return;r&&r();const m=()=>{const[c,u]=F();return r=()=>{u(!1)},be(e)&&q(r,150),[c,e.$subscribe(K,()=>{u(!0)})]},S=D(M(s));if(o&&ge()){for(;e.$update(le,i()),!!e._hasUnmeasuredItemsInFrozenRange();){const[c,u]=m();try{if(!await c)return}finally{u()}}S.scroll({[t?"left":"top"]:C(i(),t),behavior:"smooth"})}else for(;;){const[c,u]=m();try{if(S.scroll({[t?"left":"top"]:C(i(),t)}),e.$update(ie),!await c)return}finally{u()}}};return{$observe(i){s=i;const o=t?"scrollX":"scrollY",f=M(i),m=D(f),S=f.body;n=Oe(e,m,t,()=>C(m[o],t),(c,u)=>{u?m.scroll({[t?"left":"top"]:e.$getScrollOffset()+c}):m.scrollBy(t?c:0,t?0:c)},()=>_(i,S,m,t)),d(!0)},$dispose(){n&&n._dispose(),s=void 0,d(!1)},$fixScrollJump:()=>{n&&n._fixScrollJump()},$scrollToIndex(i,{align:o,smooth:f,offset:m=0}={}){if(!s)return;if(i=te(i,0,e.$getItemsLength()-1),o==="nearest"){const b=e.$getItemOffset(i),v=e.$getScrollOffset();if(b<v)o="start";else if(b+e.$getItemSize(i)>v+e.$getViewportSize())o="end";else return}const S=M(s),c=D(S),u=S.documentElement,g=()=>e.$getViewportSize()-(t?u.clientWidth:u.clientHeight);l(()=>m+_(s,S.body,c,t)+e.$getItemOffset(i)+(o==="end"?e.$getItemSize(i)-(e.$getViewportSize()-g()):o==="center"?(e.$getItemSize(i)-(e.$getViewportSize()-g()))/2:0),f)}}},ze=e=>{let t;return{_observe(s){(t||(t=new(D(M(s))).ResizeObserver(e))).observe(s)},_unobserve(s){t.unobserve(s)},_dispose(){t&&t.disconnect()}}},Ze=(e,t)=>{let s;const n=t?"width":"height",r=new WeakMap,a=ze(d=>{const _=[];for(const{target:l,contentRect:i}of d)if(l.offsetParent)if(l===s)e.$update(oe,i[n]);else{const o=r.get(l);o!=T&&_.push([o,i[n]])}_.length&&e.$update(re,_)});return{$observeRoot(d){a._observe(s=d)},$observeItem:(d,_)=>(r.set(d,_),a._observe(d),()=>{r.delete(d),a._unobserve(d)}),$dispose:a._dispose}},Qe=(e,t)=>{const s=t?"width":"height",n=t?"innerWidth":"innerHeight",r=new WeakMap,a=ze(_=>{const l=[];for(const{target:i,contentRect:o}of _){if(!i.offsetParent)continue;const f=r.get(i);f!=T&&l.push([f,o[s]])}l.length&&e.$update(re,l)});let d;return{$observeRoot(_){const l=D(M(_)),i=()=>{e.$update(oe,l[n])};l.addEventListener("resize",i),i(),d=()=>{l.removeEventListener("resize",i)}},$observeItem:(_,l)=>(r.set(_,l),a._observe(_),()=>{r.delete(_),a._unobserve(_)}),$dispose(){d&&d(),a._dispose()}}};function Fe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!ye(e)}const He=ve({props:{_stateVersion:{type:Object,required:!0},_store:{type:Object,required:!0},_children:{type:Object,required:!0},_resizer:{type:Function,required:!0},_index:{type:Number,required:!0},_isHorizontal:{type:Boolean},_isSSR:{type:Boolean},_as:{type:String,required:!0},_itemProps:Object},setup(e){const t=Le(),s=fe(()=>e._stateVersion.value&&e._store.$getItemOffset(e._index)),n=fe(()=>e._stateVersion.value&&e._store.$isUnmeasuredItem(e._index));return Ee(()=>t.value&&e._index,(r,a,d)=>{d(e._resizer(t.value,e._index))},{flush:"post"}),()=>{const{_children:r,_isHorizontal:a,_isSSR:d,_as:_}=e,l=n.value,{style:i,...o}=e._itemProps??{},f={contain:"layout style",position:l&&d?void 0:"absolute",[a?"height":"width"]:"100%",[a?"top":"left"]:"0px",[a?ne()?"right":"left":"top"]:s.value+"px",visibility:!l||d?"visible":"hidden",...i};return a&&(f.display="inline-flex"),we(_,he({ref:t,style:f},o),Fe(r)?r:{default:()=>[r],_:2},16,["style"])}}}),et=(e,t)=>{const s=e.key;return s??"_"+t},tt=(e,t)=>e[0]===t[0]&&e[1]===t[1],st=(e,t)=>{const s=e.__vccOpts||e;for(const[n,r]of t)s[n]=r;return s};export{Je as A,He as L,y as U,st as _,Xe as a,We as b,Ye as c,xe as d,Ze as e,et as f,je as g,Ie as h,tt as i,Ge as j,Qe as k,qe as m,Te as s};
