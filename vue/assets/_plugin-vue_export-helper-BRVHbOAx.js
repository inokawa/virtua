import{d as Le,r as Ee,a as ue,w as he,c as Te,s as ye,i as Re}from"./iframe-5LklIiUD.js";const k=null,{min:C,max:h,abs:fe,floor:we}=Math,te=(e,t,s)=>C(s,h(t,e)),Ce=e=>[...e].sort((t,s)=>t-s),me=typeof queueMicrotask=="function"?queueMicrotask:e=>{Promise.resolve().then(e)},U=()=>{let e;return[new Promise(s=>{e=s}),e]},Se=e=>{let t;return()=>(e&&(t=e(),e=void 0),t)},M=-1,D=(e,t,s)=>{const n=s?"unshift":"push";for(let o=0;o<t;o++)e[n](M);return e},ge=(e,t)=>{const s=e._sizes[t];return s===M?e._defaultItemSize:s},Ne=(e,t,s)=>{const n=e._sizes[t]===M;return e._sizes[t]=s,e._computedOffsetIndex=C(t,e._computedOffsetIndex),n},q=(e,t)=>{if(!e._length)return 0;if(e._computedOffsetIndex>=t)return e._offsets[t];e._computedOffsetIndex<0&&(e._offsets[0]=0,e._computedOffsetIndex=0);let s=e._computedOffsetIndex,n=e._offsets[s];for(;s<t;)n+=ge(e,s),e._offsets[++s]=n;return e._computedOffsetIndex=t,n},V=(e,t,s=0,n=e._length-1)=>{let o=s;for(;s<=n;){const l=we((s+n)/2);q(e,l)<=t?(o=l,s=l+1):n=l-1}return te(o,0,e._length-1)},Ve=(e,t,s,n)=>{if(n=C(n,e._length-1),q(e,n)<=t){const o=V(e,s,n);return[V(e,t,n,o),o]}else{const o=V(e,t,void 0,n);return[o,V(e,s,o)]}},Ae=(e,t)=>{let s=0;const n=[];e._sizes.forEach((i,r)=>{i!==M&&(n.push(i),r<t&&s++)}),e._computedOffsetIndex=-1;const o=Ce(n),l=o.length,u=l/2|0,c=l%2===0?(o[u-1]+o[u])/2:o[u],f=e._defaultItemSize;return((e._defaultItemSize=c)-f)*h(t-s,0)},ke=(e,t,s)=>({_defaultItemSize:t,_sizes:s?D(s.slice(0,C(e,s.length)),h(0,e-s.length)):D([],e),_length:e,_computedOffsetIndex:-1,_offsets:D([],e+1)}),Me=e=>[e._sizes.slice(),e._defaultItemSize],ae=(e,t,s)=>{const n=t-e._length;return e._computedOffsetIndex=s?-1:C(t-1,e._computedOffsetIndex),e._length=t,n>0?(D(e._offsets,n),D(e._sizes,n,s),e._defaultItemSize*n):(e._offsets.splice(n),(s?e._sizes.splice(0,-n):e._sizes.splice(n)).reduce((o,l)=>o-(l===M?e._defaultItemSize:l),0))},Q=e=>e.documentElement,A=e=>e.ownerDocument,J=e=>e.defaultView,pe=Se(()=>/iP(hone|od|ad)/.test(navigator.userAgent)?!0:navigator.platform==="MacIntel"&&navigator.maxTouchPoints>0),Pe=Se(()=>"scrollBehavior"in Q(document).style),De=2147483647,N=0,de=1,_e=2,P=0,G=1,Z=2,H=1,$e=2,se=3,ne=4,Je=5,Oe=6,ee=7,Ie=8,R=1,j=2,Ue=4,We=8,qe=e=>h(e.$getTotalSize(),e.$getViewportSize()),je=(e,t=40,s=0,n,o=!1)=>{let l=!!s,u=1,c=0,f=0,i=0,r=0,a=0,_=0,m=N,d=P,g=k,$=[0,l?h(s-1,0):-1],z=0,E=!1;const O=ke(e,n?n[1]:t,n&&n[0]),W=new Set,F=()=>i-f,oe=()=>F()+a+r,ie=(p,S)=>Ve(O,p,S,$[0]),Y=()=>q(O,O._length),le=(p,S)=>{const I=q(O,p)-a;return S?Y()-I-x(p):I},x=p=>ge(O,p),ce=(p,S=M)=>O._sizes[p]===S,X=p=>{p&&(pe()&&m!==N||g&&d===G?a+=p:r+=p)};return{$dispose:()=>{W.clear()},$getStateVersion:()=>u,$getCacheSnapshot:()=>Me(O),$getRange:(p=200)=>{if(!E||l)return $;let S,I;if(_)[S,I]=$;else{let T=h(0,oe()),b=T+c;o||(p=h(0,p),m!==de&&(T-=p),m!==_e&&(b+=p)),[S,I]=$=ie(h(0,T),h(0,b)),g&&(S=C(S,g[0]),I=h(I,g[1]))}return[h(S,0),C(I,O._length-1)]},$findItemIndex:p=>V(O,p-f),$isUnmeasuredItem:ce,$getItemOffset:le,$getItemSize:x,$getItemsLength:()=>O._length,$getScrollOffset:()=>i,$isScrolling:()=>m!==N,$getViewportSize:()=>c,$getStartSpacerSize:()=>f,$getTotalSize:Y,_flushJump:()=>(_=r,r=0,[_,d===Z]),$subscribe:(p,S)=>{const I=[p,S];return W.add(I),()=>{W.delete(I)}},$update:(p,S)=>{let I,T,b=0;switch(p){case H:{if(S===i&&d===P)break;const y=_;_=0;const v=S-i,L=fe(v);!(y&&L<fe(y)+1)&&d===P&&(m=v<0?_e:de),l&&(l=!1),i=S,b=Ue;const K=F();K>=-c&&K<=Y()&&(b+=R,T=L>c);break}case $e:{b=We,m!==N&&(I=!0,b+=R),m=N,d=P,g=k;break}case se:{const y=S.filter(([v,L])=>!ce(v,L));if(!y.length)break;X(y.reduce((v,[L,B])=>((d===Z||(g&&d===G?L<g[0]:le(L+(m===N&&d===P?1:0))<F()))&&(v+=B-x(L)),v),0));for(const[v,L]of y){const B=x(v),K=Ne(O,v,L);o&&(z+=K?L:L-B)}o&&c&&z>c&&(X(Ae(O,V(O,oe()))),o=!1),b=R+j,T=!0;break}case ne:{c!==S&&(c||(E=T=!0),c=S,b=R+j);break}case Je:{S[1]?(X(ae(O,S[0],!0)),d=Z,b=R):(ae(O,S[0]),b=R);break}case Oe:{f=S;break}case ee:{d=G;break}case Ie:{g=ie(S,S+c),b=R;break}}b&&(u=(u&De)+1,I&&a&&(r+=a,a=0),W.forEach(([y,v])=>{b&y&&v(T)}))}}},re=setTimeout,xe=(e,t)=>{let s;const n=()=>{s!=k&&clearTimeout(s)},o=()=>{n(),s=re(()=>{s=k,e()},t)};return o._cancel=n,o},w=(e,t)=>t?-e:e,be=(e,t,s,n,o,l)=>{const u=Date.now;let c=0,f=!1,i=!1,r=!1,a=!1;const _=xe(()=>{if(f||i){f=!1,_();return}r=!1,e.$update($e)},150),m=()=>{c=u(),r&&(a=!0),l&&e.$update(Oe,l()),e.$update(H,n()),_()},d=(z=>{if(f||!e.$isScrolling()||z.ctrlKey)return;const E=u()-c;150>E&&50<E&&(s?z.deltaX:z.deltaY)&&(f=!0)}),g=()=>{i=!0,r=a=!1},$=()=>{i=!1,pe()&&(r=!0)};return t.addEventListener("scroll",m),t.addEventListener("wheel",d,{passive:!0}),t.addEventListener("touchstart",g,{passive:!0}),t.addEventListener("touchend",$,{passive:!0}),{_dispose:()=>{t.removeEventListener("scroll",m),t.removeEventListener("wheel",d),t.removeEventListener("touchstart",g),t.removeEventListener("touchend",$),_._cancel()},_fixScrollJump:()=>{const[z,E]=e._flushJump();z&&(o(z,E,a),a=!1,E&&e.$getViewportSize()>e.$getTotalSize()&&e.$update(H,n()))}}},ze=(e,t,s)=>{let n;return[async(o,l)=>{if(!await t())return;n&&n();const u=()=>{const[c,f]=U();return n=()=>{f(!1)},e.$getViewportSize()&&re(n,150),[c,e.$subscribe(j,()=>{f(!0)})]};if(l&&Pe())e.$update(Ie,o()),me(async()=>{for(;;){let c=!0;for(let[r,a]=e.$getRange();r<=a;r++)if(e.$isUnmeasuredItem(r)){c=!1;break}if(c)break;const[f,i]=u();try{if(!await f)return}finally{i()}}e.$update(ee),s(o(),l)});else for(;;){const[c,f]=u();try{if(e.$update(ee),s(o()),!await c)return}finally{f()}}},()=>{n&&n()}]},Fe=(e,t)=>{let s,n,o=U(),l=!1;const u=t?"scrollLeft":"scrollTop",c=t?"overflowX":"overflowY",[f,i]=ze(e,()=>o[0],(r,a)=>{r=w(r,l),a?s.scrollTo({[t?"left":"top"]:r,behavior:"smooth"}):s[u]=r});return{$observe(r){s=r;const a=e.$subscribe(j,()=>{const _=e.$getViewportSize();if(_){const m=r[u],d=A(r).createElement("div");d.style.cssText=`visibility:hidden;min-${t?"width":"height"}:${_+9}px`,r.appendChild(d),r[u]=1,l=r[u]<1,r.removeChild(d),r[u]=m,a()}});n=be(e,r,t,()=>w(r[u],l),(_,m,d)=>{if(d){const g=r.style,$=g[c];g[c]="hidden",re(()=>{g[c]=$})}r[u]=w(e.$getScrollOffset()+_,l),m&&i()}),o[1](!0)},$dispose(){n&&n._dispose(),o[1](!1),o=U()},$isNegative:()=>l,$scrollTo(r){f(()=>r)},$scrollBy(r){r+=e.$getScrollOffset(),f(()=>r)},$scrollToIndex(r,{align:a,smooth:_,offset:m=0}={}){if(r=te(r,0,e.$getItemsLength()-1),a==="nearest"){const d=e.$getItemOffset(r),g=e.$getScrollOffset();if(d<g)a="start";else if(d+e.$getItemSize(r)>g+e.$getViewportSize())a="end";else return}f(()=>m+e.$getStartSpacerSize()+e.$getItemOffset(r)+(a==="end"?e.$getItemSize(r)-e.$getViewportSize():a==="center"?(e.$getItemSize(r)-e.$getViewportSize())/2:0),_)},$fixScrollJump:()=>{n&&n._fixScrollJump()}}},Ye=(e,t)=>{let s,n,o=U(),l=!1;const u=t?"left":"top",[c]=ze(e,()=>o[0],(i,r)=>{i=w(i,l);const a=J(A(s));r?a.scroll({[u]:i,behavior:"smooth"}):a.scroll({[u]:i})}),f=(i,r,a,_,m=0)=>{const d=_?"offsetLeft":"offsetTop",g=m+(_&&l?a.innerWidth-i[d]-i.offsetWidth:i[d]),$=i.offsetParent;return i===r||!$?g:f($,r,a,_,g)};return{$observe(i){s=i;const r=t?"scrollX":"scrollY",a=A(i),_=J(a);t&&(l=getComputedStyle(Q(a)).direction==="rtl"),n=be(e,_,t,()=>w(_[r],l),(m,d)=>{d?_.scroll({[u]:w(e.$getScrollOffset()+m,l)}):_.scrollBy({[u]:w(m,l)})},()=>f(i,a.body,_,t)),o[1](!0)},$dispose(){n&&n._dispose(),s=void 0,o[1](!1),o=U()},$isNegative:()=>l,$fixScrollJump:()=>{n&&n._fixScrollJump()},$scrollToIndex(i,{align:r,smooth:a,offset:_=0}={}){if(!s)return;if(i=te(i,0,e.$getItemsLength()-1),r==="nearest"){const z=e.$getItemOffset(i),E=e.$getScrollOffset();if(z<E)r="start";else if(z+e.$getItemSize(i)>E+e.$getViewportSize())r="end";else return}const m=A(s),d=J(m),g=Q(m),$=()=>e.$getViewportSize()-(t?g.clientWidth:g.clientHeight);c(()=>_+f(s,m.body,d,t)+e.$getItemOffset(i)+(r==="end"?e.$getItemSize(i)-(e.$getViewportSize()-$()):r==="center"?(e.$getItemSize(i)-(e.$getViewportSize()-$()))/2:0),a)}}},ve=e=>{let t;return{_observe(s){(t||(t=new(J(A(s))).ResizeObserver(e))).observe(s)},_unobserve(s){t.unobserve(s)},_dispose(){t&&t.disconnect()}}},Xe=(e,t)=>{let s;const n=t?"width":"height",o=new WeakMap,l=ve(u=>{const c=[];for(const{target:f,contentRect:i}of u)if(f.offsetParent)if(f===s)e.$update(ne,i[n]);else{const r=o.get(f);r!=k&&c.push([r,i[n]])}c.length&&e.$update(se,c)});return{$observeRoot(u){l._observe(s=u)},$observeItem:(u,c)=>(o.set(u,c),l._observe(u),()=>{o.delete(u),l._unobserve(u)}),$dispose:l._dispose}},Ge=(e,t)=>{const s=t?"width":"height",n=t?"innerWidth":"innerHeight",o=new WeakMap,l=ve(c=>{const f=[];for(const{target:i,contentRect:r}of c){if(!i.offsetParent)continue;const a=o.get(i);a!=k&&f.push([a,r[s]])}f.length&&e.$update(se,f)});let u;return{$observeRoot(c){const f=J(A(c)),i=()=>{e.$update(ne,f[n])};f.addEventListener("resize",i),me(i),u=()=>{f.removeEventListener("resize",i)}},$observeItem:(c,f)=>(o.set(c,f),l._observe(c),()=>{o.delete(c),l._unobserve(c)}),$dispose(){u&&u(),l._dispose()}}};function Be(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Re(e)}const Ze=Le({props:{_stateVersion:{type:Object,required:!0},_store:{type:Object,required:!0},_children:{type:Object,required:!0},_resizer:{type:Function,required:!0},_index:{type:Number,required:!0},_isHorizontal:{type:Boolean},_isSSR:{type:Boolean},_isNegative:{type:Boolean},_as:{type:String,required:!0},_itemProps:Object},setup(e){const t=Ee(),s=ue(()=>e._stateVersion.value&&e._store.$getItemOffset(e._index,e._isNegative)),n=ue(()=>e._stateVersion.value&&e._store.$isUnmeasuredItem(e._index));return he(()=>t.value&&e._index,(o,l,u)=>{u(e._resizer(t.value,e._index))},{flush:"post"}),()=>{const{_children:o,_isHorizontal:l,_isSSR:u,_as:c}=e,f=n.value,{style:i,...r}=e._itemProps??{},a={contain:"layout style",position:f&&u?void 0:"absolute",[l?"height":"width"]:"100%",[l?"top":"left"]:"0px",[l?"left":"top"]:s.value+"px",visibility:!f||u?void 0:"hidden",...i};return l&&(a.display="inline-flex"),Te(c,ye({ref:t,style:a},r),Be(o)?o:{default:()=>[o],_:2},16,["style"])}}}),Qe=(e,t)=>{const s=e.key;return s??"_"+t},He=(e,t)=>e[0]===t[0]&&e[1]===t[1],et=(e,t)=>{const s=e.__vccOpts||e;for(const[n,o]of t)s[n]=o;return s};export{Je as A,Ze as L,R as U,et as _,Fe as a,Ue as b,je as c,We as d,Xe as e,Qe as f,qe as g,Oe as h,He as i,Ye as j,Ge as k,Ce as s};
