import{d as V,r as g,k as p,l as B,m as U,q as h,c as S,i as j,b as E,e as H,w as W,u as v,o as z,n as P,t as q}from"./iframe-BmpXDGC6.js";import{c as G,j as M,U as J,b as K,d as F,i as Q,k as X,f as Y,L as Z,A as ee,_ as te}from"./_plugin-vue_export-helper-CZY_i_sw.js";import"./preload-helper-BQ24v_F8.js";function ne(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!j(t)}const oe={data:{type:Array,required:!0},overscan:Number,itemSize:Number,shift:Boolean,horizontal:Boolean,as:{type:String,default:"div"},item:{type:String,default:"div"}},T=V({props:oe,emits:["scroll","scrollEnd"],setup(t,{emit:a,slots:m,expose:_}){const o=t.horizontal,i=g(),e=G(t.data.length,t.itemSize,t.overscan,void 0,void 0,!t.itemSize),f=X(e,o),c=M(e,o),s=g(e.$getStateVersion()),w=e.$subscribe(J,()=>{s.value=e.$getStateVersion()}),C=e.$subscribe(K,()=>{a("scroll")}),A=e.$subscribe(F,()=>{a("scrollEnd")}),N=p(n=>{s.value;const l=e.$getRange();return n&&Q(n,l)?n:l}),D=p(()=>s.value&&e.$isScrolling()),L=p(()=>s.value&&e.$getTotalSize());return B(()=>{const n=i.value;n&&(f.$observeRoot(n),c.$observe(n))}),U(()=>{w(),C(),A(),f.$dispose(),c.$dispose()}),h(()=>t.data.length,n=>{e.$update(ee,[n,t.shift])}),h([s],()=>{c.$fixScrollJump()},{flush:"post"}),_({findStartIndex:e.$findStartIndex,findEndIndex:e.$findEndIndex,scrollToIndex:c.$scrollToIndex}),()=>{const n=t.as,l=t.item,[O,R]=N.value,b=L.value,d=[];for(let r=O,k=R;r<=k;r++){const x=m.default({item:t.data[r],index:r})[0];d.push(S(Z,{key:Y(x,r),_stateVersion:s,_store:e,_resizer:f.$observeItem,_index:r,_children:x,_isHorizontal:o,_as:l},null,8,["_stateVersion","_store","_resizer","_index","_children","_isHorizontal","_as"]))}return S(n,{ref:i,style:{contain:"strict",overflowAnchor:"none",overflow:"clip",flex:"none",position:"relative",width:o?b+"px":"100%",height:o?"100%":b+"px",pointerEvents:D.value?"none":void 0}},ne(d)?d:{default:()=>[d],_:2},8,["style"])}}}),se={style:{padding:"200px 100px"}},re={style:{border:"solid 1px gray"}},ae=V({__name:"WindowVirtualizer",setup(t){const a=[20,40,180,77],m=Array.from({length:1e3}).map((_,o)=>a[o%4]);return(_,o)=>(z(),E("div",se,[H("div",re,[S(v(T),{data:v(m)},{default:W(({item:i,index:e})=>[(z(),E("div",{key:e,style:P({height:i+"px",background:"white",borderBottom:"solid 1px #ccc"})},q(e),5))]),_:1},8,["data"])])]))}}),ie=te(ae,[["__scopeId","data-v-16b9c0e0"]]),ue={component:T},u={render:()=>({components:{Component:ie},template:"<Component />"})};var y,$,I;u.parameters={...u.parameters,docs:{...(y=u.parameters)==null?void 0:y.docs,source:{originalSource:`{
  render: () => ({
    components: {
      Component: DefaultComponent
    },
    template: "<Component />"
  })
}`,...(I=($=u.parameters)==null?void 0:$.docs)==null?void 0:I.source}}};const me=["Default"];export{u as Default,me as __namedExportsOrder,ue as default};
