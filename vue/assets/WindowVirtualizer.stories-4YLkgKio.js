import{d as V,r as h,k as p,l as B,m as U,q as g,c as S,i as j,o as E,b as v,e as H,w as W,u as y,n as P,t as q}from"./iframe-C4NJy6k9.js";import{c as G,U as M,a as J,b as K,f as F,L as Q,j as X,k as Y,i as Z,A as ee,_ as te}from"./_plugin-vue_export-helper-CQEs9aNB.js";import"./preload-helper-BQ24v_F8.js";function ne(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!j(t)}const oe={data:{type:Array,required:!0},overscan:Number,itemSize:Number,shift:Boolean,horizontal:Boolean,as:{type:String,default:"div"},item:{type:String,default:"div"}},T=V({props:oe,emits:["scroll","scrollEnd"],setup(t,{emit:a,slots:m,expose:_}){const o=t.horizontal,i=h(),e=G(t.data.length,t.itemSize,t.overscan,void 0,void 0,!t.itemSize),f=X(e,o),c=Y(e,o),s=h(e.$getStateVersion()),C=e.$subscribe(M,()=>{s.value=e.$getStateVersion()}),w=e.$subscribe(J,()=>{a("scroll")}),A=e.$subscribe(K,()=>{a("scrollEnd")}),N=p(n=>{s.value;const l=e.$getRange();return n&&Z(n,l)?n:l}),D=p(()=>s.value&&e.$isScrolling()),L=p(()=>s.value&&e.$getTotalSize());return B(()=>{const n=i.value;n&&(f.$observeRoot(n),c.$observe(n))}),U(()=>{C(),w(),A(),f.$dispose(),c.$dispose()}),g(()=>t.data.length,n=>{e.$update(ee,[n,t.shift])}),g([s],()=>{c.$fixScrollJump()},{flush:"post"}),_({findStartIndex:e.$findStartIndex,findEndIndex:e.$findEndIndex,scrollToIndex:c.$scrollToIndex}),()=>{const n=t.as,l=t.item,[O,R]=N.value,b=L.value,d=[];for(let r=O,k=R;r<=k;r++){const x=m.default({item:t.data[r],index:r})[0];d.push(S(Q,{key:F(x,r),_stateVersion:s,_store:e,_resizer:f.$observeItem,_index:r,_children:x,_isHorizontal:o,_as:l},null,8,["_stateVersion","_store","_resizer","_index","_children","_isHorizontal","_as"]))}return S(n,{ref:i,style:{overflowAnchor:"none",flex:"none",position:"relative",visibility:"hidden",width:o?b+"px":"100%",height:o?"100%":b+"px",pointerEvents:D.value?"none":void 0}},ne(d)?d:{default:()=>[d],_:2},8,["style"])}}}),se={style:{padding:"200px 100px"}},re={style:{border:"solid 1px gray"}},ae=V({__name:"WindowVirtualizer",setup(t){const a=[20,40,180,77],m=Array.from({length:1e3}).map((_,o)=>a[o%4]);return(_,o)=>(E(),v("div",se,[H("div",re,[S(y(T),{data:y(m)},{default:W(({item:i,index:e})=>[(E(),v("div",{key:e,style:P({height:i+"px",background:"white",borderBottom:"solid 1px #ccc"})},q(e),5))]),_:1},8,["data"])])]))}}),ie=te(ae,[["__scopeId","data-v-16b9c0e0"]]),ue={component:T},u={render:()=>({components:{Component:ie},template:"<Component />"})};var z,$,I;u.parameters={...u.parameters,docs:{...(z=u.parameters)==null?void 0:z.docs,source:{originalSource:`{
  render: () => ({
    components: {
      Component: DefaultComponent
    },
    template: "<Component />"
  })
}`,...(I=($=u.parameters)==null?void 0:$.docs)==null?void 0:I.source}}};const me=["Default"];export{u as Default,me as __namedExportsOrder,ue as default};
