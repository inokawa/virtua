import{d as C,b,m as R,q as U,s as h,e as p,i as j,o as x,g as E,j as B,w as k,u as y,n as H,t as W}from"./vue.esm-bundler-6P8ENG_2.js";import{c as P,U as q,a as G,b as J,d as M,L as K,i as F,j as Q,A as X,_ as Y}from"./_plugin-vue_export-helper-Dk2O1Gx5.js";function Z(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!j(t)}const $={data:{type:Array,required:!0},overscan:Number,itemSize:Number,shift:Boolean,horizontal:Boolean,as:{type:String,default:"div"},item:{type:String,default:"div"}},T=C({props:$,emits:["scroll","scrollEnd"],setup(t,{emit:r,slots:l,expose:d}){const o=t.horizontal,a=b(),e=P(t.data.length,t.itemSize,t.overscan,void 0,void 0,!t.itemSize),_=F(e,o),u=Q(e,o),m=b(e._getStateVersion()),V=e._subscribe(q,()=>{m.value=e._getStateVersion()}),w=e._subscribe(G,()=>{r("scroll",e._getScrollOffset())}),A=e._subscribe(J,()=>{r("scrollEnd")});return R(()=>{const n=a.value;n&&(_._observeRoot(n),u._observe(n))}),U(()=>{V(),w(),A(),_._dispose(),u._dispose()}),h(()=>t.data.length,n=>{e._update(X,[n,t.shift])}),h([m,e._getJumpCount],([,n],[,f])=>{n!==f&&u._fixScrollJump()},{flush:"post"}),d({get startIndex(){return e._getStartIndex()},get endIndex(){return e._getEndIndex()}}),()=>{m.value;const n=t.as,f=t.item,[N,O]=e._getRange(),D=e._isScrolling(),g=e._getTotalSize(),i=[];for(let s=N,L=O;s<=L;s++){const S=l.default({item:t.data[s],index:s})[0];i.push(p(K,{key:M(S,s),_resizer:_._observeItem,_index:s,_offset:e._getItemOffset(s),_hide:e._isUnmeasuredItem(s),_children:S,_isHorizontal:o,_as:f},null,8,["_resizer","_index","_offset","_hide","_children","_isHorizontal","_as"]))}return p(n,{ref:a,style:{overflowAnchor:"none",flex:"none",position:"relative",visibility:"hidden",width:o?g+"px":"100%",height:o?"100%":g+"px",pointerEvents:D?"none":void 0}},Z(i)?i:{default:()=>[i],_:2},8,["style"])}}}),ee={style:{padding:"200px 100px"}},te={style:{border:"solid 1px gray"}},ne=C({__name:"WindowVirtualizer",setup(t){const r=[20,40,180,77],l=Array.from({length:1e3}).map((d,o)=>r[o%4]);return(d,o)=>(x(),E("div",ee,[B("div",te,[p(y(T),{data:y(l)},{default:k(({item:a,index:e})=>[(x(),E("div",{key:e,style:H({height:a+"px",background:"white",borderBottom:"solid 1px #ccc"})},W(e),5))]),_:1},8,["data"])])]))}}),oe=Y(ne,[["__scopeId","data-v-16b9c0e0"]]),ae={component:T},c={render:()=>({components:{Component:oe},template:"<Component />"})};var z,v,I;c.parameters={...c.parameters,docs:{...(z=c.parameters)==null?void 0:z.docs,source:{originalSource:`{
  render: () => ({
    components: {
      Component: DefaultComponent
    },
    template: "<Component />"
  })
}`,...(I=(v=c.parameters)==null?void 0:v.docs)==null?void 0:I.source}}};const ie=["Default"];export{c as Default,ie as __namedExportsOrder,ae as default};
