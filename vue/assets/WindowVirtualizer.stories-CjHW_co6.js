import{d as y,r as g,k as p,l as O,m as R,q as h,c as S,i as k,b as E,e as B,w as U,u as v,o as z,n as j,t as H}from"./iframe-WY9fO4Lu.js";import{c as W,j as P,U as q,b as G,d as M,i as J,k as K,f as F,L as Q,A as X,_ as Y}from"./_plugin-vue_export-helper-CFPzot0l.js";import"./preload-helper-PPVm8Dsz.js";function Z(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!k(t)}const ee={data:{type:Array,required:!0},overscan:Number,itemSize:Number,shift:Boolean,horizontal:Boolean,as:{type:String,default:"div"},item:{type:String,default:"div"}},$=y({props:ee,emits:["scroll","scrollEnd"],setup(t,{emit:a,slots:m,expose:_}){const o=t.horizontal,i=g(),e=W(t.data.length,t.itemSize,t.overscan,void 0,void 0,!t.itemSize),f=K(e,o),c=P(e,o),s=g(e.$getStateVersion()),I=e.$subscribe(q,()=>{s.value=e.$getStateVersion()}),V=e.$subscribe(G,()=>{a("scroll")}),T=e.$subscribe(M,()=>{a("scrollEnd")}),w=p(n=>{s.value;const l=e.$getRange();return n&&J(n,l)?n:l}),C=p(()=>s.value&&e.$isScrolling()),A=p(()=>s.value&&e.$getTotalSize());return O(()=>{const n=i.value;n&&(f.$observeRoot(n),c.$observe(n))}),R(()=>{I(),V(),T(),f.$dispose(),c.$dispose()}),h(()=>t.data.length,n=>{e.$update(X,[n,t.shift])}),h([s],()=>{c.$fixScrollJump()},{flush:"post"}),_({findStartIndex:e.$findStartIndex,findEndIndex:e.$findEndIndex,scrollToIndex:c.$scrollToIndex}),()=>{const n=t.as,l=t.item,[N,D]=w.value,b=A.value,d=[];for(let r=N,L=D;r<=L;r++){const x=m.default({item:t.data[r],index:r})[0];d.push(S(Q,{key:F(x,r),_stateVersion:s,_store:e,_resizer:f.$observeItem,_index:r,_children:x,_isHorizontal:o,_as:l},null,8,["_stateVersion","_store","_resizer","_index","_children","_isHorizontal","_as"]))}return S(n,{ref:i,style:{contain:"size paint style",overflowAnchor:"none",overflow:"clip",flex:"none",position:"relative",width:o?b+"px":"100%",height:o?"100%":b+"px",pointerEvents:C.value?"none":void 0}},Z(d)?d:{default:()=>[d],_:2},8,["style"])}}}),te={style:{padding:"200px 100px"}},ne={style:{border:"solid 1px gray"}},oe=y({__name:"WindowVirtualizer",setup(t){const a=[20,40,180,77],m=Array.from({length:1e3}).map((_,o)=>a[o%4]);return(_,o)=>(z(),E("div",te,[B("div",ne,[S(v($),{data:v(m)},{default:U(({item:i,index:e})=>[(z(),E("div",{key:e,style:j({height:i+"px",background:"white",borderBottom:"solid 1px #ccc"})},H(e),5))]),_:1},8,["data"])])]))}}),se=Y(oe,[["__scopeId","data-v-16b9c0e0"]]),ce={component:$},u={render:()=>({components:{Component:se},template:"<Component />"})};u.parameters={...u.parameters,docs:{...u.parameters?.docs,source:{originalSource:`{
  render: () => ({
    components: {
      Component: DefaultComponent
    },
    template: "<Component />"
  })
}`,...u.parameters?.docs?.source}}};const le=["Default"];export{u as Default,le as __namedExportsOrder,ce as default};
