import{d as Le,r as Ee,k as de,q as he,c as Te,s as we,i as Re}from"./iframe-C61NK6hC.js";const R=null,{min:C,max:L,abs:ae,floor:ye}=Math,te=(e,t,s)=>C(s,L(t,e)),Ce=e=>[...e].sort((t,s)=>t-s),Ve=typeof queueMicrotask=="function"?queueMicrotask:e=>{Promise.resolve().then(e)},M=()=>{let e;return[new Promise(s=>{e=s}),e]},se=e=>{let t;return()=>(e&&(t=e(),e=void 0),t)},V=-1,K=(e,t,s)=>{const n=s?"unshift":"push";for(let i=0;i<t;i++)e[n](V);return e},q=(e,t)=>{const s=e._sizes[t];return s===V?e._defaultItemSize:s},Ne=(e,t,s)=>{const n=e._sizes[t]===V;return e._sizes[t]=s,e._computedOffsetIndex=C(t,e._computedOffsetIndex),n},B=(e,t)=>{if(!e._length)return 0;if(e._computedOffsetIndex>=t)return e._offsets[t];e._computedOffsetIndex<0&&(e._offsets[0]=0,e._computedOffsetIndex=0);let s=e._computedOffsetIndex,n=e._offsets[s];for(;s<t;)n+=q(e,s),e._offsets[++s]=n;return e._computedOffsetIndex=t,n},Ae=e=>e._length?B(e,e._length-1)+q(e,e._length-1):0,w=(e,t,s=0,n=e._length-1)=>{for(;s<=n;){const i=ye((s+n)/2),c=B(e,i);if(c<=t){if(c+q(e,i)>t)return i;s=i+1}else n=i-1}return te(s,0,e._length-1)},ke=(e,t,s,n)=>{if(n=C(n,e._length-1),B(e,n)<=t){const i=w(e,t+s,n);return[w(e,t,n,i),i]}else{const i=w(e,t,void 0,n);return[i,w(e,t+s,i)]}},Me=(e,t)=>{let s=0;const n=[];e._sizes.forEach((o,l)=>{o!==V&&(n.push(o),l<t&&s++)}),e._computedOffsetIndex=-1;const i=Ce(n),c=i.length,f=c/2|0,u=c%2===0?(i[f-1]+i[f])/2:i[f],r=e._defaultItemSize;return((e._defaultItemSize=u)-r)*L(t-s,0)},Pe=(e,t,s)=>({_defaultItemSize:t,_sizes:K([],e),_length:e,_computedOffsetIndex:-1,_offsets:K([],e)}),De=e=>[e._sizes.slice(),e._defaultItemSize],_e=(e,t,s)=>{const n=t-e._length;return e._computedOffsetIndex=s?-1:C(t-1,e._computedOffsetIndex),e._length=t,n>0?(K(e._offsets,n),K(e._sizes,n,s),e._defaultItemSize*n):(e._offsets.splice(n),(s?e._sizes.splice(0,-n):e._sizes.splice(n)).reduce((i,c)=>i-(c===V?e._defaultItemSize:c),0))},Je=typeof window<"u",pe=()=>document.documentElement,A=e=>e.ownerDocument,k=e=>e.defaultView,ne=se(()=>Je?getComputedStyle(pe()).direction==="rtl":!1),ge=se(()=>/iP(hone|od|ad)/.test(navigator.userAgent)?!0:navigator.platform==="MacIntel"&&navigator.maxTouchPoints>0),Ue=se(()=>"scrollBehavior"in pe().style),We=2147483647,y=0,me=1,Se=2,x=0,G=1,Z=2,Q=1,$e=2,re=3,oe=4,xe=5,Oe=6,H=7,Ie=8,T=1,ee=2,Ke=4,qe=8,Ye=e=>L(e.$getTotalSize(),e.$getViewportSize()),Xe=(e,t=40,s=4,n=0,i,c=!1)=>{let f=!!n,u=1,r=0,o=0,l=0,d=0,a=0,p=0,_=y,g=x,$=f?[0,L(n-1,0)]:R,I=[0,0],E=0;const O=Pe(e,t),j=new Set,F=()=>l-o,D=()=>F()+a+d,le=m=>ke(O,m,r,I[0]),ce=()=>Ae(O),ue=m=>B(O,m)-a,J=m=>q(O,m),fe=(m,S=V)=>O._sizes[m]===S,Y=m=>{m&&(ge()&&_!==y||$&&g===G?a+=m:d+=m)};return{$getStateVersion:()=>u,$getCacheSnapshot:()=>De(O),$getRange:()=>{let m,S;return p?[m,S]=I:([m,S]=I=le(L(0,D())),$&&(m=C(m,$[0]),S=L(S,$[1]))),_!==me&&(m-=L(0,s)),_!==Se&&(S+=L(0,s)),[L(m,0),C(S,O._length-1)]},$findStartIndex:()=>w(O,D()),$findEndIndex:()=>w(O,D()+r),$isUnmeasuredItem:fe,$getItemOffset:ue,$getItemSize:J,$getItemsLength:()=>O._length,$getScrollOffset:()=>l,$isScrolling:()=>_!==y,$getViewportSize:()=>r,$getStartSpacerSize:()=>o,$getTotalSize:ce,_flushJump:()=>(p=d,d=0,[p,g===Z]),$subscribe:(m,S)=>{const N=[m,S];return j.add(N),()=>{j.delete(N)}},$update:(m,S)=>{let N,X,v=0;switch(m){case Q:{const h=p;p=0;const z=S-l,b=ae(z);!(h&&b<ae(h)+1)&&g===x&&(_=z<0?Se:me),f&&($=R,f=!1),l=S,v=Ke;const W=F();W>=-r&&W<=ce()&&(v+=T,X=b>r);break}case $e:{v=qe,_!==y&&(N=!0,v+=T),_=y,g=x,$=R;break}case re:{const h=S.filter(([z,b])=>!fe(z,b));if(!h.length)break;Y(h.reduce((z,[b,U])=>((g===Z||($&&g===G?b<$[0]:ue(b)+(_===y&&g===x?J(b):0)<F()))&&(z+=U-J(b)),z),0));for(const[z,b]of h){const U=J(z),W=Ne(O,z,b);c&&(E+=W?b:b-U)}c&&r&&E>r&&(Y(Me(O,w(O,D()))),c=!1),v=T+ee,X=!0;break}case oe:{r!==S&&(r=S,v=T+ee);break}case xe:{S[1]?(Y(_e(O,S[0],!0)),g=Z,v=T):(_e(O,S[0]),v=T);break}case Oe:{o=S;break}case H:{g=G;break}case Ie:{$=le(S),v=T;break}}v&&(u=(u&We)+1,N&&a&&(d+=a,a=0),j.forEach(([h,z])=>{v&h&&z(X)}))}}},ie=setTimeout,Be=(e,t)=>{let s;const n=()=>{s!=R&&clearTimeout(s)},i=()=>{n(),s=ie(()=>{s=R,e()},t)};return i._cancel=n,i},P=(e,t)=>t&&ne()?-e:e,be=(e,t,s,n,i,c)=>{const f=Date.now;let u=0,r=!1,o=!1,l=!1,d=!1;const a=Be(()=>{if(r||o){r=!1,a();return}l=!1,e.$update($e)},150),p=()=>{u=f(),l&&(d=!0),c&&e.$update(Oe,c()),e.$update(Q,n()),a()},_=(I=>{if(r||!e.$isScrolling()||I.ctrlKey)return;const E=f()-u;150>E&&50<E&&(s?I.deltaX:I.deltaY)&&(r=!0)}),g=()=>{o=!0,l=d=!1},$=()=>{o=!1,ge()&&(l=!0)};return t.addEventListener("scroll",p),t.addEventListener("wheel",_,{passive:!0}),t.addEventListener("touchstart",g,{passive:!0}),t.addEventListener("touchend",$,{passive:!0}),{_dispose:()=>{t.removeEventListener("scroll",p),t.removeEventListener("wheel",_),t.removeEventListener("touchstart",g),t.removeEventListener("touchend",$),a._cancel()},_fixScrollJump:()=>{const[I,E]=e._flushJump();I&&(i(P(I,s),E,d),d=!1,E&&e.$getViewportSize()>e.$getTotalSize()&&e.$update(Q,n()))}}},ze=(e,t,s)=>{let n;return[async(i,c)=>{if(!await t())return;n&&n();const f=()=>{const[u,r]=M();return n=()=>{r(!1)},e.$getViewportSize()&&ie(n,150),[u,e.$subscribe(ee,()=>{r(!0)})]};if(c&&Ue())e.$update(Ie,i()),Ve(async()=>{for(;;){let u=!0;for(let[l,d]=e.$getRange();l<=d;l++)if(e.$isUnmeasuredItem(l)){u=!1;break}if(u)break;const[r,o]=f();try{if(!await r)return}finally{o()}}e.$update(H),s(i(),c)});else for(;;){const[u,r]=f();try{if(e.$update(H),s(i()),!await u)return}finally{r()}}},()=>{n&&n()}]},Ge=(e,t)=>{let s,n,i=M();const c=t?"scrollLeft":"scrollTop",f=t?"overflowX":"overflowY",[u,r]=ze(e,()=>i[0],(o,l)=>{o=P(o,t),l?s.scrollTo({[t?"left":"top"]:o,behavior:"smooth"}):s[c]=o});return{$observe(o){s=o,n=be(e,o,t,()=>P(o[c],t),(l,d,a)=>{if(a){const p=o.style,_=p[f];p[f]="hidden",ie(()=>{p[f]=_})}o[c]=e.$getScrollOffset()+l,d&&r()}),i[1](!0)},$dispose(){n&&n._dispose(),i[1](!1),i=M()},$scrollTo(o){u(()=>o)},$scrollBy(o){o+=e.$getScrollOffset(),u(()=>o)},$scrollToIndex(o,{align:l,smooth:d,offset:a=0}={}){if(o=te(o,0,e.$getItemsLength()-1),l==="nearest"){const p=e.$getItemOffset(o),_=e.$getScrollOffset();if(p<_)l="start";else if(p+e.$getItemSize(o)>_+e.$getViewportSize())l="end";else return}u(()=>a+e.$getStartSpacerSize()+e.$getItemOffset(o)+(l==="end"?e.$getItemSize(o)-e.$getViewportSize():l==="center"?(e.$getItemSize(o)-e.$getViewportSize())/2:0),d)},$fixScrollJump:()=>{n&&n._fixScrollJump()}}},Ze=(e,t)=>{let s,n,i=M();const c=t?"left":"top",[f]=ze(e,()=>i[0],(r,o)=>{r=P(r,t);const l=k(A(s));o?l.scroll({[c]:r,behavior:"smooth"}):l.scroll({[c]:r})}),u=(r,o,l,d,a=0)=>{const p=d?"offsetLeft":"offsetTop",_=a+(d&&ne()?l.innerWidth-r[p]-r.offsetWidth:r[p]),g=r.offsetParent;return r===o||!g?_:u(g,o,l,d,_)};return{$observe(r){s=r;const o=t?"scrollX":"scrollY",l=A(r),d=k(l);n=be(e,d,t,()=>P(d[o],t),a=>{d.scroll({[c]:e.$getScrollOffset()+a})},()=>u(r,l.body,d,t)),i[1](!0)},$dispose(){n&&n._dispose(),s=void 0,i[1](!1),i=M()},$fixScrollJump:()=>{n&&n._fixScrollJump()},$scrollToIndex(r,{align:o,smooth:l,offset:d=0}={}){if(!s)return;if(r=te(r,0,e.$getItemsLength()-1),o==="nearest"){const $=e.$getItemOffset(r),I=e.$getScrollOffset();if($<I)o="start";else if($+e.$getItemSize(r)>I+e.$getViewportSize())o="end";else return}const a=A(s),p=k(a),_=a.documentElement,g=()=>e.$getViewportSize()-(t?_.clientWidth:_.clientHeight);f(()=>d+u(s,a.body,p,t)+e.$getItemOffset(r)+(o==="end"?e.$getItemSize(r)-(e.$getViewportSize()-g()):o==="center"?(e.$getItemSize(r)-(e.$getViewportSize()-g()))/2:0),l)}}},ve=e=>{let t;return{_observe(s){(t||(t=new(k(A(s))).ResizeObserver(e))).observe(s)},_unobserve(s){t.unobserve(s)},_dispose(){t&&t.disconnect()}}},Qe=(e,t)=>{let s;const n=t?"width":"height",i=new WeakMap,c=ve(f=>{const u=[];for(const{target:r,contentRect:o}of f)if(r.offsetParent)if(r===s)e.$update(oe,o[n]);else{const l=i.get(r);l!=R&&u.push([l,o[n]])}u.length&&e.$update(re,u)});return{$observeRoot(f){c._observe(s=f)},$observeItem:(f,u)=>(i.set(f,u),c._observe(f),()=>{i.delete(f),c._unobserve(f)}),$dispose:c._dispose}},He=(e,t)=>{const s=t?"width":"height",n=t?"innerWidth":"innerHeight",i=new WeakMap,c=ve(u=>{const r=[];for(const{target:o,contentRect:l}of u){if(!o.offsetParent)continue;const d=i.get(o);d!=R&&r.push([d,l[s]])}r.length&&e.$update(re,r)});let f;return{$observeRoot(u){const r=k(A(u)),o=()=>{e.$update(oe,r[n])};r.addEventListener("resize",o),o(),f=()=>{r.removeEventListener("resize",o)}},$observeItem:(u,r)=>(i.set(u,r),c._observe(u),()=>{i.delete(u),c._unobserve(u)}),$dispose(){f&&f(),c._dispose()}}};function je(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Re(e)}const et=Le({props:{_stateVersion:{type:Object,required:!0},_store:{type:Object,required:!0},_children:{type:Object,required:!0},_resizer:{type:Function,required:!0},_index:{type:Number,required:!0},_isHorizontal:{type:Boolean},_isSSR:{type:Boolean},_as:{type:String,required:!0},_itemProps:Object},setup(e){const t=Ee(),s=de(()=>e._stateVersion.value&&e._store.$getItemOffset(e._index)),n=de(()=>e._stateVersion.value&&e._store.$isUnmeasuredItem(e._index));return he(()=>t.value&&e._index,(i,c,f)=>{f(e._resizer(t.value,e._index))},{flush:"post"}),()=>{const{_children:i,_isHorizontal:c,_isSSR:f,_as:u}=e,r=n.value,{style:o,...l}=e._itemProps??{},d={contain:"layout style",position:r&&f?void 0:"absolute",[c?"height":"width"]:"100%",[c?"top":"left"]:"0px",[c?ne()?"right":"left":"top"]:s.value+"px",visibility:!r||f?"visible":"hidden",...o};return c&&(d.display="inline-flex"),Te(u,we({ref:t,style:d},l),je(i)?i:{default:()=>[i],_:2},16,["style"])}}}),tt=(e,t)=>{const s=e.key;return s??"_"+t},st=(e,t)=>e[0]===t[0]&&e[1]===t[1],nt=(e,t)=>{const s=e.__vccOpts||e;for(const[n,i]of t)s[n]=i;return s};export{xe as A,et as L,T as U,nt as _,Ge as a,Ke as b,Xe as c,qe as d,Qe as e,tt as f,Ye as g,Oe as h,st as i,Ze as j,He as k,Ce as s};
