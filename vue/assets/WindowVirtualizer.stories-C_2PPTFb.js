import{d as y,r as h,k as p,l as D,m as L,q as x,c as S,i as O,b as E,e as R,w as k,u as v,o as z,n as B,t as U}from"./iframe-C61NK6hC.js";import{c as j,j as H,U as W,b as P,d as q,i as G,k as M,f as J,L as K,A as F,_ as Q}from"./_plugin-vue_export-helper-DaQdyx7J.js";import"./preload-helper-PPVm8Dsz.js";function X(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!O(t)}const Y={data:{type:Array,required:!0},overscan:Number,itemSize:Number,shift:Boolean,horizontal:Boolean,as:{type:String,default:"div"},item:{type:String,default:"div"}},$=y({props:Y,emits:["scroll","scrollEnd"],setup(t,{emit:a,slots:m,expose:_}){const o=t.horizontal,i=h(),e=j(t.data.length,t.itemSize,t.overscan,void 0,void 0,!t.itemSize),f=M(e,o),l=H(e,o),s=h(e.$getStateVersion()),V=e.$subscribe(W,()=>{s.value=e.$getStateVersion()}),T=e.$subscribe(P,()=>{a("scroll")}),I=e.$subscribe(q,()=>{a("scrollEnd")}),w=p(n=>{s.value;const c=e.$getRange();return n&&G(n,c)?n:c}),C=p(()=>s.value&&e.$isScrolling()),A=p(()=>s.value&&e.$getTotalSize());return D(()=>{const n=i.value;n&&(f.$observeRoot(n),l.$observe(n))}),L(()=>{V(),T(),I(),f.$dispose(),l.$dispose()}),x(()=>t.data.length,n=>{e.$update(F,[n,t.shift])}),x([s],()=>{l.$fixScrollJump()},{flush:"post"}),_({findStartIndex:e.$findStartIndex,findEndIndex:e.$findEndIndex,scrollToIndex:l.$scrollToIndex}),()=>{const n=t.as,c=t.item,b=A.value,d=[];for(let[r,N]=w.value;r<=N;r++){const g=m.default({item:t.data[r],index:r})[0];d.push(S(K,{key:J(g,r),_stateVersion:s,_store:e,_resizer:f.$observeItem,_index:r,_children:g,_isHorizontal:o,_as:c},null,8,["_stateVersion","_store","_resizer","_index","_children","_isHorizontal","_as"]))}return S(n,{ref:i,style:{contain:"size paint style",overflowAnchor:"none",overflow:"clip",flex:"none",position:"relative",width:o?b+"px":"100%",height:o?"100%":b+"px",pointerEvents:C.value?"none":void 0}},X(d)?d:{default:()=>[d],_:2},8,["style"])}}}),Z={style:{padding:"200px 100px"}},ee={style:{border:"solid 1px gray"}},te=y({__name:"WindowVirtualizer",setup(t){const a=[20,40,180,77],m=Array.from({length:1e3}).map((_,o)=>a[o%4]);return(_,o)=>(z(),E("div",Z,[R("div",ee,[S(v($),{data:v(m)},{default:k(({item:i,index:e})=>[(z(),E("div",{key:e,style:B({height:i+"px",background:"white",borderBottom:"solid 1px #ccc"})},U(e),5))]),_:1},8,["data"])])]))}}),ne=Q(te,[["__scopeId","data-v-16b9c0e0"]]),ae={component:$},u={render:()=>({components:{Component:ne},template:"<Component />"})};u.parameters={...u.parameters,docs:{...u.parameters?.docs,source:{originalSource:`{
  render: () => ({
    components: {
      Component: DefaultComponent
    },
    template: "<Component />"
  })
}`,...u.parameters?.docs?.source}}};const ie=["Default"];export{u as Default,ie as __namedExportsOrder,ae as default};
